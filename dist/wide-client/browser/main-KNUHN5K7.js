import{a as SS,b as kS,c as TS,d as PS}from"./chunk-OLQAIBOQ.js";import{Sa as AS,ab as _S,bb as ES,o as _t,p as CS}from"./chunk-3MIU26GC.js";import"./chunk-X6YHEMIY.js";import{a as c0,b as i1,c as Dh,e as I0,f as c1,g as M5,h as a4,i as MS,k as y0}from"./chunk-XU43R4EC.js";var dz=c1(()=>{"use strict"});var pz=c1((_z0,fp)=>{"use strict";(function(t){"use strict";var e=function(k){var N,V=new Float64Array(16);if(k)for(N=0;N<k.length;N++)V[N]=k[N];return V},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),o=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(k,N,V,x){k[N]=V>>24&255,k[N+1]=V>>16&255,k[N+2]=V>>8&255,k[N+3]=V&255,k[N+4]=x>>24&255,k[N+5]=x>>16&255,k[N+6]=x>>8&255,k[N+7]=x&255}function f(k,N,V,x,j){var l0,x0=0;for(l0=0;l0<j;l0++)x0|=k[N+l0]^V[x+l0];return(1&x0-1>>>8)-1}function w(k,N,V,x){return f(k,N,V,x,16)}function L(k,N,V,x){return f(k,N,V,x,32)}function A(k,N,V,x){for(var j=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,l0=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,x0=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,T0=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,N0=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,d1=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,q0=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,E1=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,o1=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,P1=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,I1=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,Z1=V[16]&255|(V[17]&255)<<8|(V[18]&255)<<16|(V[19]&255)<<24,V1=V[20]&255|(V[21]&255)<<8|(V[22]&255)<<16|(V[23]&255)<<24,j1=V[24]&255|(V[25]&255)<<8|(V[26]&255)<<16|(V[27]&255)<<24,W1=V[28]&255|(V[29]&255)<<8|(V[30]&255)<<16|(V[31]&255)<<24,U1=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,p1=j,A1=l0,u1=x0,b1=T0,z1=N0,a1=d1,_0=q0,E0=E1,G0=o1,V0=P1,B0=I1,$0=Z1,R1=V1,l2=j1,m2=W1,h2=U1,t0,A2=0;A2<20;A2+=2)t0=p1+R1|0,z1^=t0<<7|t0>>>32-7,t0=z1+p1|0,G0^=t0<<9|t0>>>32-9,t0=G0+z1|0,R1^=t0<<13|t0>>>32-13,t0=R1+G0|0,p1^=t0<<18|t0>>>32-18,t0=a1+A1|0,V0^=t0<<7|t0>>>32-7,t0=V0+a1|0,l2^=t0<<9|t0>>>32-9,t0=l2+V0|0,A1^=t0<<13|t0>>>32-13,t0=A1+l2|0,a1^=t0<<18|t0>>>32-18,t0=B0+_0|0,m2^=t0<<7|t0>>>32-7,t0=m2+B0|0,u1^=t0<<9|t0>>>32-9,t0=u1+m2|0,_0^=t0<<13|t0>>>32-13,t0=_0+u1|0,B0^=t0<<18|t0>>>32-18,t0=h2+$0|0,b1^=t0<<7|t0>>>32-7,t0=b1+h2|0,E0^=t0<<9|t0>>>32-9,t0=E0+b1|0,$0^=t0<<13|t0>>>32-13,t0=$0+E0|0,h2^=t0<<18|t0>>>32-18,t0=p1+b1|0,A1^=t0<<7|t0>>>32-7,t0=A1+p1|0,u1^=t0<<9|t0>>>32-9,t0=u1+A1|0,b1^=t0<<13|t0>>>32-13,t0=b1+u1|0,p1^=t0<<18|t0>>>32-18,t0=a1+z1|0,_0^=t0<<7|t0>>>32-7,t0=_0+a1|0,E0^=t0<<9|t0>>>32-9,t0=E0+_0|0,z1^=t0<<13|t0>>>32-13,t0=z1+E0|0,a1^=t0<<18|t0>>>32-18,t0=B0+V0|0,$0^=t0<<7|t0>>>32-7,t0=$0+B0|0,G0^=t0<<9|t0>>>32-9,t0=G0+$0|0,V0^=t0<<13|t0>>>32-13,t0=V0+G0|0,B0^=t0<<18|t0>>>32-18,t0=h2+m2|0,R1^=t0<<7|t0>>>32-7,t0=R1+h2|0,l2^=t0<<9|t0>>>32-9,t0=l2+R1|0,m2^=t0<<13|t0>>>32-13,t0=m2+l2|0,h2^=t0<<18|t0>>>32-18;p1=p1+j|0,A1=A1+l0|0,u1=u1+x0|0,b1=b1+T0|0,z1=z1+N0|0,a1=a1+d1|0,_0=_0+q0|0,E0=E0+E1|0,G0=G0+o1|0,V0=V0+P1|0,B0=B0+I1|0,$0=$0+Z1|0,R1=R1+V1|0,l2=l2+j1|0,m2=m2+W1|0,h2=h2+U1|0,k[0]=p1>>>0&255,k[1]=p1>>>8&255,k[2]=p1>>>16&255,k[3]=p1>>>24&255,k[4]=A1>>>0&255,k[5]=A1>>>8&255,k[6]=A1>>>16&255,k[7]=A1>>>24&255,k[8]=u1>>>0&255,k[9]=u1>>>8&255,k[10]=u1>>>16&255,k[11]=u1>>>24&255,k[12]=b1>>>0&255,k[13]=b1>>>8&255,k[14]=b1>>>16&255,k[15]=b1>>>24&255,k[16]=z1>>>0&255,k[17]=z1>>>8&255,k[18]=z1>>>16&255,k[19]=z1>>>24&255,k[20]=a1>>>0&255,k[21]=a1>>>8&255,k[22]=a1>>>16&255,k[23]=a1>>>24&255,k[24]=_0>>>0&255,k[25]=_0>>>8&255,k[26]=_0>>>16&255,k[27]=_0>>>24&255,k[28]=E0>>>0&255,k[29]=E0>>>8&255,k[30]=E0>>>16&255,k[31]=E0>>>24&255,k[32]=G0>>>0&255,k[33]=G0>>>8&255,k[34]=G0>>>16&255,k[35]=G0>>>24&255,k[36]=V0>>>0&255,k[37]=V0>>>8&255,k[38]=V0>>>16&255,k[39]=V0>>>24&255,k[40]=B0>>>0&255,k[41]=B0>>>8&255,k[42]=B0>>>16&255,k[43]=B0>>>24&255,k[44]=$0>>>0&255,k[45]=$0>>>8&255,k[46]=$0>>>16&255,k[47]=$0>>>24&255,k[48]=R1>>>0&255,k[49]=R1>>>8&255,k[50]=R1>>>16&255,k[51]=R1>>>24&255,k[52]=l2>>>0&255,k[53]=l2>>>8&255,k[54]=l2>>>16&255,k[55]=l2>>>24&255,k[56]=m2>>>0&255,k[57]=m2>>>8&255,k[58]=m2>>>16&255,k[59]=m2>>>24&255,k[60]=h2>>>0&255,k[61]=h2>>>8&255,k[62]=h2>>>16&255,k[63]=h2>>>24&255}function _(k,N,V,x){for(var j=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,l0=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,x0=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,T0=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,N0=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,d1=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,q0=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,E1=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,o1=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,P1=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,I1=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,Z1=V[16]&255|(V[17]&255)<<8|(V[18]&255)<<16|(V[19]&255)<<24,V1=V[20]&255|(V[21]&255)<<8|(V[22]&255)<<16|(V[23]&255)<<24,j1=V[24]&255|(V[25]&255)<<8|(V[26]&255)<<16|(V[27]&255)<<24,W1=V[28]&255|(V[29]&255)<<8|(V[30]&255)<<16|(V[31]&255)<<24,U1=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,p1=j,A1=l0,u1=x0,b1=T0,z1=N0,a1=d1,_0=q0,E0=E1,G0=o1,V0=P1,B0=I1,$0=Z1,R1=V1,l2=j1,m2=W1,h2=U1,t0,A2=0;A2<20;A2+=2)t0=p1+R1|0,z1^=t0<<7|t0>>>32-7,t0=z1+p1|0,G0^=t0<<9|t0>>>32-9,t0=G0+z1|0,R1^=t0<<13|t0>>>32-13,t0=R1+G0|0,p1^=t0<<18|t0>>>32-18,t0=a1+A1|0,V0^=t0<<7|t0>>>32-7,t0=V0+a1|0,l2^=t0<<9|t0>>>32-9,t0=l2+V0|0,A1^=t0<<13|t0>>>32-13,t0=A1+l2|0,a1^=t0<<18|t0>>>32-18,t0=B0+_0|0,m2^=t0<<7|t0>>>32-7,t0=m2+B0|0,u1^=t0<<9|t0>>>32-9,t0=u1+m2|0,_0^=t0<<13|t0>>>32-13,t0=_0+u1|0,B0^=t0<<18|t0>>>32-18,t0=h2+$0|0,b1^=t0<<7|t0>>>32-7,t0=b1+h2|0,E0^=t0<<9|t0>>>32-9,t0=E0+b1|0,$0^=t0<<13|t0>>>32-13,t0=$0+E0|0,h2^=t0<<18|t0>>>32-18,t0=p1+b1|0,A1^=t0<<7|t0>>>32-7,t0=A1+p1|0,u1^=t0<<9|t0>>>32-9,t0=u1+A1|0,b1^=t0<<13|t0>>>32-13,t0=b1+u1|0,p1^=t0<<18|t0>>>32-18,t0=a1+z1|0,_0^=t0<<7|t0>>>32-7,t0=_0+a1|0,E0^=t0<<9|t0>>>32-9,t0=E0+_0|0,z1^=t0<<13|t0>>>32-13,t0=z1+E0|0,a1^=t0<<18|t0>>>32-18,t0=B0+V0|0,$0^=t0<<7|t0>>>32-7,t0=$0+B0|0,G0^=t0<<9|t0>>>32-9,t0=G0+$0|0,V0^=t0<<13|t0>>>32-13,t0=V0+G0|0,B0^=t0<<18|t0>>>32-18,t0=h2+m2|0,R1^=t0<<7|t0>>>32-7,t0=R1+h2|0,l2^=t0<<9|t0>>>32-9,t0=l2+R1|0,m2^=t0<<13|t0>>>32-13,t0=m2+l2|0,h2^=t0<<18|t0>>>32-18;k[0]=p1>>>0&255,k[1]=p1>>>8&255,k[2]=p1>>>16&255,k[3]=p1>>>24&255,k[4]=a1>>>0&255,k[5]=a1>>>8&255,k[6]=a1>>>16&255,k[7]=a1>>>24&255,k[8]=B0>>>0&255,k[9]=B0>>>8&255,k[10]=B0>>>16&255,k[11]=B0>>>24&255,k[12]=h2>>>0&255,k[13]=h2>>>8&255,k[14]=h2>>>16&255,k[15]=h2>>>24&255,k[16]=_0>>>0&255,k[17]=_0>>>8&255,k[18]=_0>>>16&255,k[19]=_0>>>24&255,k[20]=E0>>>0&255,k[21]=E0>>>8&255,k[22]=E0>>>16&255,k[23]=E0>>>24&255,k[24]=G0>>>0&255,k[25]=G0>>>8&255,k[26]=G0>>>16&255,k[27]=G0>>>24&255,k[28]=V0>>>0&255,k[29]=V0>>>8&255,k[30]=V0>>>16&255,k[31]=V0>>>24&255}function R(k,N,V,x){A(k,N,V,x)}function G(k,N,V,x){_(k,N,V,x)}var K=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Z(k,N,V,x,j,l0,x0){var T0=new Uint8Array(16),N0=new Uint8Array(64),d1,q0;for(q0=0;q0<16;q0++)T0[q0]=0;for(q0=0;q0<8;q0++)T0[q0]=l0[q0];for(;j>=64;){for(R(N0,T0,x0,K),q0=0;q0<64;q0++)k[N+q0]=V[x+q0]^N0[q0];for(d1=1,q0=8;q0<16;q0++)d1=d1+(T0[q0]&255)|0,T0[q0]=d1&255,d1>>>=8;j-=64,N+=64,x+=64}if(j>0)for(R(N0,T0,x0,K),q0=0;q0<j;q0++)k[N+q0]=V[x+q0]^N0[q0];return 0}function $(k,N,V,x,j){var l0=new Uint8Array(16),x0=new Uint8Array(64),T0,N0;for(N0=0;N0<16;N0++)l0[N0]=0;for(N0=0;N0<8;N0++)l0[N0]=x[N0];for(;V>=64;){for(R(x0,l0,j,K),N0=0;N0<64;N0++)k[N+N0]=x0[N0];for(T0=1,N0=8;N0<16;N0++)T0=T0+(l0[N0]&255)|0,l0[N0]=T0&255,T0>>>=8;V-=64,N+=64}if(V>0)for(R(x0,l0,j,K),N0=0;N0<V;N0++)k[N+N0]=x0[N0];return 0}function n0(k,N,V,x,j){var l0=new Uint8Array(32);G(l0,x,j,K);for(var x0=new Uint8Array(8),T0=0;T0<8;T0++)x0[T0]=x[T0+16];return $(k,N,V,x0,l0)}function h0(k,N,V,x,j,l0,x0){var T0=new Uint8Array(32);G(T0,l0,x0,K);for(var N0=new Uint8Array(8),d1=0;d1<8;d1++)N0[d1]=l0[d1+16];return Z(k,N,V,x,j,N0,T0)}var X=function(k){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var N,V,x,j,l0,x0,T0,N0;N=k[0]&255|(k[1]&255)<<8,this.r[0]=N&8191,V=k[2]&255|(k[3]&255)<<8,this.r[1]=(N>>>13|V<<3)&8191,x=k[4]&255|(k[5]&255)<<8,this.r[2]=(V>>>10|x<<6)&7939,j=k[6]&255|(k[7]&255)<<8,this.r[3]=(x>>>7|j<<9)&8191,l0=k[8]&255|(k[9]&255)<<8,this.r[4]=(j>>>4|l0<<12)&255,this.r[5]=l0>>>1&8190,x0=k[10]&255|(k[11]&255)<<8,this.r[6]=(l0>>>14|x0<<2)&8191,T0=k[12]&255|(k[13]&255)<<8,this.r[7]=(x0>>>11|T0<<5)&8065,N0=k[14]&255|(k[15]&255)<<8,this.r[8]=(T0>>>8|N0<<8)&8191,this.r[9]=N0>>>5&127,this.pad[0]=k[16]&255|(k[17]&255)<<8,this.pad[1]=k[18]&255|(k[19]&255)<<8,this.pad[2]=k[20]&255|(k[21]&255)<<8,this.pad[3]=k[22]&255|(k[23]&255)<<8,this.pad[4]=k[24]&255|(k[25]&255)<<8,this.pad[5]=k[26]&255|(k[27]&255)<<8,this.pad[6]=k[28]&255|(k[29]&255)<<8,this.pad[7]=k[30]&255|(k[31]&255)<<8};X.prototype.blocks=function(k,N,V){for(var x=this.fin?0:2048,j,l0,x0,T0,N0,d1,q0,E1,o1,P1,I1,Z1,V1,j1,W1,U1,p1,A1,u1,b1=this.h[0],z1=this.h[1],a1=this.h[2],_0=this.h[3],E0=this.h[4],G0=this.h[5],V0=this.h[6],B0=this.h[7],$0=this.h[8],R1=this.h[9],l2=this.r[0],m2=this.r[1],h2=this.r[2],t0=this.r[3],A2=this.r[4],Y2=this.r[5],J2=this.r[6],w2=this.r[7],U2=this.r[8],G2=this.r[9];V>=16;)j=k[N+0]&255|(k[N+1]&255)<<8,b1+=j&8191,l0=k[N+2]&255|(k[N+3]&255)<<8,z1+=(j>>>13|l0<<3)&8191,x0=k[N+4]&255|(k[N+5]&255)<<8,a1+=(l0>>>10|x0<<6)&8191,T0=k[N+6]&255|(k[N+7]&255)<<8,_0+=(x0>>>7|T0<<9)&8191,N0=k[N+8]&255|(k[N+9]&255)<<8,E0+=(T0>>>4|N0<<12)&8191,G0+=N0>>>1&8191,d1=k[N+10]&255|(k[N+11]&255)<<8,V0+=(N0>>>14|d1<<2)&8191,q0=k[N+12]&255|(k[N+13]&255)<<8,B0+=(d1>>>11|q0<<5)&8191,E1=k[N+14]&255|(k[N+15]&255)<<8,$0+=(q0>>>8|E1<<8)&8191,R1+=E1>>>5|x,o1=0,P1=o1,P1+=b1*l2,P1+=z1*(5*G2),P1+=a1*(5*U2),P1+=_0*(5*w2),P1+=E0*(5*J2),o1=P1>>>13,P1&=8191,P1+=G0*(5*Y2),P1+=V0*(5*A2),P1+=B0*(5*t0),P1+=$0*(5*h2),P1+=R1*(5*m2),o1+=P1>>>13,P1&=8191,I1=o1,I1+=b1*m2,I1+=z1*l2,I1+=a1*(5*G2),I1+=_0*(5*U2),I1+=E0*(5*w2),o1=I1>>>13,I1&=8191,I1+=G0*(5*J2),I1+=V0*(5*Y2),I1+=B0*(5*A2),I1+=$0*(5*t0),I1+=R1*(5*h2),o1+=I1>>>13,I1&=8191,Z1=o1,Z1+=b1*h2,Z1+=z1*m2,Z1+=a1*l2,Z1+=_0*(5*G2),Z1+=E0*(5*U2),o1=Z1>>>13,Z1&=8191,Z1+=G0*(5*w2),Z1+=V0*(5*J2),Z1+=B0*(5*Y2),Z1+=$0*(5*A2),Z1+=R1*(5*t0),o1+=Z1>>>13,Z1&=8191,V1=o1,V1+=b1*t0,V1+=z1*h2,V1+=a1*m2,V1+=_0*l2,V1+=E0*(5*G2),o1=V1>>>13,V1&=8191,V1+=G0*(5*U2),V1+=V0*(5*w2),V1+=B0*(5*J2),V1+=$0*(5*Y2),V1+=R1*(5*A2),o1+=V1>>>13,V1&=8191,j1=o1,j1+=b1*A2,j1+=z1*t0,j1+=a1*h2,j1+=_0*m2,j1+=E0*l2,o1=j1>>>13,j1&=8191,j1+=G0*(5*G2),j1+=V0*(5*U2),j1+=B0*(5*w2),j1+=$0*(5*J2),j1+=R1*(5*Y2),o1+=j1>>>13,j1&=8191,W1=o1,W1+=b1*Y2,W1+=z1*A2,W1+=a1*t0,W1+=_0*h2,W1+=E0*m2,o1=W1>>>13,W1&=8191,W1+=G0*l2,W1+=V0*(5*G2),W1+=B0*(5*U2),W1+=$0*(5*w2),W1+=R1*(5*J2),o1+=W1>>>13,W1&=8191,U1=o1,U1+=b1*J2,U1+=z1*Y2,U1+=a1*A2,U1+=_0*t0,U1+=E0*h2,o1=U1>>>13,U1&=8191,U1+=G0*m2,U1+=V0*l2,U1+=B0*(5*G2),U1+=$0*(5*U2),U1+=R1*(5*w2),o1+=U1>>>13,U1&=8191,p1=o1,p1+=b1*w2,p1+=z1*J2,p1+=a1*Y2,p1+=_0*A2,p1+=E0*t0,o1=p1>>>13,p1&=8191,p1+=G0*h2,p1+=V0*m2,p1+=B0*l2,p1+=$0*(5*G2),p1+=R1*(5*U2),o1+=p1>>>13,p1&=8191,A1=o1,A1+=b1*U2,A1+=z1*w2,A1+=a1*J2,A1+=_0*Y2,A1+=E0*A2,o1=A1>>>13,A1&=8191,A1+=G0*t0,A1+=V0*h2,A1+=B0*m2,A1+=$0*l2,A1+=R1*(5*G2),o1+=A1>>>13,A1&=8191,u1=o1,u1+=b1*G2,u1+=z1*U2,u1+=a1*w2,u1+=_0*J2,u1+=E0*Y2,o1=u1>>>13,u1&=8191,u1+=G0*A2,u1+=V0*t0,u1+=B0*h2,u1+=$0*m2,u1+=R1*l2,o1+=u1>>>13,u1&=8191,o1=(o1<<2)+o1|0,o1=o1+P1|0,P1=o1&8191,o1=o1>>>13,I1+=o1,b1=P1,z1=I1,a1=Z1,_0=V1,E0=j1,G0=W1,V0=U1,B0=p1,$0=A1,R1=u1,N+=16,V-=16;this.h[0]=b1,this.h[1]=z1,this.h[2]=a1,this.h[3]=_0,this.h[4]=E0,this.h[5]=G0,this.h[6]=V0,this.h[7]=B0,this.h[8]=$0,this.h[9]=R1},X.prototype.finish=function(k,N){var V=new Uint16Array(10),x,j,l0,x0;if(this.leftover){for(x0=this.leftover,this.buffer[x0++]=1;x0<16;x0++)this.buffer[x0]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(x=this.h[1]>>>13,this.h[1]&=8191,x0=2;x0<10;x0++)this.h[x0]+=x,x=this.h[x0]>>>13,this.h[x0]&=8191;for(this.h[0]+=x*5,x=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=x,x=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=x,V[0]=this.h[0]+5,x=V[0]>>>13,V[0]&=8191,x0=1;x0<10;x0++)V[x0]=this.h[x0]+x,x=V[x0]>>>13,V[x0]&=8191;for(V[9]-=8192,j=(x^1)-1,x0=0;x0<10;x0++)V[x0]&=j;for(j=~j,x0=0;x0<10;x0++)this.h[x0]=this.h[x0]&j|V[x0];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,l0=this.h[0]+this.pad[0],this.h[0]=l0&65535,x0=1;x0<8;x0++)l0=(this.h[x0]+this.pad[x0]|0)+(l0>>>16)|0,this.h[x0]=l0&65535;k[N+0]=this.h[0]>>>0&255,k[N+1]=this.h[0]>>>8&255,k[N+2]=this.h[1]>>>0&255,k[N+3]=this.h[1]>>>8&255,k[N+4]=this.h[2]>>>0&255,k[N+5]=this.h[2]>>>8&255,k[N+6]=this.h[3]>>>0&255,k[N+7]=this.h[3]>>>8&255,k[N+8]=this.h[4]>>>0&255,k[N+9]=this.h[4]>>>8&255,k[N+10]=this.h[5]>>>0&255,k[N+11]=this.h[5]>>>8&255,k[N+12]=this.h[6]>>>0&255,k[N+13]=this.h[6]>>>8&255,k[N+14]=this.h[7]>>>0&255,k[N+15]=this.h[7]>>>8&255},X.prototype.update=function(k,N,V){var x,j;if(this.leftover){for(j=16-this.leftover,j>V&&(j=V),x=0;x<j;x++)this.buffer[this.leftover+x]=k[N+x];if(V-=j,N+=j,this.leftover+=j,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(V>=16&&(j=V-V%16,this.blocks(k,N,j),N+=j,V-=j),V){for(x=0;x<V;x++)this.buffer[this.leftover+x]=k[N+x];this.leftover+=V}};function H(k,N,V,x,j,l0){var x0=new X(l0);return x0.update(V,x,j),x0.finish(k,N),0}function U(k,N,V,x,j,l0){var x0=new Uint8Array(16);return H(x0,0,V,x,j,l0),w(k,N,x0,0)}function P(k,N,V,x,j){var l0;if(V<32)return-1;for(h0(k,0,N,0,V,x,j),H(k,16,k,32,V-32,k),l0=0;l0<16;l0++)k[l0]=0;return 0}function d(k,N,V,x,j){var l0,x0=new Uint8Array(32);if(V<32||(n0(x0,0,32,x,j),U(N,16,N,32,V-32,x0)!==0))return-1;for(h0(k,0,N,0,V,x,j),l0=0;l0<32;l0++)k[l0]=0;return 0}function y(k,N){var V;for(V=0;V<16;V++)k[V]=N[V]|0}function M(k){var N,V,x=1;for(N=0;N<16;N++)V=k[N]+x+65535,x=Math.floor(V/65536),k[N]=V-x*65536;k[0]+=x-1+37*(x-1)}function E(k,N,V){for(var x,j=~(V-1),l0=0;l0<16;l0++)x=j&(k[l0]^N[l0]),k[l0]^=x,N[l0]^=x}function O(k,N){var V,x,j,l0=e(),x0=e();for(V=0;V<16;V++)x0[V]=N[V];for(M(x0),M(x0),M(x0),x=0;x<2;x++){for(l0[0]=x0[0]-65517,V=1;V<15;V++)l0[V]=x0[V]-65535-(l0[V-1]>>16&1),l0[V-1]&=65535;l0[15]=x0[15]-32767-(l0[14]>>16&1),j=l0[15]>>16&1,l0[14]&=65535,E(x0,l0,1-j)}for(V=0;V<16;V++)k[2*V]=x0[V]&255,k[2*V+1]=x0[V]>>8}function S(k,N){var V=new Uint8Array(32),x=new Uint8Array(32);return O(V,k),O(x,N),L(V,0,x,0)}function D(k){var N=new Uint8Array(32);return O(N,k),N[0]&1}function I(k,N){var V;for(V=0;V<16;V++)k[V]=N[2*V]+(N[2*V+1]<<8);k[15]&=32767}function m(k,N,V){for(var x=0;x<16;x++)k[x]=N[x]+V[x]}function z(k,N,V){for(var x=0;x<16;x++)k[x]=N[x]-V[x]}function r0(k,N,V){var x,j,l0=0,x0=0,T0=0,N0=0,d1=0,q0=0,E1=0,o1=0,P1=0,I1=0,Z1=0,V1=0,j1=0,W1=0,U1=0,p1=0,A1=0,u1=0,b1=0,z1=0,a1=0,_0=0,E0=0,G0=0,V0=0,B0=0,$0=0,R1=0,l2=0,m2=0,h2=0,t0=V[0],A2=V[1],Y2=V[2],J2=V[3],w2=V[4],U2=V[5],G2=V[6],p4=V[7],v3=V[8],r4=V[9],i4=V[10],s4=V[11],P4=V[12],s5=V[13],a5=V[14],o5=V[15];x=N[0],l0+=x*t0,x0+=x*A2,T0+=x*Y2,N0+=x*J2,d1+=x*w2,q0+=x*U2,E1+=x*G2,o1+=x*p4,P1+=x*v3,I1+=x*r4,Z1+=x*i4,V1+=x*s4,j1+=x*P4,W1+=x*s5,U1+=x*a5,p1+=x*o5,x=N[1],x0+=x*t0,T0+=x*A2,N0+=x*Y2,d1+=x*J2,q0+=x*w2,E1+=x*U2,o1+=x*G2,P1+=x*p4,I1+=x*v3,Z1+=x*r4,V1+=x*i4,j1+=x*s4,W1+=x*P4,U1+=x*s5,p1+=x*a5,A1+=x*o5,x=N[2],T0+=x*t0,N0+=x*A2,d1+=x*Y2,q0+=x*J2,E1+=x*w2,o1+=x*U2,P1+=x*G2,I1+=x*p4,Z1+=x*v3,V1+=x*r4,j1+=x*i4,W1+=x*s4,U1+=x*P4,p1+=x*s5,A1+=x*a5,u1+=x*o5,x=N[3],N0+=x*t0,d1+=x*A2,q0+=x*Y2,E1+=x*J2,o1+=x*w2,P1+=x*U2,I1+=x*G2,Z1+=x*p4,V1+=x*v3,j1+=x*r4,W1+=x*i4,U1+=x*s4,p1+=x*P4,A1+=x*s5,u1+=x*a5,b1+=x*o5,x=N[4],d1+=x*t0,q0+=x*A2,E1+=x*Y2,o1+=x*J2,P1+=x*w2,I1+=x*U2,Z1+=x*G2,V1+=x*p4,j1+=x*v3,W1+=x*r4,U1+=x*i4,p1+=x*s4,A1+=x*P4,u1+=x*s5,b1+=x*a5,z1+=x*o5,x=N[5],q0+=x*t0,E1+=x*A2,o1+=x*Y2,P1+=x*J2,I1+=x*w2,Z1+=x*U2,V1+=x*G2,j1+=x*p4,W1+=x*v3,U1+=x*r4,p1+=x*i4,A1+=x*s4,u1+=x*P4,b1+=x*s5,z1+=x*a5,a1+=x*o5,x=N[6],E1+=x*t0,o1+=x*A2,P1+=x*Y2,I1+=x*J2,Z1+=x*w2,V1+=x*U2,j1+=x*G2,W1+=x*p4,U1+=x*v3,p1+=x*r4,A1+=x*i4,u1+=x*s4,b1+=x*P4,z1+=x*s5,a1+=x*a5,_0+=x*o5,x=N[7],o1+=x*t0,P1+=x*A2,I1+=x*Y2,Z1+=x*J2,V1+=x*w2,j1+=x*U2,W1+=x*G2,U1+=x*p4,p1+=x*v3,A1+=x*r4,u1+=x*i4,b1+=x*s4,z1+=x*P4,a1+=x*s5,_0+=x*a5,E0+=x*o5,x=N[8],P1+=x*t0,I1+=x*A2,Z1+=x*Y2,V1+=x*J2,j1+=x*w2,W1+=x*U2,U1+=x*G2,p1+=x*p4,A1+=x*v3,u1+=x*r4,b1+=x*i4,z1+=x*s4,a1+=x*P4,_0+=x*s5,E0+=x*a5,G0+=x*o5,x=N[9],I1+=x*t0,Z1+=x*A2,V1+=x*Y2,j1+=x*J2,W1+=x*w2,U1+=x*U2,p1+=x*G2,A1+=x*p4,u1+=x*v3,b1+=x*r4,z1+=x*i4,a1+=x*s4,_0+=x*P4,E0+=x*s5,G0+=x*a5,V0+=x*o5,x=N[10],Z1+=x*t0,V1+=x*A2,j1+=x*Y2,W1+=x*J2,U1+=x*w2,p1+=x*U2,A1+=x*G2,u1+=x*p4,b1+=x*v3,z1+=x*r4,a1+=x*i4,_0+=x*s4,E0+=x*P4,G0+=x*s5,V0+=x*a5,B0+=x*o5,x=N[11],V1+=x*t0,j1+=x*A2,W1+=x*Y2,U1+=x*J2,p1+=x*w2,A1+=x*U2,u1+=x*G2,b1+=x*p4,z1+=x*v3,a1+=x*r4,_0+=x*i4,E0+=x*s4,G0+=x*P4,V0+=x*s5,B0+=x*a5,$0+=x*o5,x=N[12],j1+=x*t0,W1+=x*A2,U1+=x*Y2,p1+=x*J2,A1+=x*w2,u1+=x*U2,b1+=x*G2,z1+=x*p4,a1+=x*v3,_0+=x*r4,E0+=x*i4,G0+=x*s4,V0+=x*P4,B0+=x*s5,$0+=x*a5,R1+=x*o5,x=N[13],W1+=x*t0,U1+=x*A2,p1+=x*Y2,A1+=x*J2,u1+=x*w2,b1+=x*U2,z1+=x*G2,a1+=x*p4,_0+=x*v3,E0+=x*r4,G0+=x*i4,V0+=x*s4,B0+=x*P4,$0+=x*s5,R1+=x*a5,l2+=x*o5,x=N[14],U1+=x*t0,p1+=x*A2,A1+=x*Y2,u1+=x*J2,b1+=x*w2,z1+=x*U2,a1+=x*G2,_0+=x*p4,E0+=x*v3,G0+=x*r4,V0+=x*i4,B0+=x*s4,$0+=x*P4,R1+=x*s5,l2+=x*a5,m2+=x*o5,x=N[15],p1+=x*t0,A1+=x*A2,u1+=x*Y2,b1+=x*J2,z1+=x*w2,a1+=x*U2,_0+=x*G2,E0+=x*p4,G0+=x*v3,V0+=x*r4,B0+=x*i4,$0+=x*s4,R1+=x*P4,l2+=x*s5,m2+=x*a5,h2+=x*o5,l0+=38*A1,x0+=38*u1,T0+=38*b1,N0+=38*z1,d1+=38*a1,q0+=38*_0,E1+=38*E0,o1+=38*G0,P1+=38*V0,I1+=38*B0,Z1+=38*$0,V1+=38*R1,j1+=38*l2,W1+=38*m2,U1+=38*h2,j=1,x=l0+j+65535,j=Math.floor(x/65536),l0=x-j*65536,x=x0+j+65535,j=Math.floor(x/65536),x0=x-j*65536,x=T0+j+65535,j=Math.floor(x/65536),T0=x-j*65536,x=N0+j+65535,j=Math.floor(x/65536),N0=x-j*65536,x=d1+j+65535,j=Math.floor(x/65536),d1=x-j*65536,x=q0+j+65535,j=Math.floor(x/65536),q0=x-j*65536,x=E1+j+65535,j=Math.floor(x/65536),E1=x-j*65536,x=o1+j+65535,j=Math.floor(x/65536),o1=x-j*65536,x=P1+j+65535,j=Math.floor(x/65536),P1=x-j*65536,x=I1+j+65535,j=Math.floor(x/65536),I1=x-j*65536,x=Z1+j+65535,j=Math.floor(x/65536),Z1=x-j*65536,x=V1+j+65535,j=Math.floor(x/65536),V1=x-j*65536,x=j1+j+65535,j=Math.floor(x/65536),j1=x-j*65536,x=W1+j+65535,j=Math.floor(x/65536),W1=x-j*65536,x=U1+j+65535,j=Math.floor(x/65536),U1=x-j*65536,x=p1+j+65535,j=Math.floor(x/65536),p1=x-j*65536,l0+=j-1+37*(j-1),j=1,x=l0+j+65535,j=Math.floor(x/65536),l0=x-j*65536,x=x0+j+65535,j=Math.floor(x/65536),x0=x-j*65536,x=T0+j+65535,j=Math.floor(x/65536),T0=x-j*65536,x=N0+j+65535,j=Math.floor(x/65536),N0=x-j*65536,x=d1+j+65535,j=Math.floor(x/65536),d1=x-j*65536,x=q0+j+65535,j=Math.floor(x/65536),q0=x-j*65536,x=E1+j+65535,j=Math.floor(x/65536),E1=x-j*65536,x=o1+j+65535,j=Math.floor(x/65536),o1=x-j*65536,x=P1+j+65535,j=Math.floor(x/65536),P1=x-j*65536,x=I1+j+65535,j=Math.floor(x/65536),I1=x-j*65536,x=Z1+j+65535,j=Math.floor(x/65536),Z1=x-j*65536,x=V1+j+65535,j=Math.floor(x/65536),V1=x-j*65536,x=j1+j+65535,j=Math.floor(x/65536),j1=x-j*65536,x=W1+j+65535,j=Math.floor(x/65536),W1=x-j*65536,x=U1+j+65535,j=Math.floor(x/65536),U1=x-j*65536,x=p1+j+65535,j=Math.floor(x/65536),p1=x-j*65536,l0+=j-1+37*(j-1),k[0]=l0,k[1]=x0,k[2]=T0,k[3]=N0,k[4]=d1,k[5]=q0,k[6]=E1,k[7]=o1,k[8]=P1,k[9]=I1,k[10]=Z1,k[11]=V1,k[12]=j1,k[13]=W1,k[14]=U1,k[15]=p1}function T(k,N){r0(k,N,N)}function s0(k,N){var V=e(),x;for(x=0;x<16;x++)V[x]=N[x];for(x=253;x>=0;x--)T(V,V),x!==2&&x!==4&&r0(V,V,N);for(x=0;x<16;x++)k[x]=V[x]}function i0(k,N){var V=e(),x;for(x=0;x<16;x++)V[x]=N[x];for(x=250;x>=0;x--)T(V,V),x!==1&&r0(V,V,N);for(x=0;x<16;x++)k[x]=V[x]}function W(k,N,V){var x=new Uint8Array(32),j=new Float64Array(80),l0,x0,T0=e(),N0=e(),d1=e(),q0=e(),E1=e(),o1=e();for(x0=0;x0<31;x0++)x[x0]=N[x0];for(x[31]=N[31]&127|64,x[0]&=248,I(j,V),x0=0;x0<16;x0++)N0[x0]=j[x0],q0[x0]=T0[x0]=d1[x0]=0;for(T0[0]=q0[0]=1,x0=254;x0>=0;--x0)l0=x[x0>>>3]>>>(x0&7)&1,E(T0,N0,l0),E(d1,q0,l0),m(E1,T0,d1),z(T0,T0,d1),m(d1,N0,q0),z(N0,N0,q0),T(q0,E1),T(o1,T0),r0(T0,d1,T0),r0(d1,N0,E1),m(E1,T0,d1),z(T0,T0,d1),T(N0,T0),z(d1,q0,o1),r0(T0,d1,o),m(T0,T0,q0),r0(d1,d1,T0),r0(T0,q0,o1),r0(q0,N0,j),T(N0,E1),E(T0,N0,l0),E(d1,q0,l0);for(x0=0;x0<16;x0++)j[x0+16]=T0[x0],j[x0+32]=d1[x0],j[x0+48]=N0[x0],j[x0+64]=q0[x0];var P1=j.subarray(32),I1=j.subarray(16);return s0(P1,P1),r0(I1,I1,P1),O(k,I1),0}function q(k,N){return W(k,N,i)}function a0(k,N){return n(N,32),q(k,N)}function u0(k,N,V){var x=new Uint8Array(32);return W(x,V,N),G(k,r,x,K)}var C0=P,Y0=d;function L0(k,N,V,x,j,l0){var x0=new Uint8Array(32);return u0(x0,j,l0),C0(k,N,V,x,x0)}function g0(k,N,V,x,j,l0){var x0=new Uint8Array(32);return u0(x0,j,l0),Y0(k,N,V,x,x0)}var R0=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function d0(k,N,V,x){for(var j=new Int32Array(16),l0=new Int32Array(16),x0,T0,N0,d1,q0,E1,o1,P1,I1,Z1,V1,j1,W1,U1,p1,A1,u1,b1,z1,a1,_0,E0,G0,V0,B0,$0,R1=k[0],l2=k[1],m2=k[2],h2=k[3],t0=k[4],A2=k[5],Y2=k[6],J2=k[7],w2=N[0],U2=N[1],G2=N[2],p4=N[3],v3=N[4],r4=N[5],i4=N[6],s4=N[7],P4=0;x>=128;){for(z1=0;z1<16;z1++)a1=8*z1+P4,j[z1]=V[a1+0]<<24|V[a1+1]<<16|V[a1+2]<<8|V[a1+3],l0[z1]=V[a1+4]<<24|V[a1+5]<<16|V[a1+6]<<8|V[a1+7];for(z1=0;z1<80;z1++)if(x0=R1,T0=l2,N0=m2,d1=h2,q0=t0,E1=A2,o1=Y2,P1=J2,I1=w2,Z1=U2,V1=G2,j1=p4,W1=v3,U1=r4,p1=i4,A1=s4,_0=J2,E0=s4,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=(t0>>>14|v3<<32-14)^(t0>>>18|v3<<32-18)^(v3>>>41-32|t0<<32-(41-32)),E0=(v3>>>14|t0<<32-14)^(v3>>>18|t0<<32-18)^(t0>>>41-32|v3<<32-(41-32)),G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,_0=t0&A2^~t0&Y2,E0=v3&r4^~v3&i4,G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,_0=R0[z1*2],E0=R0[z1*2+1],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,_0=j[z1%16],E0=l0[z1%16],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,u1=B0&65535|$0<<16,b1=G0&65535|V0<<16,_0=u1,E0=b1,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=(R1>>>28|w2<<32-28)^(w2>>>34-32|R1<<32-(34-32))^(w2>>>39-32|R1<<32-(39-32)),E0=(w2>>>28|R1<<32-28)^(R1>>>34-32|w2<<32-(34-32))^(R1>>>39-32|w2<<32-(39-32)),G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,_0=R1&l2^R1&m2^l2&m2,E0=w2&U2^w2&G2^U2&G2,G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,P1=B0&65535|$0<<16,A1=G0&65535|V0<<16,_0=d1,E0=j1,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=u1,E0=b1,G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,d1=B0&65535|$0<<16,j1=G0&65535|V0<<16,l2=x0,m2=T0,h2=N0,t0=d1,A2=q0,Y2=E1,J2=o1,R1=P1,U2=I1,G2=Z1,p4=V1,v3=j1,r4=W1,i4=U1,s4=p1,w2=A1,z1%16===15)for(a1=0;a1<16;a1++)_0=j[a1],E0=l0[a1],G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=j[(a1+9)%16],E0=l0[(a1+9)%16],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,u1=j[(a1+1)%16],b1=l0[(a1+1)%16],_0=(u1>>>1|b1<<32-1)^(u1>>>8|b1<<32-8)^u1>>>7,E0=(b1>>>1|u1<<32-1)^(b1>>>8|u1<<32-8)^(b1>>>7|u1<<32-7),G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,u1=j[(a1+14)%16],b1=l0[(a1+14)%16],_0=(u1>>>19|b1<<32-19)^(b1>>>61-32|u1<<32-(61-32))^u1>>>6,E0=(b1>>>19|u1<<32-19)^(u1>>>61-32|b1<<32-(61-32))^(b1>>>6|u1<<32-6),G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,j[a1]=B0&65535|$0<<16,l0[a1]=G0&65535|V0<<16;_0=R1,E0=w2,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[0],E0=N[0],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[0]=R1=B0&65535|$0<<16,N[0]=w2=G0&65535|V0<<16,_0=l2,E0=U2,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[1],E0=N[1],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[1]=l2=B0&65535|$0<<16,N[1]=U2=G0&65535|V0<<16,_0=m2,E0=G2,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[2],E0=N[2],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[2]=m2=B0&65535|$0<<16,N[2]=G2=G0&65535|V0<<16,_0=h2,E0=p4,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[3],E0=N[3],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[3]=h2=B0&65535|$0<<16,N[3]=p4=G0&65535|V0<<16,_0=t0,E0=v3,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[4],E0=N[4],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[4]=t0=B0&65535|$0<<16,N[4]=v3=G0&65535|V0<<16,_0=A2,E0=r4,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[5],E0=N[5],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[5]=A2=B0&65535|$0<<16,N[5]=r4=G0&65535|V0<<16,_0=Y2,E0=i4,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[6],E0=N[6],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[6]=Y2=B0&65535|$0<<16,N[6]=i4=G0&65535|V0<<16,_0=J2,E0=s4,G0=E0&65535,V0=E0>>>16,B0=_0&65535,$0=_0>>>16,_0=k[7],E0=N[7],G0+=E0&65535,V0+=E0>>>16,B0+=_0&65535,$0+=_0>>>16,V0+=G0>>>16,B0+=V0>>>16,$0+=B0>>>16,k[7]=J2=B0&65535|$0<<16,N[7]=s4=G0&65535|V0<<16,P4+=128,x-=128}return x}function S0(k,N,V){var x=new Int32Array(8),j=new Int32Array(8),l0=new Uint8Array(256),x0,T0=V;for(x[0]=1779033703,x[1]=3144134277,x[2]=1013904242,x[3]=2773480762,x[4]=1359893119,x[5]=2600822924,x[6]=528734635,x[7]=1541459225,j[0]=4089235720,j[1]=2227873595,j[2]=4271175723,j[3]=1595750129,j[4]=2917565137,j[5]=725511199,j[6]=4215389547,j[7]=327033209,d0(x,j,N,V),V%=128,x0=0;x0<V;x0++)l0[x0]=N[T0-V+x0];for(l0[V]=128,V=256-128*(V<112?1:0),l0[V-9]=0,g(l0,V-8,T0/536870912|0,T0<<3),d0(x,j,l0,V),x0=0;x0<8;x0++)g(k,8*x0,x[x0],j[x0]);return 0}function Q(k,N){var V=e(),x=e(),j=e(),l0=e(),x0=e(),T0=e(),N0=e(),d1=e(),q0=e();z(V,k[1],k[0]),z(q0,N[1],N[0]),r0(V,V,q0),m(x,k[0],k[1]),m(q0,N[0],N[1]),r0(x,x,q0),r0(j,k[3],N[3]),r0(j,j,l),r0(l0,k[2],N[2]),m(l0,l0,l0),z(x0,x,V),z(T0,l0,j),m(N0,l0,j),m(d1,x,V),r0(k[0],x0,T0),r0(k[1],d1,N0),r0(k[2],N0,T0),r0(k[3],x0,d1)}function z0(k,N,V){var x;for(x=0;x<4;x++)E(k[x],N[x],V)}function e1(k,N){var V=e(),x=e(),j=e();s0(j,N[2]),r0(V,N[0],j),r0(x,N[1],j),O(k,x),k[31]^=D(V)<<7}function _1(k,N,V){var x,j;for(y(k[0],s),y(k[1],a),y(k[2],a),y(k[3],s),j=255;j>=0;--j)x=V[j/8|0]>>(j&7)&1,z0(k,N,x),Q(N,k),Q(k,k),z0(k,N,x)}function T1(k,N){var V=[e(),e(),e(),e()];y(V[0],h),y(V[1],u),y(V[2],a),r0(V[3],h,u),_1(k,V,N)}function O2(k,N,V){var x=new Uint8Array(64),j=[e(),e(),e(),e()],l0;for(V||n(N,32),S0(x,N,32),x[0]&=248,x[31]&=127,x[31]|=64,T1(j,x),e1(k,j),l0=0;l0<32;l0++)N[l0+32]=k[l0];return 0}var $4=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function p0(k,N){var V,x,j,l0;for(x=63;x>=32;--x){for(V=0,j=x-32,l0=x-12;j<l0;++j)N[j]+=V-16*N[x]*$4[j-(x-32)],V=Math.floor((N[j]+128)/256),N[j]-=V*256;N[j]+=V,N[x]=0}for(V=0,j=0;j<32;j++)N[j]+=V-(N[31]>>4)*$4[j],V=N[j]>>8,N[j]&=255;for(j=0;j<32;j++)N[j]-=V*$4[j];for(x=0;x<32;x++)N[x+1]+=N[x]>>8,k[x]=N[x]&255}function o0(k){var N=new Float64Array(64),V;for(V=0;V<64;V++)N[V]=k[V];for(V=0;V<64;V++)k[V]=0;p0(k,N)}function B(k,N,V,x){var j=new Uint8Array(64),l0=new Uint8Array(64),x0=new Uint8Array(64),T0,N0,d1=new Float64Array(64),q0=[e(),e(),e(),e()];S0(j,x,32),j[0]&=248,j[31]&=127,j[31]|=64;var E1=V+64;for(T0=0;T0<V;T0++)k[64+T0]=N[T0];for(T0=0;T0<32;T0++)k[32+T0]=j[32+T0];for(S0(x0,k.subarray(32),V+32),o0(x0),T1(q0,x0),e1(k,q0),T0=32;T0<64;T0++)k[T0]=x[T0];for(S0(l0,k,V+64),o0(l0),T0=0;T0<64;T0++)d1[T0]=0;for(T0=0;T0<32;T0++)d1[T0]=x0[T0];for(T0=0;T0<32;T0++)for(N0=0;N0<32;N0++)d1[T0+N0]+=l0[T0]*j[N0];return p0(k.subarray(32),d1),E1}function e0(k,N){var V=e(),x=e(),j=e(),l0=e(),x0=e(),T0=e(),N0=e();return y(k[2],a),I(k[1],N),T(j,k[1]),r0(l0,j,c),z(j,j,k[2]),m(l0,k[2],l0),T(x0,l0),T(T0,x0),r0(N0,T0,x0),r0(V,N0,j),r0(V,V,l0),i0(V,V),r0(V,V,j),r0(V,V,l0),r0(V,V,l0),r0(k[0],V,l0),T(x,k[0]),r0(x,x,l0),S(x,j)&&r0(k[0],k[0],p),T(x,k[0]),r0(x,x,l0),S(x,j)?-1:(D(k[0])===N[31]>>7&&z(k[0],s,k[0]),r0(k[3],k[0],k[1]),0)}function M0(k,N,V,x){var j,l0=new Uint8Array(32),x0=new Uint8Array(64),T0=[e(),e(),e(),e()],N0=[e(),e(),e(),e()];if(V<64||e0(N0,x))return-1;for(j=0;j<V;j++)k[j]=N[j];for(j=0;j<32;j++)k[j+32]=x[j];if(S0(x0,k,V),o0(x0),_1(T0,N0,x0),T1(N0,N.subarray(32)),Q(T0,N0),e1(l0,T0),V-=64,L(N,0,l0,0)){for(j=0;j<V;j++)k[j]=0;return-1}for(j=0;j<V;j++)k[j]=N[j+64];return V}var k0=32,O0=24,t1=32,F2=16,O1=32,v1=32,j2=32,x2=32,e3=32,X7=O0,k3=t1,T3=F2,K4=64,Q2=32,t3=64,b7=32,g3=64;t.lowlevel={crypto_core_hsalsa20:G,crypto_stream_xor:h0,crypto_stream:n0,crypto_stream_salsa20_xor:Z,crypto_stream_salsa20:$,crypto_onetimeauth:H,crypto_onetimeauth_verify:U,crypto_verify_16:w,crypto_verify_32:L,crypto_secretbox:P,crypto_secretbox_open:d,crypto_scalarmult:W,crypto_scalarmult_base:q,crypto_box_beforenm:u0,crypto_box_afternm:C0,crypto_box:L0,crypto_box_open:g0,crypto_box_keypair:a0,crypto_hash:S0,crypto_sign:B,crypto_sign_keypair:O2,crypto_sign_open:M0,crypto_secretbox_KEYBYTES:k0,crypto_secretbox_NONCEBYTES:O0,crypto_secretbox_ZEROBYTES:t1,crypto_secretbox_BOXZEROBYTES:F2,crypto_scalarmult_BYTES:O1,crypto_scalarmult_SCALARBYTES:v1,crypto_box_PUBLICKEYBYTES:j2,crypto_box_SECRETKEYBYTES:x2,crypto_box_BEFORENMBYTES:e3,crypto_box_NONCEBYTES:X7,crypto_box_ZEROBYTES:k3,crypto_box_BOXZEROBYTES:T3,crypto_sign_BYTES:K4,crypto_sign_PUBLICKEYBYTES:Q2,crypto_sign_SECRETKEYBYTES:t3,crypto_sign_SEEDBYTES:b7,crypto_hash_BYTES:g3,gf:e,D:c,L:$4,pack25519:O,unpack25519:I,M:r0,A:m,S:T,Z:z,pow2523:i0,add:Q,set25519:y,modL:p0,scalarmult:_1,scalarbase:T1};function y3(k,N){if(k.length!==k0)throw new Error("bad key size");if(N.length!==O0)throw new Error("bad nonce size")}function ie(k,N){if(k.length!==j2)throw new Error("bad public key size");if(N.length!==x2)throw new Error("bad secret key size")}function C2(){for(var k=0;k<arguments.length;k++)if(!(arguments[k]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function z3(k){for(var N=0;N<k.length;N++)k[N]=0}t.randomBytes=function(k){var N=new Uint8Array(k);return n(N,k),N},t.secretbox=function(k,N,V){C2(k,N,V),y3(V,N);for(var x=new Uint8Array(t1+k.length),j=new Uint8Array(x.length),l0=0;l0<k.length;l0++)x[l0+t1]=k[l0];return P(j,x,x.length,N,V),j.subarray(F2)},t.secretbox.open=function(k,N,V){C2(k,N,V),y3(V,N);for(var x=new Uint8Array(F2+k.length),j=new Uint8Array(x.length),l0=0;l0<k.length;l0++)x[l0+F2]=k[l0];return x.length<32||d(j,x,x.length,N,V)!==0?null:j.subarray(t1)},t.secretbox.keyLength=k0,t.secretbox.nonceLength=O0,t.secretbox.overheadLength=F2,t.scalarMult=function(k,N){if(C2(k,N),k.length!==v1)throw new Error("bad n size");if(N.length!==O1)throw new Error("bad p size");var V=new Uint8Array(O1);return W(V,k,N),V},t.scalarMult.base=function(k){if(C2(k),k.length!==v1)throw new Error("bad n size");var N=new Uint8Array(O1);return q(N,k),N},t.scalarMult.scalarLength=v1,t.scalarMult.groupElementLength=O1,t.box=function(k,N,V,x){var j=t.box.before(V,x);return t.secretbox(k,N,j)},t.box.before=function(k,N){C2(k,N),ie(k,N);var V=new Uint8Array(e3);return u0(V,k,N),V},t.box.after=t.secretbox,t.box.open=function(k,N,V,x){var j=t.box.before(V,x);return t.secretbox.open(k,N,j)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var k=new Uint8Array(j2),N=new Uint8Array(x2);return a0(k,N),{publicKey:k,secretKey:N}},t.box.keyPair.fromSecretKey=function(k){if(C2(k),k.length!==x2)throw new Error("bad secret key size");var N=new Uint8Array(j2);return q(N,k),{publicKey:N,secretKey:new Uint8Array(k)}},t.box.publicKeyLength=j2,t.box.secretKeyLength=x2,t.box.sharedKeyLength=e3,t.box.nonceLength=X7,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(k,N){if(C2(k,N),N.length!==t3)throw new Error("bad secret key size");var V=new Uint8Array(K4+k.length);return B(V,k,k.length,N),V},t.sign.open=function(k,N){if(C2(k,N),N.length!==Q2)throw new Error("bad public key size");var V=new Uint8Array(k.length),x=M0(V,k,k.length,N);if(x<0)return null;for(var j=new Uint8Array(x),l0=0;l0<j.length;l0++)j[l0]=V[l0];return j},t.sign.detached=function(k,N){for(var V=t.sign(k,N),x=new Uint8Array(K4),j=0;j<x.length;j++)x[j]=V[j];return x},t.sign.detached.verify=function(k,N,V){if(C2(k,N,V),N.length!==K4)throw new Error("bad signature size");if(V.length!==Q2)throw new Error("bad public key size");var x=new Uint8Array(K4+k.length),j=new Uint8Array(K4+k.length),l0;for(l0=0;l0<K4;l0++)x[l0]=N[l0];for(l0=0;l0<k.length;l0++)x[l0+K4]=k[l0];return M0(j,x,x.length,V)>=0},t.sign.keyPair=function(){var k=new Uint8Array(Q2),N=new Uint8Array(t3);return O2(k,N),{publicKey:k,secretKey:N}},t.sign.keyPair.fromSecretKey=function(k){if(C2(k),k.length!==t3)throw new Error("bad secret key size");for(var N=new Uint8Array(Q2),V=0;V<N.length;V++)N[V]=k[32+V];return{publicKey:N,secretKey:new Uint8Array(k)}},t.sign.keyPair.fromSeed=function(k){if(C2(k),k.length!==b7)throw new Error("bad seed size");for(var N=new Uint8Array(Q2),V=new Uint8Array(t3),x=0;x<32;x++)V[x]=k[x];return O2(N,V,!0),{publicKey:N,secretKey:V}},t.sign.publicKeyLength=Q2,t.sign.secretKeyLength=t3,t.sign.seedLength=b7,t.sign.signatureLength=K4,t.hash=function(k){C2(k);var N=new Uint8Array(g3);return S0(N,k,k.length),N},t.hash.hashLength=g3,t.verify=function(k,N){return C2(k,N),k.length===0||N.length===0||k.length!==N.length?!1:f(k,0,N,0,k.length)===0},t.setPRNG=function(k){n=k},function(){var k=typeof self<"u"?self.crypto||self.msCrypto:null;if(k&&k.getRandomValues){var N=65536;t.setPRNG(function(V,x){var j,l0=new Uint8Array(x);for(j=0;j<x;j+=N)k.getRandomValues(l0.subarray(j,j+Math.min(x-j,N)));for(j=0;j<x;j++)V[j]=l0[j];z3(l0)})}else typeof Dh<"u"&&(k=dz(),k&&k.randomBytes&&t.setPRNG(function(V,x){var j,l0=k.randomBytes(x);for(j=0;j<x;j++)V[j]=l0[j];z3(l0)}))}()})(typeof fp<"u"&&fp.exports?fp.exports:self.nacl=self.nacl||{})});var mz=c1((HD,gp)=>{"use strict";(function(t,e){"use strict";typeof gp<"u"&&gp.exports?gp.exports=e():(t.nacl||(t.nacl={}),t.nacl.util=e())})(HD,function(){"use strict";var t={};function e(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var r,i=unescape(encodeURIComponent(n)),s=new Uint8Array(i.length);for(r=0;r<i.length;r++)s[r]=i.charCodeAt(r);return s},t.encodeUTF8=function(n){var r,i=[];for(r=0;r<n.length;r++)i.push(String.fromCharCode(n[r]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(t.encodeBase64=function(n){return Buffer.from(n).toString("base64")},t.decodeBase64=function(n){return e(n),new Uint8Array(Array.prototype.slice.call(Buffer.from(n,"base64"),0))}):(t.encodeBase64=function(n){return new Buffer(n).toString("base64")},t.decodeBase64=function(n){return e(n),new Uint8Array(Array.prototype.slice.call(new Buffer(n,"base64"),0))}):(t.encodeBase64=function(n){var r,i=[],s=n.length;for(r=0;r<s;r++)i.push(String.fromCharCode(n[r]));return btoa(i.join(""))},t.decodeBase64=function(n){e(n);var r,i=atob(n),s=new Uint8Array(i.length);for(r=0;r<i.length;r++)s[r]=i.charCodeAt(r);return s}),t})});var hM=c1((P_0,lM)=>{"use strict";var Li=typeof Reflect=="object"?Reflect:null,TO=Li&&typeof Li.apply=="function"?Li.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Im;Li&&typeof Li.ownKeys=="function"?Im=Li.ownKeys:Object.getOwnPropertySymbols?Im=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Im=function(e){return Object.getOwnPropertyNames(e)};function x80(t){console&&console.warn&&console.warn(t)}var LO=Number.isNaN||function(e){return e!==e};function A3(){A3.init.call(this)}lM.exports=A3;lM.exports.once=M80;A3.EventEmitter=A3;A3.prototype._events=void 0;A3.prototype._eventsCount=0;A3.prototype._maxListeners=void 0;var PO=10;function Dm(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(A3,"defaultMaxListeners",{enumerable:!0,get:function(){return PO},set:function(t){if(typeof t!="number"||t<0||LO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");PO=t}});A3.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};A3.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||LO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function IO(t){return t._maxListeners===void 0?A3.defaultMaxListeners:t._maxListeners}A3.prototype.getMaxListeners=function(){return IO(this)};A3.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")TO(c,this,n);else for(var l=c.length,h=VO(c,l),r=0;r<l;++r)TO(h[r],this,n);return!0};function DO(t,e,n,r){var i,s,a;if(Dm(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=IO(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,x80(o)}return t}A3.prototype.addListener=function(e,n){return DO(this,e,n,!1)};A3.prototype.on=A3.prototype.addListener;A3.prototype.prependListener=function(e,n){return DO(this,e,n,!0)};function w80(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function OO(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=w80.bind(r);return i.listener=n,r.wrapFn=i,i}A3.prototype.once=function(e,n){return Dm(n),this.on(e,OO(this,e,n)),this};A3.prototype.prependOnceListener=function(e,n){return Dm(n),this.prependListener(e,OO(this,e,n)),this};A3.prototype.removeListener=function(e,n){var r,i,s,a,o;if(Dm(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){o=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():y80(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||n)}return this};A3.prototype.off=A3.prototype.removeListener;A3.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function FO(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?z80(i):VO(i,i.length)}A3.prototype.listeners=function(e){return FO(this,e,!0)};A3.prototype.rawListeners=function(e){return FO(this,e,!1)};A3.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):HO.call(t,e)};A3.prototype.listenerCount=HO;function HO(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}A3.prototype.eventNames=function(){return this._eventsCount>0?Im(this._events):[]};function VO(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y80(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function z80(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function M80(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}RO(t,e,s,{once:!0}),e!=="error"&&C80(t,i,{once:!0})})}function C80(t,e,n){typeof t.on=="function"&&RO(t,"error",e,n)}function RO(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var iF=c1((W9,rF)=>{"use strict";var Gm=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,qm=function(){function t(){this.fetch=!1,this.DOMException=Gm.DOMException}return t.prototype=Gm,new t}();(function(t){var e=function(n){var r=typeof t<"u"&&t||typeof self<"u"&&self||typeof r<"u"&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function s(H){return H&&DataView.prototype.isPrototypeOf(H)}if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(H){return H&&a.indexOf(Object.prototype.toString.call(H))>-1};function c(H){if(typeof H!="string"&&(H=String(H)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(H)||H==="")throw new TypeError('Invalid character in header field name: "'+H+'"');return H.toLowerCase()}function l(H){return typeof H!="string"&&(H=String(H)),H}function h(H){var U={next:function(){var P=H.shift();return{done:P===void 0,value:P}}};return i.iterable&&(U[Symbol.iterator]=function(){return U}),U}function u(H){this.map={},H instanceof u?H.forEach(function(U,P){this.append(P,U)},this):Array.isArray(H)?H.forEach(function(U){this.append(U[0],U[1])},this):H&&Object.getOwnPropertyNames(H).forEach(function(U){this.append(U,H[U])},this)}u.prototype.append=function(H,U){H=c(H),U=l(U);var P=this.map[H];this.map[H]=P?P+", "+U:U},u.prototype.delete=function(H){delete this.map[c(H)]},u.prototype.get=function(H){return H=c(H),this.has(H)?this.map[H]:null},u.prototype.has=function(H){return this.map.hasOwnProperty(c(H))},u.prototype.set=function(H,U){this.map[c(H)]=l(U)},u.prototype.forEach=function(H,U){for(var P in this.map)this.map.hasOwnProperty(P)&&H.call(U,this.map[P],P,this)},u.prototype.keys=function(){var H=[];return this.forEach(function(U,P){H.push(P)}),h(H)},u.prototype.values=function(){var H=[];return this.forEach(function(U){H.push(U)}),h(H)},u.prototype.entries=function(){var H=[];return this.forEach(function(U,P){H.push([P,U])}),h(H)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function p(H){if(H.bodyUsed)return Promise.reject(new TypeError("Already read"));H.bodyUsed=!0}function g(H){return new Promise(function(U,P){H.onload=function(){U(H.result)},H.onerror=function(){P(H.error)}})}function f(H){var U=new FileReader,P=g(U);return U.readAsArrayBuffer(H),P}function w(H){var U=new FileReader,P=g(U);return U.readAsText(H),P}function L(H){for(var U=new Uint8Array(H),P=new Array(U.length),d=0;d<U.length;d++)P[d]=String.fromCharCode(U[d]);return P.join("")}function A(H){if(H.slice)return H.slice(0);var U=new Uint8Array(H.byteLength);return U.set(new Uint8Array(H)),U.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(H){this.bodyUsed=this.bodyUsed,this._bodyInit=H,H?typeof H=="string"?this._bodyText=H:i.blob&&Blob.prototype.isPrototypeOf(H)?this._bodyBlob=H:i.formData&&FormData.prototype.isPrototypeOf(H)?this._bodyFormData=H:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)?this._bodyText=H.toString():i.arrayBuffer&&i.blob&&s(H)?(this._bodyArrayBuffer=A(H.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(H)||o(H))?this._bodyArrayBuffer=A(H):this._bodyText=H=Object.prototype.toString.call(H):this._bodyText="",this.headers.get("content-type")||(typeof H=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var H=p(this);if(H)return H;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var H=p(this);return H||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(f)}),this.text=function(){var H=p(this);if(H)return H;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function G(H){var U=H.toUpperCase();return R.indexOf(U)>-1?U:H}function K(H,U){if(!(this instanceof K))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U=U||{};var P=U.body;if(H instanceof K){if(H.bodyUsed)throw new TypeError("Already read");this.url=H.url,this.credentials=H.credentials,U.headers||(this.headers=new u(H.headers)),this.method=H.method,this.mode=H.mode,this.signal=H.signal,!P&&H._bodyInit!=null&&(P=H._bodyInit,H.bodyUsed=!0)}else this.url=String(H);if(this.credentials=U.credentials||this.credentials||"same-origin",(U.headers||!this.headers)&&(this.headers=new u(U.headers)),this.method=G(U.method||this.method||"GET"),this.mode=U.mode||this.mode||null,this.signal=U.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(U.cache==="no-store"||U.cache==="no-cache")){var d=/([?&])_=[^&]*/;if(d.test(this.url))this.url=this.url.replace(d,"$1_="+new Date().getTime());else{var y=/\?/;this.url+=(y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function Z(H){var U=new FormData;return H.trim().split("&").forEach(function(P){if(P){var d=P.split("="),y=d.shift().replace(/\+/g," "),M=d.join("=").replace(/\+/g," ");U.append(decodeURIComponent(y),decodeURIComponent(M))}}),U}function $(H){var U=new u,P=H.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(d){return d.indexOf(`
`)===0?d.substr(1,d.length):d}).forEach(function(d){var y=d.split(":"),M=y.shift().trim();if(M){var E=y.join(":").trim();U.append(M,E)}}),U}_.call(K.prototype);function n0(H,U){if(!(this instanceof n0))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U||(U={}),this.type="default",this.status=U.status===void 0?200:U.status,this.ok=this.status>=200&&this.status<300,this.statusText=U.statusText===void 0?"":""+U.statusText,this.headers=new u(U.headers),this.url=U.url||"",this._initBody(H)}_.call(n0.prototype),n0.prototype.clone=function(){return new n0(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},n0.error=function(){var H=new n0(null,{status:0,statusText:""});return H.type="error",H};var h0=[301,302,303,307,308];n0.redirect=function(H,U){if(h0.indexOf(U)===-1)throw new RangeError("Invalid status code");return new n0(null,{status:U,headers:{location:H}})},n.DOMException=r.DOMException;try{new n.DOMException}catch{n.DOMException=function(U,P){this.message=U,this.name=P;var d=Error(U);this.stack=d.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function X(H,U){return new Promise(function(P,d){var y=new K(H,U);if(y.signal&&y.signal.aborted)return d(new n.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function E(){M.abort()}M.onload=function(){var S={status:M.status,statusText:M.statusText,headers:$(M.getAllResponseHeaders()||"")};S.url="responseURL"in M?M.responseURL:S.headers.get("X-Request-URL");var D="response"in M?M.response:M.responseText;setTimeout(function(){P(new n0(D,S))},0)},M.onerror=function(){setTimeout(function(){d(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){d(new TypeError("Network request failed"))},0)},M.onabort=function(){setTimeout(function(){d(new n.DOMException("Aborted","AbortError"))},0)};function O(S){try{return S===""&&r.location.href?r.location.href:S}catch{return S}}M.open(y.method,O(y.url),!0),y.credentials==="include"?M.withCredentials=!0:y.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(i.blob?M.responseType="blob":i.arrayBuffer&&y.headers.get("Content-Type")&&y.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(M.responseType="arraybuffer")),U&&typeof U.headers=="object"&&!(U.headers instanceof u)?Object.getOwnPropertyNames(U.headers).forEach(function(S){M.setRequestHeader(S,l(U.headers[S]))}):y.headers.forEach(function(S,D){M.setRequestHeader(D,S)}),y.signal&&(y.signal.addEventListener("abort",E),M.onreadystatechange=function(){M.readyState===4&&y.signal.removeEventListener("abort",E)}),M.send(typeof y._bodyInit>"u"?null:y._bodyInit)})}return X.polyfill=!0,r.fetch||(r.fetch=X,r.Headers=u,r.Request=K,r.Response=n0),n.Headers=u,n.Request=K,n.Response=n0,n.fetch=X,n}({})})(qm);qm.fetch.ponyfill=!0;delete qm.fetch.polyfill;var Hi=Gm.fetch?Gm:qm;W9=Hi.fetch;W9.default=Hi.fetch;W9.fetch=Hi.fetch;W9.Headers=Hi.Headers;W9.Request=Hi.Request;W9.Response=Hi.Response;rF.exports=W9});var sf=c1(k8=>{"use strict";Object.defineProperty(k8,"__esModule",{value:!0});k8.RLP=k8.utils=k8.decode=k8.encode=void 0;function XM(t){if(Array.isArray(t)){let n=[],r=0;for(let i=0;i<t.length;i++){let s=XM(t[i]);n.push(s),r+=s.length}return YM(VF(r,192),...n)}let e=UF(t);return e.length===1&&e[0]<128?e:YM(VF(e.length,128),e)}k8.encode=XM;function Gi(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function HF(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return BF(NF(t))}function VF(t,e){if(t<56)return Uint8Array.from([t+e]);let n=JM(t),r=n.length/2,i=JM(e+55+r);return Uint8Array.from(rf(i+n))}function RF(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);let n=UF(t),r=QM(n);if(e)return r;if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}k8.decode=RF;function QM(t){let e,n,r,i,s,a=[],o=t[0];if(o<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(o<=183){if(e=o-127,o===128?r=Uint8Array.from([]):r=Gi(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.slice(e)}}else if(o<=191){if(n=o-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=HF(Gi(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=Gi(t,n,e+n),{data:r,remainder:t.slice(e+n)}}else if(o<=247){for(e=o-191,i=Gi(t,1,e);i.length;)s=QM(i),a.push(s.data),i=s.remainder;return{data:a,remainder:t.slice(e)}}else{if(n=o-246,e=HF(Gi(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");let c=n+e;if(c>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Gi(t,n,c);i.length;)s=QM(i),a.push(s.data),i=s.remainder;return{data:a,remainder:t.slice(c)}}}var Ue0=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NF(t){let e="";for(let n=0;n<t.length;n++)e+=Ue0[t[n]];return e}function BF(t){let e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function rf(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=n*2;e[n]=BF(t.slice(r,r+2))}return e}function YM(...t){if(t.length===1)return t[0];let e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let s=t[r];n.set(s,i),i+=s.length}return n}function ZF(t){return new TextEncoder().encode(t)}function JM(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");let e=t.toString(16);return e.length%2?`0${e}`:e}function Ge0(t){return t.length%2?`0${t}`:t}function jF(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function qe0(t){return typeof t!="string"?t:jF(t)?t.slice(2):t}function UF(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return jF(t)?rf(Ge0(qe0(t))):ZF(t);if(typeof t=="number"||typeof t=="bigint")return t?rf(JM(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}k8.utils={bytesToHex:NF,concatBytes:YM,hexToBytes:rf,utf8ToBytes:ZF};k8.RLP={encode:XM,decode:RF}});var qF=c1(eC=>{"use strict";var GF;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof eC=="object"?t(eC):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(GF={}):t(GF={})})(function(t){t.version="1.2.2";function e(){for(var $=0,n0=new Array(256),h0=0;h0!=256;++h0)$=h0,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,$=$&1?-306674912^$>>>1:$>>>1,n0[h0]=$;return typeof Int32Array<"u"?new Int32Array(n0):n0}var n=e();function r($){var n0=0,h0=0,X=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)H[X]=$[X];for(X=0;X!=256;++X)for(h0=$[X],n0=256+X;n0<4096;n0+=256)h0=H[n0]=h0>>>8^$[h0&255];var U=[];for(X=1;X!=16;++X)U[X-1]=typeof Int32Array<"u"?H.subarray(X*256,X*256+256):H.slice(X*256,X*256+256);return U}var i=r(n),s=i[0],a=i[1],o=i[2],c=i[3],l=i[4],h=i[5],u=i[6],p=i[7],g=i[8],f=i[9],w=i[10],L=i[11],A=i[12],_=i[13],R=i[14];function G($,n0){for(var h0=n0^-1,X=0,H=$.length;X<H;)h0=h0>>>8^n[(h0^$.charCodeAt(X++))&255];return~h0}function K($,n0){for(var h0=n0^-1,X=$.length-15,H=0;H<X;)h0=R[$[H++]^h0&255]^_[$[H++]^h0>>8&255]^A[$[H++]^h0>>16&255]^L[$[H++]^h0>>>24]^w[$[H++]]^f[$[H++]]^g[$[H++]]^p[$[H++]]^u[$[H++]]^h[$[H++]]^l[$[H++]]^c[$[H++]]^o[$[H++]]^a[$[H++]]^s[$[H++]]^n[$[H++]];for(X+=15;H<X;)h0=h0>>>8^n[(h0^$[H++])&255];return~h0}function Z($,n0){for(var h0=n0^-1,X=0,H=$.length,U=0,P=0;X<H;)U=$.charCodeAt(X++),U<128?h0=h0>>>8^n[(h0^U)&255]:U<2048?(h0=h0>>>8^n[(h0^(192|U>>6&31))&255],h0=h0>>>8^n[(h0^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,P=$.charCodeAt(X++)&1023,h0=h0>>>8^n[(h0^(240|U>>8&7))&255],h0=h0>>>8^n[(h0^(128|U>>2&63))&255],h0=h0>>>8^n[(h0^(128|P>>6&15|(U&3)<<4))&255],h0=h0>>>8^n[(h0^(128|P&63))&255]):(h0=h0>>>8^n[(h0^(224|U>>12&15))&255],h0=h0>>>8^n[(h0^(128|U>>6&63))&255],h0=h0>>>8^n[(h0^(128|U&63))&255]);return~h0}t.table=n,t.bstr=G,t.buf=K,t.str=Z})});var $H=c1(WH=>{"use strict";(function(t,e){"use strict";if(t.setImmediate)return;var n=1,r={},i=!1,s=t.document,a;function o(_){typeof _!="function"&&(_=new Function(""+_));for(var R=new Array(arguments.length-1),G=0;G<R.length;G++)R[G]=arguments[G+1];var K={callback:_,args:R};return r[n]=K,a(n),n++}function c(_){delete r[_]}function l(_){var R=_.callback,G=_.args;switch(G.length){case 0:R();break;case 1:R(G[0]);break;case 2:R(G[0],G[1]);break;case 3:R(G[0],G[1],G[2]);break;default:R.apply(e,G);break}}function h(_){if(i)setTimeout(h,0,_);else{var R=r[_];if(R){i=!0;try{l(R)}finally{c(_),i=!1}}}}function u(){a=function(_){process.nextTick(function(){h(_)})}}function p(){if(t.postMessage&&!t.importScripts){var _=!0,R=t.onmessage;return t.onmessage=function(){_=!1},t.postMessage("","*"),t.onmessage=R,_}}function g(){var _="setImmediate$"+Math.random()+"$",R=function(G){G.source===t&&typeof G.data=="string"&&G.data.indexOf(_)===0&&h(+G.data.slice(_.length))};t.addEventListener?t.addEventListener("message",R,!1):t.attachEvent("onmessage",R),a=function(G){t.postMessage(_+G,"*")}}function f(){var _=new MessageChannel;_.port1.onmessage=function(R){var G=R.data;h(G)},a=function(R){_.port2.postMessage(R)}}function w(){var _=s.documentElement;a=function(R){var G=s.createElement("script");G.onreadystatechange=function(){h(R),G.onreadystatechange=null,_.removeChild(G),G=null},_.appendChild(G)}}function L(){a=function(_){setTimeout(h,0,_)}}var A=Object.getPrototypeOf&&Object.getPrototypeOf(t);A=A&&A.setTimeout?A:t,{}.toString.call(t.process)==="[object process]"?u():p()?g():t.MessageChannel?f():s&&"onreadystatechange"in s.createElement("script")?w():L(),A.setImmediate=o,A.clearImmediate=c})(typeof self>"u"?typeof global>"u"?WH:global:self)});var eA=c1(Jf=>{"use strict";Jf.byteLength=or0;Jf.toByteArray=lr0;Jf.fromByteArray=dr0;var L8=[],Y6=[],ar0=typeof Uint8Array<"u"?Uint8Array:Array,XC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Vn=0,$R=XC.length;Vn<$R;++Vn)L8[Vn]=XC[Vn],Y6[XC.charCodeAt(Vn)]=Vn;var Vn,$R;Y6["-".charCodeAt(0)]=62;Y6["_".charCodeAt(0)]=63;function KR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function or0(t){var e=KR(t),n=e[0],r=e[1];return(n+r)*3/4-r}function cr0(t,e,n){return(e+n)*3/4-n}function lr0(t){var e,n=KR(t),r=n[0],i=n[1],s=new ar0(cr0(t,r,i)),a=0,o=i>0?r-4:r,c;for(c=0;c<o;c+=4)e=Y6[t.charCodeAt(c)]<<18|Y6[t.charCodeAt(c+1)]<<12|Y6[t.charCodeAt(c+2)]<<6|Y6[t.charCodeAt(c+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Y6[t.charCodeAt(c)]<<2|Y6[t.charCodeAt(c+1)]>>4,s[a++]=e&255),i===1&&(e=Y6[t.charCodeAt(c)]<<10|Y6[t.charCodeAt(c+1)]<<4|Y6[t.charCodeAt(c+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function hr0(t){return L8[t>>18&63]+L8[t>>12&63]+L8[t>>6&63]+L8[t&63]}function ur0(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(hr0(r));return i.join("")}function dr0(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,o=n-r;a<o;a+=s)i.push(ur0(t,a,a+s>o?o:a+s));return r===1?(e=t[n-1],i.push(L8[e>>2]+L8[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(L8[e>>10]+L8[e>>4&63]+L8[e<<2&63]+"=")),i.join("")}});var nA=c1(tA=>{"use strict";tA.read=function(t,e,n,r,i){var s,a,o=i*8-r-1,c=(1<<o)-1,l=c>>1,h=-7,u=n?i-1:0,p=n?-1:1,g=t[e+u];for(u+=p,s=g&(1<<-h)-1,g>>=-h,h+=o;h>0;s=s*256+t[e+u],u+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=r;h>0;a=a*256+t[e+u],u+=p,h-=8);if(s===0)s=1-l;else{if(s===c)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-l}return(g?-1:1)*a*Math.pow(2,s-r)};tA.write=function(t,e,n,r,i,s){var a,o,c,l=s*8-i-1,h=(1<<l)-1,u=h>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,f=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+u>=1?e+=p/c:e+=p*Math.pow(2,1-u),e*c>=2&&(a++,c/=2),a+u>=h?(o=0,a=h):a+u>=1?(o=(e*c-1)*Math.pow(2,i),a=a+u):(o=e*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;t[n+g]=o&255,g+=f,o/=256,i-=8);for(a=a<<i|o,l+=i;l>0;t[n+g]=a&255,g+=f,a/=256,l-=8);t[n+g-f]|=w*128}});var tg=c1(xs=>{"use strict";var rA=eA(),bs=nA(),QR=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;xs.Buffer=F0;xs.SlowBuffer=br0;xs.INSPECT_MAX_BYTES=50;var Xf=2147483647;xs.kMaxLength=Xf;F0.TYPED_ARRAY_SUPPORT=pr0();!F0.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function pr0(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(F0.prototype,"parent",{enumerable:!0,get:function(){if(F0.isBuffer(this))return this.buffer}});Object.defineProperty(F0.prototype,"offset",{enumerable:!0,get:function(){if(F0.isBuffer(this))return this.byteOffset}});function He(t){if(t>Xf)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,F0.prototype),e}function F0(t,e,n){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return oA(t)}return XR(t,e,n)}F0.poolSize=8192;function XR(t,e,n){if(typeof t=="string")return fr0(t,e);if(ArrayBuffer.isView(t))return gr0(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(I8(t,ArrayBuffer)||t&&I8(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(I8(t,SharedArrayBuffer)||t&&I8(t.buffer,SharedArrayBuffer)))return sA(t,e,n);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(r!=null&&r!==t)return F0.from(r,e,n);var i=vr0(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return F0.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}F0.from=function(t,e,n){return XR(t,e,n)};Object.setPrototypeOf(F0.prototype,Uint8Array.prototype);Object.setPrototypeOf(F0,Uint8Array);function eN(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function mr0(t,e,n){return eN(t),t<=0?He(t):e!==void 0?typeof n=="string"?He(t).fill(e,n):He(t).fill(e):He(t)}F0.alloc=function(t,e,n){return mr0(t,e,n)};function oA(t){return eN(t),He(t<0?0:cA(t)|0)}F0.allocUnsafe=function(t){return oA(t)};F0.allocUnsafeSlow=function(t){return oA(t)};function fr0(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!F0.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=tN(t,e)|0,r=He(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function iA(t){for(var e=t.length<0?0:cA(t.length)|0,n=He(e),r=0;r<e;r+=1)n[r]=t[r]&255;return n}function gr0(t){if(I8(t,Uint8Array)){var e=new Uint8Array(t);return sA(e.buffer,e.byteOffset,e.byteLength)}return iA(t)}function sA(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return e===void 0&&n===void 0?r=new Uint8Array(t):n===void 0?r=new Uint8Array(t,e):r=new Uint8Array(t,e,n),Object.setPrototypeOf(r,F0.prototype),r}function vr0(t){if(F0.isBuffer(t)){var e=cA(t.length)|0,n=He(e);return n.length===0||t.copy(n,0,0,e),n}if(t.length!==void 0)return typeof t.length!="number"||lA(t.length)?He(0):iA(t);if(t.type==="Buffer"&&Array.isArray(t.data))return iA(t.data)}function cA(t){if(t>=Xf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Xf.toString(16)+" bytes");return t|0}function br0(t){return+t!=t&&(t=0),F0.alloc(+t)}F0.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==F0.prototype};F0.compare=function(e,n){if(I8(e,Uint8Array)&&(e=F0.from(e,e.offset,e.byteLength)),I8(n,Uint8Array)&&(n=F0.from(n,n.offset,n.byteLength)),!F0.isBuffer(e)||!F0.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,i=n.length,s=0,a=Math.min(r,i);s<a;++s)if(e[s]!==n[s]){r=e[s],i=n[s];break}return r<i?-1:i<r?1:0};F0.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F0.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F0.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=F0.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){var a=e[r];if(I8(a,Uint8Array))s+a.length>i.length?F0.from(a).copy(i,s):Uint8Array.prototype.set.call(i,a,s);else if(F0.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function tN(t,e){if(F0.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||I8(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return aA(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return oN(t).length;default:if(i)return r?-1:aA(t).length;e=(""+e).toLowerCase(),i=!0}}F0.byteLength=tN;function xr0(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return kr0(this,e,n);case"utf8":case"utf-8":return rN(this,e,n);case"ascii":return Er0(this,e,n);case"latin1":case"binary":return Sr0(this,e,n);case"base64":return Ar0(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr0(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}F0.prototype._isBuffer=!0;function Rn(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}F0.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)Rn(this,n,n+1);return this};F0.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)Rn(this,n,n+3),Rn(this,n+1,n+2);return this};F0.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)Rn(this,n,n+7),Rn(this,n+1,n+6),Rn(this,n+2,n+5),Rn(this,n+3,n+4);return this};F0.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?rN(this,0,e):xr0.apply(this,arguments)};F0.prototype.toLocaleString=F0.prototype.toString;F0.prototype.equals=function(e){if(!F0.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F0.compare(this,e)===0};F0.prototype.inspect=function(){var e="",n=xs.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"};QR&&(F0.prototype[QR]=F0.prototype.inspect);F0.prototype.compare=function(e,n,r,i,s){if(I8(e,Uint8Array)&&(e=F0.from(e,e.offset,e.byteLength)),!F0.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),n<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&n>=r)return 0;if(i>=s)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var a=s-i,o=r-n,c=Math.min(a,o),l=this.slice(i,s),h=e.slice(n,r),u=0;u<c;++u)if(l[u]!==h[u]){a=l[u],o=h[u];break}return a<o?-1:o<a?1:0};function nN(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,lA(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=F0.from(e,r)),F0.isBuffer(e))return e.length===0?-1:YR(t,e,n,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):YR(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function YR(t,e,n,r,i){var s=1,a=t.length,o=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,n/=2}function c(g,f){return s===1?g[f]:g.readUInt16BE(f*s)}var l;if(i){var h=-1;for(l=n;l<a;l++)if(c(t,l)===c(e,h===-1?0:l-h)){if(h===-1&&(h=l),l-h+1===o)return h*s}else h!==-1&&(l-=l-h),h=-1}else for(n+o>a&&(n=a-o),l=n;l>=0;l--){for(var u=!0,p=0;p<o;p++)if(c(t,l+p)!==c(e,p)){u=!1;break}if(u)return l}return-1}F0.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};F0.prototype.indexOf=function(e,n,r){return nN(this,e,n,r,!0)};F0.prototype.lastIndexOf=function(e,n,r){return nN(this,e,n,r,!1)};function wr0(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(e.substr(a*2,2),16);if(lA(o))return a;t[n+a]=o}return a}function yr0(t,e,n,r){return eg(aA(e,t.length-n),t,n,r)}function zr0(t,e,n,r){return eg(Ir0(e),t,n,r)}function Mr0(t,e,n,r){return eg(oN(e),t,n,r)}function Cr0(t,e,n,r){return eg(Dr0(e,t.length-n),t,n,r)}F0.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return wr0(this,e,n,r);case"utf8":case"utf-8":return yr0(this,e,n,r);case"ascii":case"latin1":case"binary":return zr0(this,e,n,r);case"base64":return Mr0(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Cr0(this,e,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};F0.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ar0(t,e,n){return e===0&&n===t.length?rA.fromByteArray(t):rA.fromByteArray(t.slice(e,n))}function rN(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=n){var c,l,h,u;switch(o){case 1:s<128&&(a=s);break;case 2:c=t[i+1],(c&192)===128&&(u=(s&31)<<6|c&63,u>127&&(a=u));break;case 3:c=t[i+1],l=t[i+2],(c&192)===128&&(l&192)===128&&(u=(s&15)<<12|(c&63)<<6|l&63,u>2047&&(u<55296||u>57343)&&(a=u));break;case 4:c=t[i+1],l=t[i+2],h=t[i+3],(c&192)===128&&(l&192)===128&&(h&192)===128&&(u=(s&15)<<18|(c&63)<<12|(l&63)<<6|h&63,u>65535&&u<1114112&&(a=u))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),i+=o}return _r0(r)}var JR=4096;function _r0(t){var e=t.length;if(e<=JR)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=JR));return n}function Er0(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function Sr0(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function kr0(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=Or0[t[s]];return i}function Tr0(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}F0.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i=this.subarray(e,n);return Object.setPrototypeOf(i,F0.prototype),i};function U4(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}F0.prototype.readUintLE=F0.prototype.readUIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||U4(e,n,this.length);for(var i=this[e],s=1,a=0;++a<n&&(s*=256);)i+=this[e+a]*s;return i};F0.prototype.readUintBE=F0.prototype.readUIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||U4(e,n,this.length);for(var i=this[e+--n],s=1;n>0&&(s*=256);)i+=this[e+--n]*s;return i};F0.prototype.readUint8=F0.prototype.readUInt8=function(e,n){return e=e>>>0,n||U4(e,1,this.length),this[e]};F0.prototype.readUint16LE=F0.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||U4(e,2,this.length),this[e]|this[e+1]<<8};F0.prototype.readUint16BE=F0.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||U4(e,2,this.length),this[e]<<8|this[e+1]};F0.prototype.readUint32LE=F0.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||U4(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F0.prototype.readUint32BE=F0.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||U4(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F0.prototype.readIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||U4(e,n,this.length);for(var i=this[e],s=1,a=0;++a<n&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i};F0.prototype.readIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||U4(e,n,this.length);for(var i=n,s=1,a=this[e+--i];i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*n)),a};F0.prototype.readInt8=function(e,n){return e=e>>>0,n||U4(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F0.prototype.readInt16LE=function(e,n){e=e>>>0,n||U4(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};F0.prototype.readInt16BE=function(e,n){e=e>>>0,n||U4(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};F0.prototype.readInt32LE=function(e,n){return e=e>>>0,n||U4(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F0.prototype.readInt32BE=function(e,n){return e=e>>>0,n||U4(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F0.prototype.readFloatLE=function(e,n){return e=e>>>0,n||U4(e,4,this.length),bs.read(this,e,!0,23,4)};F0.prototype.readFloatBE=function(e,n){return e=e>>>0,n||U4(e,4,this.length),bs.read(this,e,!1,23,4)};F0.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||U4(e,8,this.length),bs.read(this,e,!0,52,8)};F0.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||U4(e,8,this.length),bs.read(this,e,!1,52,8)};function $5(t,e,n,r,i,s){if(!F0.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}F0.prototype.writeUintLE=F0.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){var s=Math.pow(2,8*r)-1;$5(this,e,n,r,s,0)}var a=1,o=0;for(this[n]=e&255;++o<r&&(a*=256);)this[n+o]=e/a&255;return n+r};F0.prototype.writeUintBE=F0.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){var s=Math.pow(2,8*r)-1;$5(this,e,n,r,s,0)}var a=r-1,o=1;for(this[n+a]=e&255;--a>=0&&(o*=256);)this[n+a]=e/o&255;return n+r};F0.prototype.writeUint8=F0.prototype.writeUInt8=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,1,255,0),this[n]=e&255,n+1};F0.prototype.writeUint16LE=F0.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2};F0.prototype.writeUint16BE=F0.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2};F0.prototype.writeUint32LE=F0.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4};F0.prototype.writeUint32BE=F0.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};F0.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){var s=Math.pow(2,8*r-1);$5(this,e,n,r,s-1,-s)}var a=0,o=1,c=0;for(this[n]=e&255;++a<r&&(o*=256);)e<0&&c===0&&this[n+a-1]!==0&&(c=1),this[n+a]=(e/o>>0)-c&255;return n+r};F0.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){var s=Math.pow(2,8*r-1);$5(this,e,n,r,s-1,-s)}var a=r-1,o=1,c=0;for(this[n+a]=e&255;--a>=0&&(o*=256);)e<0&&c===0&&this[n+a+1]!==0&&(c=1),this[n+a]=(e/o>>0)-c&255;return n+r};F0.prototype.writeInt8=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1};F0.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2};F0.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2};F0.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4};F0.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||$5(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function iN(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function sN(t,e,n,r,i){return e=+e,n=n>>>0,i||iN(t,e,n,4,34028234663852886e22,-34028234663852886e22),bs.write(t,e,n,r,23,4),n+4}F0.prototype.writeFloatLE=function(e,n,r){return sN(this,e,n,!0,r)};F0.prototype.writeFloatBE=function(e,n,r){return sN(this,e,n,!1,r)};function aN(t,e,n,r,i){return e=+e,n=n>>>0,i||iN(t,e,n,8,17976931348623157e292,-17976931348623157e292),bs.write(t,e,n,r,52,8),n+8}F0.prototype.writeDoubleLE=function(e,n,r){return aN(this,e,n,!0,r)};F0.prototype.writeDoubleBE=function(e,n,r){return aN(this,e,n,!1,r)};F0.prototype.copy=function(e,n,r,i){if(!F0.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),n),s};F0.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!F0.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var a;if(typeof e=="number")for(a=n;a<r;++a)this[a]=e;else{var o=F0.isBuffer(e)?e:F0.from(e,i),c=o.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=o[a%c]}return this};var Pr0=/[^+/0-9A-Za-z-_]/g;function Lr0(t){if(t=t.split("=")[0],t=t.trim().replace(Pr0,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function aA(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function Ir0(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function Dr0(t,e){for(var n,r,i,s=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function oN(t){return rA.toByteArray(Lr0(t))}function eg(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function I8(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function lA(t){return t!==t}var Or0=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=n*16,i=0;i<16;++i)e[r+i]=t[n]+t[i];return e}()});var B7=c1((DB0,cN)=>{"use strict";cN.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}});var ml=c1((OB0,lN)=>{"use strict";lN.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}});var uN=c1(G4=>{"use strict";"use strict;";var{Buffer:N4}=tg(),ng=4294967292,rg=4294967293,hA=4294967294,hN=4294967295,h1=[0,1,3,7,15,31,63,127,255,511,1023],it=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],Fr0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),y6=[];Fr0.forEach(t=>{y6.push(t.charCodeAt(0))});G4.utf8={encode(t){let e=[];return t.forEach(n=>{if(n>=0&&n<=127)e.push(n);else if(n<=2047)e.push(192+(n>>6&h1[5])),e.push(128+(n&h1[6]));else if(n<55296||n>57343&&n<=65535)e.push(224+(n>>12&h1[4])),e.push(128+(n>>6&h1[6])),e.push(128+(n&h1[6]));else if(n>=65536&&n<=1114111){let r=n>>16&h1[5];e.push(240+(r>>2)),e.push(128+((r&h1[2])<<4)+(n>>12&h1[4])),e.push(128+(n>>6&h1[6])),e.push(128+(n&h1[6]))}else throw new RangeError(`utf8.encode: character out of range: char: ${n}`)}),N4.from(e)},decode(t,e){function n(f,w){if((w&192)!==128)return rg;let L=((f&h1[5])<<6)+(w&h1[6]);return L<128?ng:L}function r(f,w,L){if((L&192)!==128||(w&192)!==128)return rg;let A=((f&h1[4])<<12)+((w&h1[6])<<6)+(L&h1[6]);return A<2048?ng:A>=55296&&A<=57343?hA:A}function i(f,w,L,A){if((A&192)!==128||(L&192)!==128||(w&192)!==128)return rg;let _=(((f&h1[3])<<2)+(w>>4&h1[2])<<16)+((w&h1[4])<<12)+((L&h1[6])<<6)+(A&h1[6]);return _<65536?ng:_>1114111?hA:_}let s,a,o,c,l,h,u=t.length,p=e?3:0,g=[];for(;p<u;){a=t[p],s=hN;let f=!0;for(;f;){if(a>=0&&a<=127){s=a,h=1;break}if(o=p+1,o<u&&a>=194&&a<=223){s=n(a,t[o]),h=2;break}if(c=p+2,c<u&&a>=224&&a<=239){s=r(a,t[o],t[c]),h=3;break}if(l=p+3,l<u&&a>=240&&a<=244){s=i(a,t[o],t[c],t[l]),h=4;break}break}if(s>1114111){let w=`byte[${p}]`;throw s===hN?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${w}`):s===rg?new RangeError(`utf8.decode: illegal trailing byte found at: ${w}`):s===hA?new RangeError(`utf8.decode: code point out of range found at: ${w}`):s===ng?new RangeError(`utf8.decode: non-shortest form found at: ${w}`):new RangeError(`utf8.decode: unrecognized error found at: ${w}`)}g.push(s),p+=h}return g}};G4.utf16be={encode(t){let e=[],n,r,i;for(let s=0;s<t.length;s+=1)if(n=t[s],n>=0&&n<=55295||n>=57344&&n<=65535)e.push(n>>8&h1[8]),e.push(n&h1[8]);else if(n>=65536&&n<=1114111)i=n-65536,r=55296+(i>>10),i=56320+(i&h1[10]),e.push(r>>8&h1[8]),e.push(r&h1[8]),e.push(i>>8&h1[8]),e.push(i&h1[8]);else throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${s}]: ${n}`);return N4.from(e)},decode(t,e){if(t.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${t.length}`);let n=[],r=t.length,i=e?2:0,s=0,a,o,c,l,h,u;for(;i<r;){for(;;){if(c=i+1,c<r){if(h=(t[i]<<8)+t[c],h<55296||h>57343){a=h,o=2;break}if(l=i+3,l<r&&(u=(t[i+2]<<8)+t[l],h<=56319&&u>=56320&&u<=57343)){a=65536+(h-55296<<10)+(u-56320),o=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${i}]`)}n[s++]=a,i+=o}return n}};G4.utf16le={encode(t){let e=[],n,r,i;for(let s=0;s<t.length;s+=1)if(n=t[s],n>=0&&n<=55295||n>=57344&&n<=65535)e.push(n&h1[8]),e.push(n>>8&h1[8]);else if(n>=65536&&n<=1114111)i=n-65536,r=55296+(i>>10),i=56320+(i&h1[10]),e.push(r&h1[8]),e.push(r>>8&h1[8]),e.push(i&h1[8]),e.push(i>>8&h1[8]);else throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${s}]: ${n}`);return N4.from(e)},decode(t,e){if(t.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${t.length}`);let n=[],r=t.length,i=e?2:0,s=0,a,o,c,l,h,u;for(;i<r;){for(;;){if(c=i+1,c<r){if(h=(t[c]<<8)+t[i],h<55296||h>57343){a=h,o=2;break}if(l=i+3,l<r&&(u=(t[l]<<8)+t[i+2],h<=56319&&u>=56320&&u<=57343)){a=65536+(h-55296<<10)+(u-56320),o=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${i}]`)}n[s++]=a,i+=o}return n}};G4.utf32be={encode(t){let e=N4.alloc(t.length*4),n=0;return t.forEach(r=>{if(r>=55296&&r<=57343||r>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${n/4}]: ${r}`);e[n++]=r>>24&h1[8],e[n++]=r>>16&h1[8],e[n++]=r>>8&h1[8],e[n++]=r&h1[8]}),e},decode(t,e){if(t.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${t.length}`);let n=[],r=e?4:0;for(;r<t.length;r+=4){let i=(t[r]<<24)+(t[r+1]<<16)+(t[r+2]<<8)+t[r+3];if(i>=55296&&i<=57343||i>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${r/4}]: ${i}`);n.push(i)}return n}};G4.utf32le={encode(t){let e=N4.alloc(t.length*4),n=0;return t.forEach(r=>{if(r>=55296&&r<=57343||r>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${r}`);e[n++]=r&h1[8],e[n++]=r>>8&h1[8],e[n++]=r>>16&h1[8],e[n++]=r>>24&h1[8]}),e},decode(t,e){if(t.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${t.length}`);let n=[],r=e?4:0;for(;r<t.length;r+=4){let i=(t[r+3]<<24)+(t[r+2]<<16)+(t[r+1]<<8)+t[r];if(i>=55296&&i<=57343||i>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${r/4}]: ${i}`);n.push(i)}return n}};G4.uint7={encode(t){let e=N4.alloc(t.length);for(let n=0;n<t.length;n+=1){if(t[n]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${n}]: ${t[n]}`);e[n]=t[n]}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=1){if(t[n]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${n}]: ${t[n]}`);e[n]=t[n]}return e}};G4.uint8={encode(t){let e=N4.alloc(t.length);for(let n=0;n<t.length;n+=1){if(t[n]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${n}]: ${t[n]}`);e[n]=t[n]}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=1)e[n]=t[n];return e}};G4.uint16be={encode(t){let e=N4.alloc(t.length*2),n=0;return t.forEach(r=>{if(r>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${n/2}]: ${r}`);e[n++]=r>>8&h1[8],e[n++]=r&h1[8]}),e},decode(t){if(t.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${t.length}`);let e=[];for(let n=0;n<t.length;n+=2)e.push((t[n]<<8)+t[n+1]);return e}};G4.uint16le={encode(t){let e=N4.alloc(t.length*2),n=0;return t.forEach(r=>{if(r>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${n/2}]: ${r}`);e[n++]=r&h1[8],e[n++]=r>>8&h1[8]}),e},decode(t){if(t.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${t.length}`);let e=[];for(let n=0;n<t.length;n+=2)e.push((t[n+1]<<8)+t[n]);return e}};G4.uint32be={encode(t){let e=N4.alloc(t.length*4),n=0;return t.forEach(r=>{e[n++]=r>>24&h1[8],e[n++]=r>>16&h1[8],e[n++]=r>>8&h1[8],e[n++]=r&h1[8]}),e},decode(t){if(t.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${t.length}`);let e=[];for(let n=0;n<t.length;n+=4)e.push((t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3]);return e}};G4.uint32le={encode(t){let e=N4.alloc(t.length*4),n=0;return t.forEach(r=>{e[n++]=r&h1[8],e[n++]=r>>8&h1[8],e[n++]=r>>16&h1[8],e[n++]=r>>24&h1[8]}),e},decode(t){if(t.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${t.length}`);let e=[];for(let n=0;n<t.length;n+=4)e.push((t[n+3]<<24)+(t[n+2]<<16)+(t[n+1]<<8)+t[n]);return e}};G4.string={encode(t){return G4.utf16le.encode(t).toString("utf16le")},decode(t){return G4.utf16le.decode(N4.from(t,"utf16le"),0)}};G4.escaped={encode(t){let e=[];for(let n=0;n<t.length;n+=1){let r=t[n];if(r===96)e.push(r),e.push(r);else if(r===10)e.push(r);else if(r>=32&&r<=126)e.push(r);else{let i="";if(r>=0&&r<=31)i+=`\`x${it[r]}`;else if(r>=127&&r<=255)i+=`\`x${it[r]}`;else if(r>=256&&r<=65535)i+=`\`u${it[r>>8&h1[8]]}${it[r&h1[8]]}`;else if(r>=65536&&r<=4294967295){i+="`u{";let a=r>>24&h1[8];a>0&&(i+=it[a]),i+=`${it[r>>16&h1[8]]+it[r>>8&h1[8]]+it[r&h1[8]]}}`}else throw new Error("escape.encode(char): char > 0xffffffff not allowed");N4.from(i).forEach(a=>{e.push(a)})}}return N4.from(e)},decode(t){function e(u){return u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102}function n(u,p,g){let f={char:null,nexti:u+2,error:!0};if(u+1<p&&e(g[u])&&e(g[u+1])){let w=String.fromCodePoint(g[u],g[u+1]);f.char=parseInt(w,16),Number.isNaN(f.char)||(f.error=!1)}return f}function r(u,p,g){let f={char:null,nexti:u+4,error:!0};if(u+3<p&&e(g[u])&&e(g[u+1])&&e(g[u+2])&&e(g[u+3])){let w=String.fromCodePoint(g[u],g[u+1],g[u+2],g[u+3]);f.char=parseInt(w,16),Number.isNaN(f.char)||(f.error=!1)}return f}function i(u,p,g){let f={char:null,nexti:u+4,error:!0},w="";for(;u<p&&e(g[u]);)w+=String.fromCodePoint(g[u]),u+=1;return f.char=parseInt(w,16),g[u]===125&&!Number.isNaN(f.char)&&(f.error=!1),f.nexti=u+1,f}let s=[],a=t.length,o,c,l,h=0;for(;h<a;){for(;;){if(l=!0,t[h]!==96){s.push(t[h]),h+=1,l=!1;break}if(o=h+1,o>=a)break;if(t[o]===96){s.push(96),h+=2,l=!1;break}if(t[o]===120){if(c=n(o+1,a,t),c.error)break;s.push(c.char),h=c.nexti,l=!1;break}if(t[o]===117){if(t[o+1]===123){if(c=i(o+2,a,t),c.error)break;s.push(c.char),h=c.nexti,l=!1;break}if(c=r(o+1,a,t),c.error)break;s.push(c.char),h=c.nexti,l=!1;break}break}if(l)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${h}]`)}return s}};var fl=13,J6=10;G4.lineEnds={crlf(t){let e=[],n=0;for(;n<t.length;)switch(t[n]){case fl:n+1<t.length&&t[n+1]===J6?n+=2:n+=1,e.push(fl),e.push(J6);break;case J6:e.push(fl),e.push(J6),n+=1;break;default:e.push(t[n]),n+=1;break}return e.length>0&&e[e.length-1]!==J6&&(e.push(fl),e.push(J6)),e},lf(t){let e=[],n=0;for(;n<t.length;)switch(t[n]){case fl:n+1<t.length&&t[n+1]===J6?n+=2:n+=1,e.push(J6);break;case J6:e.push(J6),n+=1;break;default:e.push(t[n]),n+=1;break}return e.length>0&&e[e.length-1]!==J6&&e.push(J6),e}};G4.base64={encode(t){if(t.length===0)return N4.alloc(0);let e,n,r,i=t.length%3;i=i>0?3-i:0;let s=(t.length+i)/3,a=N4.alloc(s*4);i>0&&(s-=1),e=0,n=0;for(let o=0;o<s;o+=1)r=t[e++]<<16,r+=t[e++]<<8,r+=t[e++],a[n++]=y6[r>>18&h1[6]],a[n++]=y6[r>>12&h1[6]],a[n++]=y6[r>>6&h1[6]],a[n++]=y6[r&h1[6]];if(i===0)return a;if(i===1)return r=t[e++]<<16,r+=t[e]<<8,a[n++]=y6[r>>18&h1[6]],a[n++]=y6[r>>12&h1[6]],a[n++]=y6[r>>6&h1[6]],a[n]=y6[64],a;if(i===2)return r=t[e]<<16,a[n++]=y6[r>>18&h1[6]],a[n++]=y6[r>>12&h1[6]],a[n++]=y6[64],a[n]=y6[64],a},decode(t){function e(h){let u=[],p=0;for(let g=0;g<h.length;g+=1){let f=h[g],w=!0;for(;w&&!(f===32||f===9||f===10||f===13);){if(f>=65&&f<=90){u.push(f-65);break}if(f>=97&&f<=122){u.push(f-71);break}if(f>=48&&f<=57){u.push(f+4);break}if(f===43){u.push(62);break}if(f===47){u.push(63);break}if(f===61){u.push(64),p+=1;break}throw new RangeError(`base64.decode: invalid character buf[${g}]: ${f}`)}}if(u.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${u.length}`);switch(p){case 0:break;case 1:if(u[u.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(u[u.length-1]!==64||u[u.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${p}`)}return{tail:p,buf:N4.from(u)}}if(t.length===0)return N4.alloc(0);let n=e(t),{tail:r}=n,i=n.buf,s,a,o,c=i.length/4,l=N4.alloc(c*3-r);r>0&&(c-=1),a=0,s=0;for(let h=0;h<c;h+=1)o=i[s++]<<18,o+=i[s++]<<12,o+=i[s++]<<6,o+=i[s++],l[a++]=o>>16&h1[8],l[a++]=o>>8&h1[8],l[a++]=o&h1[8];return r===1&&(o=i[s++]<<18,o+=i[s++]<<12,o+=i[s]<<6,l[a++]=o>>16&h1[8],l[a]=o>>8&h1[8]),r===2&&(o=i[s++]<<18,o+=i[s++]<<12,l[a]=o>>16&h1[8]),l},toString(t){if(t.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${t.length}`);let e="",n=0;function r(s,a,o,c){switch(n){case 76:e+=`\r
${s}${a}${o}${c}`,n=4;break;case 75:e+=`${s}\r
${a}${o}${c}`,n=3;break;case 74:e+=`${s+a}\r
${o}${c}`,n=2;break;case 73:e+=`${s+a+o}\r
${c}`,n=1;break;default:e+=s+a+o+c,n+=4;break}}function i(s){return s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||s===43||s===47||s===61}for(let s=0;s<t.length;s+=4){for(let a=s;a<s+4;a+=1)if(!i(t[a]))throw new RangeError(`base64.toString: buf[${a}]: ${t[a]} : not valid base64 character code`);r(String.fromCharCode(t[s]),String.fromCharCode(t[s+1]),String.fromCharCode(t[s+2]),String.fromCharCode(t[s+3]))}return e}}});var fA=c1(Cs=>{"use strict";"use strict;";var{Buffer:uA}=tg(),u3=uN(),gl="UTF8",pA="UTF16",D8="UTF16BE",Ve="UTF16LE",mA="UTF32",O8="UTF32BE",Re="UTF32LE",ws="UINT7",dN="ASCII",pN="BINARY",ys="UINT8",mN="UINT16",ig="UINT16LE",zs="UINT16BE",fN="UINT32",sg="UINT32LE",Ms="UINT32BE",ag="ESCAPED",st="STRING",Hr0=function(e){e.type=gl;let n=e.data;e.bom=0,n.length>=3&&n[0]===239&&n[1]===187&&n[2]===191&&(e.bom=3)},Vr0=function(e){let n=e.data;switch(e.bom=0,e.type){case pA:e.type=D8,n.length>=2&&(n[0]===254&&n[1]===255?e.bom=2:n[0]===255&&n[1]===254&&(e.type=Ve,e.bom=2));break;case D8:if(e.type=D8,n.length>=2){if(n[0]===254&&n[1]===255)e.bom=2;else if(n[0]===255&&n[1]===254)throw new TypeError(`src type: "${D8}" specified but BOM is for "${Ve}"`)}break;case Ve:if(e.type=Ve,n.length>=0){if(n[0]===254&&n[1]===255)throw new TypeError(`src type: "${Ve}" specified but BOM is for "${D8}"`);n[0]===255&&n[1]===254&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}},Rr0=function(e){let n=e.data;switch(e.bom=0,e.type){case mA:e.type=O8,n.length>=4&&(n[0]===0&&n[1]===0&&n[2]===254&&n[3]===255&&(e.bom=4),n[0]===255&&n[1]===254&&n[2]===0&&n[3]===0&&(e.type=Re,e.bom=4));break;case O8:if(e.type=O8,n.length>=4&&(n[0]===0&&n[1]===0&&n[2]===254&&n[3]===255&&(e.bom=4),n[0]===255&&n[1]===254&&n[2]===0&&n[3]===0))throw new TypeError(`src type: ${O8} specified but BOM is for ${Re}"`);break;case Re:if(e.type=Re,n.length>=4){if(n[0]===0&&n[1]===0&&n[2]===254&&n[3]===255)throw new TypeError(`src type: "${Re}" specified but BOM is for "${O8}"`);n[0]===255&&n[1]===254&&n[2]===0&&n[3]===0&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}},Nr0=function(e,n){function r(s){let a={type:"",base64:!1},c=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(s);return c&&(c[2]&&(a.type=c[2].toUpperCase()),c[1]&&(a.base64=!0)),a}let i=r(e.toUpperCase());if(i.base64){if(i.type===st)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type ${st}`);if(uA.isBuffer(n))i.data=u3.base64.decode(n);else if(typeof n=="string"){let s=uA.from(n,"ascii");i.data=u3.base64.decode(s)}else throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof n}`)}else i.data=n;switch(i.type){case gl:Hr0(i);break;case pA:case D8:case Ve:Vr0(i);break;case mA:case O8:case Re:Rr0(i);break;case mN:i.type=zs;break;case fN:i.type=Ms;break;case dN:i.type=ws;break;case pN:i.type=ys;break;case ws:case ys:case ig:case zs:case sg:case Ms:case st:case ag:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(i.type===st){if(typeof i.data!="string")throw new TypeError(`type: "${e}" but data is not a string`)}else if(!uA.isBuffer(i.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return i},Br0=function(e,n){function r(s){let a,o,c={crlf:!1,lf:!1,base64:!1,type:""},l=!0;for(;l;){if(o=s,a=s.slice(0,5),a==="CRLF:"){c.crlf=!0,o=s.slice(5);break}if(a=s.slice(0,3),a==="LF:"){c.lf=!0,o=s.slice(3);break}break}return a=o.split(":"),a.length===1?c.type=a[0]:a.length===2&&a[1]==="BASE64"&&(c.base64=!0,c.type=a[0]),c}if(!Array.isArray(n))throw new TypeError(`dst chars: not array: "${typeof n}`);if(typeof e!="string")throw new TypeError(`dst type: not string: "${typeof e}`);let i=r(e.toUpperCase());switch(i.type){case gl:case D8:case Ve:case O8:case Re:case ws:case ys:case ig:case zs:case sg:case Ms:case ag:break;case st:if(i.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${st}`);break;case dN:i.type=ws;break;case pN:i.type=ys;break;case pA:i.type=D8;break;case mA:i.type=O8;break;case mN:i.type=zs;break;case fN:i.type=Ms;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return i},dA=function(e,n){switch(e){case gl:return u3.utf8.encode(n);case D8:return u3.utf16be.encode(n);case Ve:return u3.utf16le.encode(n);case O8:return u3.utf32be.encode(n);case Re:return u3.utf32le.encode(n);case ws:return u3.uint7.encode(n);case ys:return u3.uint8.encode(n);case zs:return u3.uint16be.encode(n);case ig:return u3.uint16le.encode(n);case Ms:return u3.uint32be.encode(n);case sg:return u3.uint32le.encode(n);case st:return u3.string.encode(n);case ag:return u3.escaped.encode(n);default:throw new TypeError(`encode type "${e}" not recognized`)}},Zr0=function(e){switch(e.type){case gl:return u3.utf8.decode(e.data,e.bom);case Ve:return u3.utf16le.decode(e.data,e.bom);case D8:return u3.utf16be.decode(e.data,e.bom);case O8:return u3.utf32be.decode(e.data,e.bom);case Re:return u3.utf32le.decode(e.data,e.bom);case ws:return u3.uint7.decode(e.data);case ys:return u3.uint8.decode(e.data);case zs:return u3.uint16be.decode(e.data);case ig:return u3.uint16le.decode(e.data);case Ms:return u3.uint32be.decode(e.data);case sg:return u3.uint32le.decode(e.data);case st:return u3.string.decode(e.data);case ag:return u3.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}};Cs.decode=function(e,n){let r=Nr0(e,n);return Zr0(r)};Cs.encode=function(e,n){let r,i,s=Br0(e,n);return s.crlf?(r=u3.lineEnds.crlf(n),i=dA(s.type,r)):s.lf?(r=u3.lineEnds.lf(n),i=dA(s.type,r)):i=dA(s.type,n),s.base64&&(i=u3.base64.encode(i)),i};var jr0=function(e,n,r){return Cs.encode(r,Cs.decode(e,n))};Cs.convert=jr0});var gA=c1((VB0,gN)=>{"use strict";gN.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}});var Bn=c1(N3=>{"use strict";var K5=ml(),vA=fA(),Ur0=gA(),u4=B7(),at="utilities.js: ",Nn=function(t,e,n){let r,i=e,s=!0;for(;s;){if(t<=0){i=0,r=0;break}if(typeof i!="number"){i=0,r=t;break}if(i>=t){i=t,r=t;break}if(typeof n!="number"){r=t;break}if(r=i+n,r>t){r=t;break}break}return{beg:i,end:r}};N3.htmlToPage=function(t,e){let n;if(typeof t!="string")throw new Error(`${at}htmlToPage: input HTML is not a string`);typeof e!="string"?n="htmlToPage":n=e;let r="";return r+=`<!DOCTYPE html>
`,r+=`<html lang="en">
`,r+=`<head>
`,r+=`<meta charset="utf-8">
`,r+=`<title>${n}</title>
`,r+=`<style>
`,r+=Ur0(),r+=`</style>
`,r+=`</head>
<body>
`,r+=`<p>${new Date}</p>
`,r+=t,r+=`</body>
</html>
`,r};N3.parserResultToHtml=function(t,e){let n=null;typeof e=="string"&&e!==""&&(n=e);let r,i;t.success===!0?r=`<span class="${K5.CLASS_MATCH}">true</span>`:r=`<span class="${K5.CLASS_NOMATCH}">false</span>`,t.state===u4.EMPTY?i=`<span class="${K5.CLASS_EMPTY}">EMPTY</span>`:t.state===u4.MATCH?i=`<span class="${K5.CLASS_MATCH}">MATCH</span>`:t.state===u4.NOMATCH?i=`<span class="${K5.CLASS_NOMATCH}">NOMATCH</span>`:i=`<span class="${K5.CLASS_NOMATCH}">unrecognized</span>`;let s="";return s+=`<table class="${K5.CLASS_STATE}">
`,n&&(s+=`<caption>${n}</caption>
`),s+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,s+=`<tr><td>parser success</td><td>${r}</td>
`,s+=`<td><span class="${K5.CLASS_MATCH}">true</span> if the parse succeeded,
`,s+=` <span class="${K5.CLASS_NOMATCH}">false</span> otherwise`,s+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,s+=`<tr><td>parser state</td><td>${i}</td>
`,s+=`<td><span class="${K5.CLASS_EMPTY}">EMPTY</span>, `,s+=`<span class="${K5.CLASS_MATCH}">MATCH</span> or 
`,s+=`<span class="${K5.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,s+=`<tr><td>string length</td><td>${t.length}</td><td>length of the input (sub)string</td></tr>
`,s+=`<tr><td>matched length</td><td>${t.matched}</td><td>number of input string characters matched</td></tr>
`,s+=`<tr><td>max matched</td><td>${t.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,s+=`<tr><td>max tree depth</td><td>${t.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,s+=`<tr><td>node hits</td><td>${t.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,s+=`<tr><td>input length</td><td>${t.inputLength}</td><td>length of full input string</td></tr>
`,s+=`<tr><td>sub-string begin</td><td>${t.subBegin}</td><td>sub-string first character index</td></tr>
`,s+=`<tr><td>sub-string end</td><td>${t.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,s+=`<tr><td>sub-string length</td><td>${t.subLength}</td><td>sub-string length</td></tr>
`,s+=`</table>
`,s};N3.charsToString=function(t,e,n){let r,i;if(typeof e=="number"){if(e>=t.length)return"";r=e<0?0:e}else r=0;if(typeof n=="number"){if(n<=0)return"";i=n>t.length-r?t.length:r+n}else i=t.length;return r<i?vA.encode("UTF16LE",t.slice(r,i)).toString("utf16le"):""};N3.stringToChars=function(t){return vA.decode("STRING",t)};N3.opcodeToString=function(t){let e="unknown";switch(t){case u4.ALT:e="ALT";break;case u4.CAT:e="CAT";break;case u4.RNM:e="RNM";break;case u4.UDT:e="UDT";break;case u4.AND:e="AND";break;case u4.NOT:e="NOT";break;case u4.REP:e="REP";break;case u4.TRG:e="TRG";break;case u4.TBS:e="TBS";break;case u4.TLS:e="TLS";break;case u4.BKR:e="BKR";break;case u4.BKA:e="BKA";break;case u4.BKN:e="BKN";break;case u4.ABG:e="ABG";break;case u4.AEN:e="AEN";break;default:throw new Error("unrecognized opcode")}return e};N3.stateToString=function(t){let e="unknown";switch(t){case u4.ACTIVE:e="ACTIVE";break;case u4.MATCH:e="MATCH";break;case u4.EMPTY:e="EMPTY";break;case u4.NOMATCH:e="NOMATCH";break;default:throw new Error("unrecognized state")}return e};N3.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"];N3.charToHex=function(t){let e=t.toString(16).toUpperCase();switch(e.length){case 1:case 3:case 7:e=`0${e}`;break;case 2:case 6:e=`00${e}`;break;case 4:break;case 5:e=`000${e}`;break;default:throw new Error("unrecognized option")}return e};N3.charsToDec=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${at}charsToDec: input must be an array of integers`);let i=Nn(t.length,e,n);if(i.end>i.beg){r+=t[i.beg];for(let s=i.beg+1;s<i.end;s+=1)r+=`,${t[s]}`}return r};N3.charsToHex=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${at}charsToHex: input must be an array of integers`);let i=Nn(t.length,e,n);if(i.end>i.beg){r+=`\\x${N3.charToHex(t[i.beg])}`;for(let s=i.beg+1;s<i.end;s+=1)r+=`,\\x${N3.charToHex(t[s])}`}return r};N3.charsToHtmlEntities=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${at}charsToHex: input must be an array of integers`);let i=Nn(t.length,e,n);if(i.end>i.beg)for(let s=i.beg;s<i.end;s+=1)r+=`&#x${t[s].toString(16)};`;return r};function Gr0(t){return!(t>=55296&&t<=57343||t>1114111)}N3.charsToUnicode=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${at}charsToUnicode: input must be an array of integers`);let i=Nn(t.length,e,n);if(i.end>i.beg)for(let s=i.beg;s<i.end;s+=1)Gr0(t[s])?r+=`&#${t[s]};`:r+=` U+${N3.charToHex(t[s])}`;return r};N3.charsToJsUnicode=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${at}charsToJsUnicode: input must be an array of integers`);let i=Nn(t.length,e,n);if(i.end>i.beg){r+=`\\u${N3.charToHex(t[i.beg])}`;for(let s=i.beg+1;s<i.end;s+=1)r+=`,\\u${N3.charToHex(t[s])}`}return r};N3.charsToAscii=function(t,e,n){let r="";if(!Array.isArray(t))throw new Error(`${at}charsToAscii: input must be an array of integers`);let i=Nn(t.length,e,n);for(let s=i.beg;s<i.end;s+=1){let a=t[s];a>=32&&a<=126?r+=String.fromCharCode(a):r+=`\\x${N3.charToHex(a)}`}return r};N3.charsToAsciiHtml=function(t,e,n){if(!Array.isArray(t))throw new Error(`${at}charsToAsciiHtml: input must be an array of integers`);let r="",i,s=Nn(t.length,e,n);for(let a=s.beg;a<s.end;a+=1)i=t[a],i<32||i===127?r+=`<span class="${K5.CLASS_CTRLCHAR}">${N3.asciiChars[i]}</span>`:i>127?r+=`<span class="${K5.CLASS_CTRLCHAR}">U+${N3.charToHex(i)}</span>`:r+=N3.asciiChars[i];return r};N3.stringToAsciiHtml=function(t){let e=vA.decode("STRING",t);return this.charsToAsciiHtml(e)}});var bN=c1((NB0,vN)=>{"use strict";vN.exports=function(){let e=B7(),n=Bn(),r="ast.js: ",i=this,s=null,a=null,o=null,c=0,l=[],h=[],u=[],p=[];this.callbacks=[],this.astObject="astObject",this.init=function(w,L,A){u.length=0,p.length=0,l.length=0,c=0,s=w,a=L,o=A;let _,R=[];for(_=0;_<s.length;_+=1)R.push(s[_].lower);for(_=0;_<a.length;_+=1)R.push(a[_].lower);for(c=s.length+a.length,_=0;_<c;_+=1)l[_]=!1,h[_]=null;for(let G in i.callbacks){let K=G.toLowerCase();if(_=R.indexOf(K),_<0)throw new Error(`${r}init: node '${G}' not a rule or udt name`);typeof i.callbacks[G]=="function"&&(l[_]=!0,h[_]=i.callbacks[G]),i.callbacks[G]===!0&&(l[_]=!0)}},this.ruleDefined=function(w){return l[w]!==!1},this.udtDefined=function(w){return l[s.length+w]!==!1},this.down=function(w,L){let A=p.length;return u.push(A),p.push({name:L,thisIndex:A,thatIndex:null,state:e.SEM_PRE,callbackIndex:w,phraseIndex:null,phraseLength:null,stack:u.length}),A},this.up=function(w,L,A,_){let R=p.length,G=u.pop();return p.push({name:L,thisIndex:R,thatIndex:G,state:e.SEM_POST,callbackIndex:w,phraseIndex:A,phraseLength:_,stack:u.length}),p[G].thatIndex=R,p[G].phraseIndex=A,p[G].phraseLength=_,R},this.translate=function(w){let L,A,_;for(let R=0;R<p.length;R+=1)_=p[R],A=h[_.callbackIndex],_.state===e.SEM_PRE?A!==null&&(L=A(e.SEM_PRE,o,_.phraseIndex,_.phraseLength,w),L===e.SEM_SKIP&&(R=_.thatIndex)):A!==null&&A(e.SEM_POST,o,_.phraseIndex,_.phraseLength,w)},this.setLength=function(w){p.length=w,w>0?u.length=p[w-1].stack:u.length=0},this.getLength=function(){return p.length};function g(f){let w="";for(let L=0;L<f;L+=1)w+=" ";return w}this.toXml=function(w){let L=n.charsToDec,A="decimal integer character codes";if(typeof w=="string"&&w.length>=3){let G=w.slice(0,3).toLowerCase();G==="asc"?(L=n.charsToAscii,A="ASCII for printing characters, hex for non-printing"):G==="hex"?(L=n.charsToHex,A="hexadecimal integer character codes"):G==="uni"&&(L=n.charsToUnicode,A="Unicode UTF-32 integer character codes")}let _="",R=0;return _+=`<?xml version="1.0" encoding="utf-8"?>
`,_+=`<root nodes="${p.length/2}" characters="${o.length}">
`,_+=`<!-- input string, ${A} -->
`,_+=g(R+2),_+=L(o),_+=`
`,p.forEach(G=>{G.state===e.SEM_PRE?(R+=1,_+=g(R),_+=`<node name="${G.name}" index="${G.phraseIndex}" length="${G.phraseLength}">
`,_+=g(R+2),_+=L(o,G.phraseIndex,G.phraseLength),_+=`
`):(_+=g(R),_+=`</node><!-- name="${G.name}" -->
`,R-=1)}),_+=`</root>
`,_},this.phrases=function(){let w={},L,A;for(L=0;L<p.length;L+=1)A=p[L],A.state===e.SEM_PRE&&(Array.isArray(w[A.name])||(w[A.name]=[]),w[A.name].push({index:A.phraseIndex,length:A.phraseLength}));return w}}});var bA=c1((BB0,xN)=>{"use strict";xN.exports=function(){"use strict;";let e="circular-buffer.js: ",n=-1,r=0;this.init=function(s){if(typeof s!="number"||s<=0)throw new Error(`${e}init: circular buffer size must an integer > 0`);r=Math.ceil(s),n=-1},this.increment=function(){return n+=1,(n+r)%r},this.maxSize=function(){return r},this.items=function(){return n+1},this.getListIndex=function(s){return n===-1||s<0||s>n||n-s>=r?-1:(s+r)%r},this.forEach=function(s){if(n!==-1){if(n<r){for(let a=0;a<=n;a+=1)s(a,a);return}for(let a=n-r+1;a<=n;a+=1){let o=(a+r)%r;s(o,a)}}}}});var yN=c1((ZB0,wN)=>{"use strict";wN.exports=function(){let e=B7(),n=Bn(),r="parser.js: ",i=this,s;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let a=null,o=null,c,l,h,u,p=0,g=0,f=0,w=null,L=null,A=null,_=null,R=null,G=0,K=1/0,Z=1/0,$=function(o0,B,e0){let M0=`${r}evaluateRule(): `;if(o0>=A.length)throw new Error(`${M0}rule index: ${o0} out of range`);if(B>=h)throw new Error(`${M0}phrase index: ${B} out of range`);let{length:k0}=a;a.push({type:e.RNM,index:o0}),s(k0,B,e0),a.pop()},n0=function(p0,o0,B){let e0=`${r}evaluateUdt(): `;if(p0>=_.length)throw new Error(`${e0}udt index: ${p0} out of range`);if(o0>=h)throw new Error(`${e0}phrase index: ${o0} out of range`);let{length:M0}=a;a.push({type:e.UDT,empty:_[p0].empty,index:p0}),s(M0,o0,B),a.pop()},h0=function(){p=0,g=0,f=0,G=0,u=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],A=null,_=null,o=null,c=0,l=0,h=0,w=null,L=null,R=null,a=null},X=function(){let p0=[],o0=function(){let e0={};A.forEach(M0=>{M0.isBkr&&(e0[M0.lower]=null)}),_.length>0&&_.forEach(M0=>{M0.isBkr&&(e0[M0.lower]=null)}),p0.push(e0)},B=function(){let e0=p0[p0.length-1],M0={};for(let k0 in e0)M0[k0]=e0[k0];return M0};this.push=function(){p0.push(B())},this.pop=function(M0){let k0=M0;if(k0||(k0=p0.length-1),k0<1||k0>p0.length)throw new Error(`${r}backRef.pop(): bad length: ${k0}`);return p0.length=k0,p0[p0.length-1]},this.length=function(){return p0.length},this.savePhrase=function(M0,k0,O0){p0[p0.length-1][M0]={phraseIndex:k0,phraseLength:O0}},this.getPhrase=function(e0){return p0[p0.length-1][e0]},o0()},H=function(){let o0=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=u[u.length-1],this.uFrame=new X,this.pFrame=new X,this.evaluateRule=$,this.evaluateUdt=n0,this.refresh=function(){o0.state=e.ACTIVE,o0.phraseLength=0,o0.lookAround=u[u.length-1]}},U=function(){return u[u.length-1]},P=function(){return u.length>1},d=function(){return u[u.length-1].lookAround===e.LOOKAROUND_BEHIND},y=function(){let p0=`${r}initializeAst(): `,o0=!0;for(;o0;){if(i.ast===void 0){i.ast=null;break}if(i.ast===null)break;if(i.ast.astObject!=="astObject")throw new Error(`${p0}ast object not recognized`);break}i.ast!==null&&i.ast.init(A,_,o)},M=function(){let p0=`${r}initializeTrace(): `,o0=!0;for(;o0;){if(i.trace===void 0){i.trace=null;break}if(i.trace===null)break;if(i.trace.traceObject!=="traceObject")throw new Error(`${p0}trace object not recognized`);break}i.trace!==null&&i.trace.init(A,_,o)},E=function(){let p0=`${r}initializeStats(): `,o0=!0;for(;o0;){if(i.stats===void 0){i.stats=null;break}if(i.stats===null)break;if(i.stats.statsObject!=="statsObject")throw new Error(`${p0}stats object not recognized`);break}i.stats!==null&&i.stats.init(A,_)},O=function(p0){let o0=`${r}initializeGrammar(): `;if(!p0)throw new Error(`${o0}grammar object undefined`);if(p0.grammarObject!=="grammarObject")throw new Error(`${o0}bad grammar object`);A=p0.rules,_=p0.udts},S=function(p0){let o0=`${r}initializeStartRule(): `,B=null;if(typeof p0=="number"){if(p0>=A.length)throw new Error(`${o0}start rule index too large: max: ${A.length}: index: ${p0}`);B=p0}else if(typeof p0=="string"){let e0=p0.toLowerCase();for(let M0=0;M0<A.length;M0+=1)if(e0===A[M0].lower){B=A[M0].index;break}if(B===null)throw new Error(`${o0}start rule name '${p0}' not recognized`)}else throw new Error(`${o0}type of start rule '${typeof p0}' not recognized`);return B},D=function(o0,B,e0){let M0=`${r}initializeInputChars(): `,k0=o0,O0=B,t1=e0;if(k0===void 0)throw new Error(`${M0}input string is undefined`);if(k0===null)throw new Error(`${M0}input string is null`);if(typeof k0=="string")k0=n.stringToChars(k0);else if(!Array.isArray(k0))throw new Error(`${M0}input string is not a string or array`);if(k0.length>0&&typeof k0[0]!="number")throw new Error(`${M0}input string not an array of integers`);if(typeof O0!="number")O0=0;else if(O0=Math.floor(O0),O0<0||O0>k0.length)throw new Error(`${M0}input beginning index out of range: ${O0}`);if(typeof t1!="number")t1=k0.length-O0;else if(t1=Math.floor(t1),t1<0||t1>k0.length-O0)throw new Error(`${M0}input length out of range: ${t1}`);o=k0,c=O0,l=t1,h=c+l},I=function(){let p0=`${r}initializeCallbacks(): `,o0;for(w=[],L=[],o0=0;o0<A.length;o0+=1)w[o0]=null;for(o0=0;o0<_.length;o0+=1)L[o0]=null;let B,e0=[];for(o0=0;o0<A.length;o0+=1)e0.push(A[o0].lower);for(o0=0;o0<_.length;o0+=1)e0.push(_[o0].lower);for(let M0 in i.callbacks){if(o0=e0.indexOf(M0.toLowerCase()),o0<0)throw new Error(`${p0}syntax callback '${M0}' not a rule or udt name`);if(B=i.callbacks[M0],B||(B=null),typeof B=="function"||B===null)o0<A.length?w[o0]=B:L[o0-A.length]=B;else throw new Error(`${p0}syntax callback[${M0}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(o0=0;o0<_.length;o0+=1)if(L[o0]===null)throw new Error(`${p0}all UDT callbacks must be defined. UDT callback[${_[o0].lower}] not a function reference`)};this.setMaxTreeDepth=function(p0){if(typeof p0!="number")throw new Error(`parser: max tree depth must be integer > 0: ${p0}`);if(K=Math.floor(p0),K<=0)throw new Error(`parser: max tree depth must be integer > 0: ${p0}`)},this.setMaxNodeHits=function(p0){if(typeof p0!="number")throw new Error(`parser: max node hits must be integer > 0: ${p0}`);if(Z=Math.floor(p0),Z<=0)throw new Error(`parser: max node hits must be integer > 0: ${p0}`)};let m=function(p0,o0,B){let e0,M0=`${r}parse(): `;O(p0);let k0=S(o0);I(),M(),E(),y();let O0=new H;switch(B!=null&&(R=B),a=[{type:e.RNM,index:k0}],s(0,c,O0),a=null,O0.state){case e.ACTIVE:throw new Error(`${M0}final state should never be 'ACTIVE'`);case e.NOMATCH:e0=!1;break;case e.EMPTY:case e.MATCH:O0.phraseLength===l?e0=!0:e0=!1;break;default:throw new Error("unrecognized state")}return{success:e0,state:O0.state,length:l,matched:O0.phraseLength,maxMatched:G,maxTreeDepth:g,nodeHits:f,inputLength:o.length,subBegin:c,subEnd:h,subLength:l}};this.parseSubstring=function(o0,B,e0,M0,k0,O0){return h0(),D(e0,M0,k0),m(o0,B,O0)},this.parse=function(o0,B,e0,M0){return h0(),D(e0,0,e0.length),m(o0,B,M0)};let z=function(p0,o0,B){let e0=a[p0];for(let M0=0;M0<e0.children.length&&(s(e0.children[M0],o0,B),B.state===e.NOMATCH);M0+=1);},r0=function(p0,o0,B){let e0,M0,k0,O0,t1=a[p0],F2=B.uFrame.length(),O1=B.pFrame.length();i.ast&&(M0=i.ast.getLength()),e0=!0,k0=o0,O0=0;for(let v1=0;v1<t1.children.length;v1+=1)if(s(t1.children[v1],k0,B),B.state===e.NOMATCH){e0=!1;break}else k0+=B.phraseLength,O0+=B.phraseLength;e0?(B.state=O0===0?e.EMPTY:e.MATCH,B.phraseLength=O0):(B.state=e.NOMATCH,B.phraseLength=0,B.uFrame.pop(F2),B.pFrame.pop(O1),i.ast&&i.ast.setLength(M0))},T=function(p0,o0,B){let e0,M0,k0,O0,t1=a[p0];if(t1.max===0){B.state=e.EMPTY,B.phraseLength=0;return}M0=o0,k0=0,O0=0;let F2=B.uFrame.length(),O1=B.pFrame.length();i.ast&&(e0=i.ast.getLength());let v1=!0;for(;v1&&!(M0>=h||(s(p0+1,M0,B),B.state===e.NOMATCH)||B.state===e.EMPTY||(O0+=1,k0+=B.phraseLength,M0+=B.phraseLength,O0===t1.max)););B.state===e.EMPTY||O0>=t1.min?(B.state=k0===0?e.EMPTY:e.MATCH,B.phraseLength=k0):(B.state=e.NOMATCH,B.phraseLength=0,B.uFrame.pop(F2),B.pFrame.pop(O1),i.ast&&i.ast.setLength(e0))},s0=function(p0,o0,B,e0){if(o0.phraseLength>B){let M0=`${r}opRNM(${p0.name}): callback function error: `;throw M0+=`sysData.phraseLength: ${o0.phraseLength}`,M0+=` must be <= remaining chars: ${B}`,new Error(M0)}switch(o0.state){case e.ACTIVE:if(e0!==!0)throw new Error(`${r}opRNM(${p0.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:o0.phraseLength=0;break;case e.MATCH:o0.phraseLength===0&&(o0.state=e.EMPTY);break;case e.NOMATCH:o0.phraseLength=0;break;default:throw new Error(`${r}opRNM(${p0.name}): callback function return error. Unrecognized return state: ${o0.state}`)}},i0=function(p0,o0,B){let e0,M0,k0,O0,t1,F2,O1=a[p0],v1=A[O1.index],j2=w[v1.index],x2=!P();if(x2&&(M0=i.ast&&i.ast.ruleDefined(O1.index),M0&&(e0=i.ast.getLength(),i.ast.down(O1.index,A[O1.index].name)),O0=B.uFrame.length(),t1=B.pFrame.length(),B.uFrame.push(),B.pFrame.push(),F2=B.pFrame,B.pFrame=new X),j2===null)k0=a,a=v1.opcodes,s(0,o0,B),a=k0;else{let e3=h-o0;B.ruleIndex=v1.index,j2(B,o,o0,R),s0(v1,B,e3,!0),B.state===e.ACTIVE&&(k0=a,a=v1.opcodes,s(0,o0,B),a=k0,B.ruleIndex=v1.index,j2(B,o,o0,R),s0(v1,B,e3,!1))}x2&&(M0&&(B.state===e.NOMATCH?i.ast.setLength(e0):i.ast.up(O1.index,v1.name,o0,B.phraseLength)),B.pFrame=F2,B.state===e.NOMATCH?(B.uFrame.pop(O0),B.pFrame.pop(t1)):v1.isBkr&&(B.pFrame.savePhrase(v1.lower,o0,B.phraseLength),B.uFrame.savePhrase(v1.lower,o0,B.phraseLength)))},W=function(p0,o0,B){if(o0.phraseLength>B){let e0=`${r}opUDT(${p0.name}): callback function error: `;throw e0+=`sysData.phraseLength: ${o0.phraseLength}`,e0+=` must be <= remaining chars: ${B}`,new Error(e0)}switch(o0.state){case e.ACTIVE:throw new Error(`${r}opUDT(${p0.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(p0.empty===!1)throw new Error(`${r}opUDT(${p0.name}): callback function return error. May not return EMPTY.`);o0.phraseLength=0;break;case e.MATCH:if(o0.phraseLength===0){if(p0.empty===!1)throw new Error(`${r}opUDT(${p0.name}): callback function return error. May not return EMPTY.`);o0.state=e.EMPTY}break;case e.NOMATCH:o0.phraseLength=0;break;default:throw new Error(`${r}opUDT(${p0.name}): callback function return error. Unrecognized return state: ${o0.state}`)}},q=function(p0,o0,B){let e0,M0,k0,O0,t1,F2,O1=a[p0],v1=_[O1.index];B.UdtIndex=v1.index;let j2=!P();j2&&(k0=i.ast&&i.ast.udtDefined(O1.index),k0&&(M0=A.length+O1.index,e0=i.ast.getLength(),i.ast.down(M0,v1.name)),O0=B.uFrame.length(),t1=B.pFrame.length(),B.uFrame.push(),B.pFrame.push(),F2=B.pFrame,B.pFrame=new X);let x2=h-o0;L[O1.index](B,o,o0,R),W(v1,B,x2),j2&&(k0&&(B.state===e.NOMATCH?i.ast.setLength(e0):i.ast.up(M0,v1.name,o0,B.phraseLength)),B.pFrame=F2,B.state===e.NOMATCH?(B.uFrame.pop(O0),B.pFrame.pop(t1)):v1.isBkr&&(B.pFrame.savePhrase(v1.lower,o0,B.phraseLength),B.uFrame.savePhrase(v1.lower,o0,B.phraseLength)))},a0=function(p0,o0,B){u.push({lookAround:e.LOOKAROUND_AHEAD,anchor:o0,charsEnd:h,charsLength:l}),h=o.length,l=o.length-c,s(p0+1,o0,B);let e0=u.pop();switch(h=e0.charsEnd,l=e0.charsLength,B.phraseLength=0,B.state){case e.EMPTY:B.state=e.EMPTY;break;case e.MATCH:B.state=e.EMPTY;break;case e.NOMATCH:B.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${B.state}`)}},u0=function(p0,o0,B){u.push({lookAround:e.LOOKAROUND_AHEAD,anchor:o0,charsEnd:h,charsLength:l}),h=o.length,l=o.length-c,s(p0+1,o0,B);let e0=u.pop();switch(h=e0.charsEnd,l=e0.charsLength,B.phraseLength=0,B.state){case e.EMPTY:case e.MATCH:B.state=e.NOMATCH;break;case e.NOMATCH:B.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${B.state}`)}},C0=function(p0,o0,B){let e0=a[p0];B.state=e.NOMATCH,o0<h&&e0.min<=o[o0]&&o[o0]<=e0.max&&(B.state=e.MATCH,B.phraseLength=1)},Y0=function(p0,o0,B){let e0,M0=a[p0],k0=M0.string.length;if(B.state=e.NOMATCH,o0+k0<=h){for(e0=0;e0<k0;e0+=1)if(o[o0+e0]!==M0.string[e0])return;B.state=e.MATCH,B.phraseLength=k0}},L0=function(p0,o0,B){let e0,M0,k0=a[p0];B.state=e.NOMATCH;let O0=k0.string.length;if(O0===0){B.state=e.EMPTY;return}if(o0+O0<=h){for(e0=0;e0<O0;e0+=1)if(M0=o[o0+e0],M0>=65&&M0<=90&&(M0+=32),M0!==k0.string[e0])return;B.state=e.MATCH,B.phraseLength=O0}},g0=function(p0,o0,B){B.state=e.NOMATCH,B.phraseLength=0,B.state=o0===0?e.EMPTY:e.NOMATCH},R0=function(p0,o0,B){B.state=e.NOMATCH,B.phraseLength=0,B.state=o0===o.length?e.EMPTY:e.NOMATCH},d0=function(p0,o0,B){let e0,M0,k0,O0,t1=a[p0];B.state=e.NOMATCH,t1.index<A.length?O0=A[t1.index].lower:O0=_[t1.index-A.length].lower;let F2=t1.bkrMode===e.BKR_MODE_PM?B.pFrame.getPhrase(O0):B.uFrame.getPhrase(O0),O1=t1.bkrCase===e.BKR_MODE_CI;if(F2===null)return;let v1=F2.phraseIndex,j2=F2.phraseLength;if(j2===0){B.state=e.EMPTY;return}if(o0+j2<=h){if(O1){for(e0=0;e0<j2;e0+=1)if(M0=o[o0+e0],k0=o[v1+e0],M0>=65&&M0<=90&&(M0+=32),k0>=65&&k0<=90&&(k0+=32),M0!==k0)return;B.state=e.MATCH,B.phraseLength=j2}else for(e0=0;e0<j2;e0+=1)if(M0=o[o0+e0],k0=o[v1+e0],M0!==k0)return;B.state=e.MATCH,B.phraseLength=j2}},S0=function(p0,o0,B){switch(u.push({lookAround:e.LOOKAROUND_BEHIND,anchor:o0}),s(p0+1,o0,B),u.pop(),B.phraseLength=0,B.state){case e.EMPTY:B.state=e.EMPTY;break;case e.MATCH:B.state=e.EMPTY;break;case e.NOMATCH:B.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${B.state}`)}},Q=function(p0,o0,B){switch(u.push({lookAround:e.LOOKAROUND_BEHIND,anchor:o0}),s(p0+1,o0,B),u.pop(),B.phraseLength=0,B.state){case e.EMPTY:case e.MATCH:B.state=e.NOMATCH;break;case e.NOMATCH:B.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${B.state}`)}},z0=function(p0,o0,B){let e0,M0,k0,O0,t1=a[p0],F2=B.uFrame.length(),O1=B.pFrame.length();i.ast&&(M0=i.ast.getLength()),e0=!0,k0=o0,O0=0;for(let v1=t1.children.length-1;v1>=0;v1-=1)if(s(t1.children[v1],k0,B),k0-=B.phraseLength,O0+=B.phraseLength,B.state===e.NOMATCH){e0=!1;break}e0?(B.state=O0===0?e.EMPTY:e.MATCH,B.phraseLength=O0):(B.state=e.NOMATCH,B.phraseLength=0,B.uFrame.pop(F2),B.pFrame.pop(O1),i.ast&&i.ast.setLength(M0))},e1=function(p0,o0,B){let e0,M0,k0,O0,t1=a[p0];M0=o0,k0=0,O0=0;let F2=B.uFrame.length(),O1=B.pFrame.length();i.ast&&(e0=i.ast.getLength());let v1=!0;for(;v1&&!(M0<=0||(s(p0+1,M0,B),B.state===e.NOMATCH)||B.state===e.EMPTY||(O0+=1,k0+=B.phraseLength,M0-=B.phraseLength,O0===t1.max)););B.state===e.EMPTY||O0>=t1.min?(B.state=k0===0?e.EMPTY:e.MATCH,B.phraseLength=k0):(B.state=e.NOMATCH,B.phraseLength=0,B.uFrame.pop(F2),B.pFrame.pop(O1),i.ast&&i.ast.setLength(e0))},_1=function(p0,o0,B){let e0=a[p0];if(B.state=e.NOMATCH,B.phraseLength=0,o0>0){let M0=o[o0-1];e0.min<=M0&&M0<=e0.max&&(B.state=e.MATCH,B.phraseLength=1)}},T1=function(p0,o0,B){let e0,M0=a[p0];B.state=e.NOMATCH;let k0=M0.string.length,O0=o0-k0;if(O0>=0){for(e0=0;e0<k0;e0+=1)if(o[O0+e0]!==M0.string[e0])return;B.state=e.MATCH,B.phraseLength=k0}},O2=function(p0,o0,B){let e0,M0=a[p0];B.state=e.NOMATCH;let k0=M0.string.length;if(k0===0){B.state=e.EMPTY;return}let O0=o0-k0;if(O0>=0){for(let t1=0;t1<k0;t1+=1)if(e0=o[O0+t1],e0>=65&&e0<=90&&(e0+=32),e0!==M0.string[t1])return;B.state=e.MATCH,B.phraseLength=k0}},$4=function(p0,o0,B){let e0,M0,k0,O0,t1=a[p0];B.state=e.NOMATCH,B.phraseLength=0,t1.index<A.length?O0=A[t1.index].lower:O0=_[t1.index-A.length].lower;let F2=t1.bkrMode===e.BKR_MODE_PM?B.pFrame.getPhrase(O0):B.uFrame.getPhrase(O0),O1=t1.bkrCase===e.BKR_MODE_CI;if(F2===null)return;let v1=F2.phraseIndex,j2=F2.phraseLength;if(j2===0){B.state=e.EMPTY,B.phraseLength=0;return}let x2=o0-j2;if(x2>=0){if(O1){for(e0=0;e0<j2;e0+=1)if(M0=o[x2+e0],k0=o[v1+e0],M0>=65&&M0<=90&&(M0+=32),k0>=65&&k0<=90&&(k0+=32),M0!==k0)return;B.state=e.MATCH,B.phraseLength=j2}else for(e0=0;e0<j2;e0+=1)if(M0=o[x2+e0],k0=o[v1+e0],M0!==k0)return;B.state=e.MATCH,B.phraseLength=j2}};s=function(o0,B,e0){let M0=!0,k0=a[o0];if(f+=1,f>Z)throw new Error(`parser: maximum number of node hits exceeded: ${Z}`);if(p+=1,p>g&&(g=p,g>K))throw new Error(`parser: maximum parse tree depth exceeded: ${K}`);if(e0.refresh(),i.trace!==null){let O0=U();i.trace.down(k0,e0.state,B,e0.phraseLength,O0.anchor,O0.lookAround)}if(d())switch(k0.type){case e.ALT:z(o0,B,e0);break;case e.CAT:z0(o0,B,e0);break;case e.REP:e1(o0,B,e0);break;case e.RNM:i0(o0,B,e0);break;case e.UDT:q(o0,B,e0);break;case e.AND:a0(o0,B,e0);break;case e.NOT:u0(o0,B,e0);break;case e.TRG:_1(o0,B,e0);break;case e.TBS:T1(o0,B,e0);break;case e.TLS:O2(o0,B,e0);break;case e.BKR:$4(o0,B,e0);break;case e.BKA:S0(o0,B,e0);break;case e.BKN:Q(o0,B,e0);break;case e.ABG:g0(o0,B,e0);break;case e.AEN:R0(o0,B,e0);break;default:M0=!1;break}else switch(k0.type){case e.ALT:z(o0,B,e0);break;case e.CAT:r0(o0,B,e0);break;case e.REP:T(o0,B,e0);break;case e.RNM:i0(o0,B,e0);break;case e.UDT:q(o0,B,e0);break;case e.AND:a0(o0,B,e0);break;case e.NOT:u0(o0,B,e0);break;case e.TRG:C0(o0,B,e0);break;case e.TBS:Y0(o0,B,e0);break;case e.TLS:L0(o0,B,e0);break;case e.BKR:d0(o0,B,e0);break;case e.BKA:S0(o0,B,e0);break;case e.BKN:Q(o0,B,e0);break;case e.ABG:g0(o0,B,e0);break;case e.AEN:R0(o0,B,e0);break;default:M0=!1;break}if(!P()&&B+e0.phraseLength>G&&(G=B+e0.phraseLength),i.stats!==null&&i.stats.collect(k0,e0),i.trace!==null){let O0=U();i.trace.up(k0,e0.state,B,e0.phraseLength,O0.anchor,O0.lookAround)}return p-=1,M0}}});var MN=c1((jB0,zN)=>{"use strict";zN.exports=function(){let e=B7(),n=Bn(),r=ml(),i="stats.js: ",s=[],a=[],o=[],c,l=[],h=[];this.statsObject="statsObject";let u="stats",p=function(Z,$){return Z.lower<$.lower?-1:Z.lower>$.lower?1:0},g=function(Z,$){return Z.total<$.total?1:Z.total>$.total?-1:p(Z,$)},f=function(Z,$){return Z.index<$.index?-1:Z.index>$.index?1:0},w=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},L=function(){o.length=0,c=new w,o[e.ALT]=new w,o[e.CAT]=new w,o[e.REP]=new w,o[e.RNM]=new w,o[e.TRG]=new w,o[e.TBS]=new w,o[e.TLS]=new w,o[e.UDT]=new w,o[e.AND]=new w,o[e.NOT]=new w,o[e.BKR]=new w,o[e.BKA]=new w,o[e.BKN]=new w,o[e.ABG]=new w,o[e.AEN]=new w,l.length=0;for(let Z=0;Z<s.length;Z+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:s[Z].name,lower:s[Z].lower,index:s[Z].index});if(a.length>0){h.length=0;for(let Z=0;Z<a.length;Z+=1)h.push({empty:0,match:0,nomatch:0,total:0,name:a[Z].name,lower:a[Z].lower,index:a[Z].index})}},A=function(Z,$){switch(Z.total+=1,$){case e.EMPTY:Z.empty+=1;break;case e.MATCH:Z.match+=1;break;case e.NOMATCH:Z.nomatch+=1;break;default:throw new Error(`${i}collect(): incStat(): unrecognized state: ${$}`)}},_=function(Z,$){let n0="";return n0+="<tr>",n0+=`<td class="${r.CLASS_ACTIVE}">${Z}</td>`,n0+=`<td class="${r.CLASS_EMPTY}">${$.empty}</td>`,n0+=`<td class="${r.CLASS_MATCH}">${$.match}</td>`,n0+=`<td class="${r.CLASS_NOMATCH}">${$.nomatch}</td>`,n0+=`<td class="${r.CLASS_ACTIVE}">${$.total}</td>`,n0+=`</tr>
`,n0},R=function(){let Z="";return Z+=_("ALT",o[e.ALT]),Z+=_("CAT",o[e.CAT]),Z+=_("REP",o[e.REP]),Z+=_("RNM",o[e.RNM]),Z+=_("TRG",o[e.TRG]),Z+=_("TBS",o[e.TBS]),Z+=_("TLS",o[e.TLS]),Z+=_("UDT",o[e.UDT]),Z+=_("AND",o[e.AND]),Z+=_("NOT",o[e.NOT]),Z+=_("BKR",o[e.BKR]),Z+=_("BKA",o[e.BKA]),Z+=_("BKN",o[e.BKN]),Z+=_("ABG",o[e.ABG]),Z+=_("AEN",o[e.AEN]),Z+=_("totals",c),Z},G=function(){let Z="";Z+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,Z+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let $=0;$<s.length;$+=1)l[$].total>0&&(Z+="<tr>",Z+=`<td class="${r.CLASS_ACTIVE}">${l[$].name}</td>`,Z+=`<td class="${r.CLASS_EMPTY}">${l[$].empty}</td>`,Z+=`<td class="${r.CLASS_MATCH}">${l[$].match}</td>`,Z+=`<td class="${r.CLASS_NOMATCH}">${l[$].nomatch}</td>`,Z+=`<td class="${r.CLASS_ACTIVE}">${l[$].total}</td>`,Z+=`</tr>
`);if(a.length>0){Z+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,Z+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let $=0;$<a.length;$+=1)h[$].total>0&&(Z+="<tr>",Z+=`<td class="${r.CLASS_ACTIVE}">${h[$].name}</td>`,Z+=`<td class="${r.CLASS_EMPTY}">${h[$].empty}</td>`,Z+=`<td class="${r.CLASS_MATCH}">${h[$].match}</td>`,Z+=`<td class="${r.CLASS_NOMATCH}">${h[$].nomatch}</td>`,Z+=`<td class="${r.CLASS_ACTIVE}">${h[$].total}</td>`,Z+=`</tr>
`)}return Z};this.validate=function(Z){let $=!1;return typeof Z=="string"&&u===Z&&($=!0),$},this.init=function(Z,$){s=Z,a=$,L()},this.collect=function(Z,$){A(c,$.state,$.phraseLength),A(o[Z.type],$.state,$.phraseLength),Z.type===e.RNM&&A(l[Z.index],$.state,$.phraseLength),Z.type===e.UDT&&A(h[Z.index],$.state,$.phraseLength)},this.toHtml=function(Z,$){let n0="";n0+=`<table class="${r.CLASS_STATS}">
`,typeof $=="string"&&(n0+=`<caption>${$}</caption>
`),n0+=`<tr><th class="${r.CLASS_ACTIVE}">ops</th>
`,n0+=`<th class="${r.CLASS_EMPTY}">EMPTY</th>
`,n0+=`<th class="${r.CLASS_MATCH}">MATCH</th>
`,n0+=`<th class="${r.CLASS_NOMATCH}">NOMATCH</th>
`,n0+=`<th class="${r.CLASS_ACTIVE}">totals</th></tr>
`;let h0=!0;for(;h0;){if(Z===void 0){n0+=R();break}if(Z===null){n0+=R();break}if(Z==="ops"){n0+=R();break}if(Z==="index"){l.sort(f),h.length>0&&h.sort(f),n0+=R(),n0+=G();break}if(Z==="hits"){l.sort(g),h.length>0&&h.sort(f),n0+=R(),n0+=G();break}if(Z==="alpha"){l.sort(p),h.length>0&&h.sort(p),n0+=R(),n0+=G();break}break}return n0+=`</table>
`,n0},this.toHtmlPage=function(Z,$,n0){return n.htmlToPage(this.toHtml(Z,$),n0)}}});var AN=c1((UB0,CN)=>{"use strict";CN.exports=function(){let e=Bn(),n=ml(),r=new(bA()),i=B7(),s="trace.js: ",a=this,o=16,c=10,l=8,h=32,u=80,p=5,g=[],f=5e3,w=-1,L=0,A=0,_=[],R=null,G=null,K=null,Z=[],$=[],n0=`<span class="${n.CLASS_LINEEND}">&bull;</span>`,h0=`<span class="${n.CLASS_LINEEND}">&hellip;</span>`,X=`<span class="${n.CLASS_EMPTY}">&#120634;</span>`,H=function(){let W=function(a0){Z[i.ALT]=a0,Z[i.CAT]=a0,Z[i.REP]=a0,Z[i.TLS]=a0,Z[i.TBS]=a0,Z[i.TRG]=a0,Z[i.AND]=a0,Z[i.NOT]=a0,Z[i.BKR]=a0,Z[i.BKA]=a0,Z[i.BKN]=a0,Z[i.ABG]=a0,Z[i.AEN]=a0},q=0;for(let a0 in a.filter.operators)q+=1;if(q===0){W(!1);return}for(let a0 in a.filter.operators){let u0=a0.toUpperCase();if(u0==="<ALL>"){W(!0);return}if(u0==="<NONE>"){W(!1);return}}W(!1);for(let a0 in a.filter.operators){let u0=a0.toUpperCase();if(u0==="ALT")Z[i.ALT]=a.filter.operators[a0]===!0;else if(u0==="CAT")Z[i.CAT]=a.filter.operators[a0]===!0;else if(u0==="REP")Z[i.REP]=a.filter.operators[a0]===!0;else if(u0==="AND")Z[i.AND]=a.filter.operators[a0]===!0;else if(u0==="NOT")Z[i.NOT]=a.filter.operators[a0]===!0;else if(u0==="TLS")Z[i.TLS]=a.filter.operators[a0]===!0;else if(u0==="TBS")Z[i.TBS]=a.filter.operators[a0]===!0;else if(u0==="TRG")Z[i.TRG]=a.filter.operators[a0]===!0;else if(u0==="BKR")Z[i.BKR]=a.filter.operators[a0]===!0;else if(u0==="BKA")Z[i.BKA]=a.filter.operators[a0]===!0;else if(u0==="BKN")Z[i.BKN]=a.filter.operators[a0]===!0;else if(u0==="ABG")Z[i.ABG]=a.filter.operators[a0]===!0;else if(u0==="AEN")Z[i.AEN]=a.filter.operators[a0]===!0;else throw new Error(`${s}initOpratorFilter: '${a0}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},U=function(){let W=function(C0){Z[i.RNM]=C0,Z[i.UDT]=C0;let Y0=G.length+K.length;$.length=0;for(let L0=0;L0<Y0;L0+=1)$.push(C0)},q,a0,u0=[];for(a0=0;a0<G.length;a0+=1)u0.push(G[a0].lower);for(a0=0;a0<K.length;a0+=1)u0.push(K[a0].lower);$.length=0,q=0;for(let C0 in a.filter.rules)q+=1;if(q===0){W(!0);return}for(let C0 in a.filter.rules){let Y0=C0.toLowerCase();if(Y0==="<all>"){W(!0);return}if(Y0==="<none>"){W(!1);return}}W(!1),Z[i.RNM]=!0,Z[i.UDT]=!0;for(let C0 in a.filter.rules){let Y0=C0.toLowerCase();if(a0=u0.indexOf(Y0),a0<0)throw new Error(`${s}initRuleFilter: '${C0}' not a valid rule or udt name`);$[a0]=a.filter.rules[C0]===!0}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(W,q){if(w=-1,typeof W=="number"&&W>0)f=Math.ceil(W);else{f=0;return}typeof q=="number"&&(w=Math.floor(q),w<0&&(w=-1))},this.getMaxRecords=function(){return f},this.getLastRecord=function(){return w},this.init=function(W,q,a0){g.length=0,_.length=0,L=0,A=0,R=a0,G=W,K=q,H(),U(),r.init(f)};let P=function(W){let q=!1;return W.type===i.RNM?Z[W.type]&&$[W.index]?q=!0:q=!1:W.type===i.UDT?Z[W.type]&&$[G.length+W.index]?q=!0:q=!1:q=Z[W.type],q},d=function(W){return w===-1||W<=w};this.down=function(W,q,a0,u0,C0,Y0){d(L)&&P(W)&&(_.push(L),g[r.increment()]={dirUp:!1,depth:A,thisLine:L,thatLine:void 0,opcode:W,state:q,phraseIndex:a0,phraseLength:u0,lookAnchor:C0,lookAround:Y0},L+=1,A+=1)},this.up=function(W,q,a0,u0,C0,Y0){if(d(L)&&P(W)){let L0=L,g0=_.pop(),R0=r.getListIndex(g0);R0!==-1&&(g[R0].thatLine=L0),A-=1,g[r.increment()]={dirUp:!0,depth:A,thisLine:L0,thatLine:g0,opcode:W,state:q,phraseIndex:a0,phraseLength:u0,lookAnchor:C0,lookAround:Y0},L+=1}};let y=function(){function W(B,e0){let M0,k0,O0;if(e0)switch(B.op={id:e0.type,name:e.opcodeToString(e0.type)},B.opData=void 0,e0.type){case i.RNM:B.opData=G[e0.index].name;break;case i.UDT:B.opData=K[e0.index].name;break;case i.BKR:e0.index<G.length?M0=G[e0.index].name:M0=K[e0.index-G.length].name,k0=e0.bkrCase===i.BKR_MODE_CI?"%i":"%s",O0=e0.bkrMode===i.BKR_MODE_UM?"%u":"%p",B.opData=`\\\\${k0}${O0}${M0}`;break;case i.TLS:B.opData=[];for(let t1=0;t1<e0.string.length;t1+=1)B.opData.push(e0.string[t1]);break;case i.TBS:B.opData=[];for(let t1=0;t1<e0.string.length;t1+=1)B.opData.push(e0.string[t1]);break;case i.TRG:B.opData=[e0.min,e0.max];break;case i.REP:B.opData=[e0.min,e0.max];break;default:throw new Error("unrecognized opcode")}else B.op={id:void 0,name:void 0},B.opData=void 0}function q(B,e0,M0){return B===i.MATCH?{index:e0,length:M0}:B===i.NOMATCH?{index:e0,length:0}:B===i.EMPTY?{index:e0,length:0}:null}let a0=-1;function u0(B,e0,M0){let k0={id:a0++,branch:-1,parent:B,up:!1,down:!1,depth:M0,children:[]};return e0?(k0.down=!0,k0.state={id:e0.state,name:e.stateToString(e0.state)},k0.phrase=null,W(k0,e0.opcode)):(k0.state={id:void 0,name:void 0},k0.phrase=q(),W(k0,void 0)),k0}function C0(B,e0){e0&&(B.up=!0,B.state={id:e0.state,name:e.stateToString(e0.state)},B.phrase=q(e0.state,e0.phraseIndex,e0.phraseLength),B.down||W(B,e0.opcode))}let Y0=0,L0=-1,g0=1;function R0(B){if(L0+=1,B.branch=g0,L0>A&&(A=L0),B.children.length===0)Y0+=1;else for(let e0=0;e0<B.children.length;e0+=1)e0>0&&(g0+=1),B.children[e0].leftMost=!1,B.children[e0].rightMost=!1,B.leftMost&&(B.children[e0].leftMost=e0===0),B.rightMost&&(B.children[e0].rightMost=e0===B.children.length-1),R0(B.children[e0]);L0-=1}function d0(B,e0){let M0,k0={};if(k0.id=B.id,k0.branch=B.branch,k0.leftMost=B.leftMost,k0.rightMost=B.rightMost,M0=B.state.name?B.state.name:"ACTIVE",k0.state={id:B.state.id,name:M0},M0=B.op.name?B.op.name:"?",k0.op={id:B.op.id,name:M0},typeof B.opData=="string")k0.opData=B.opData;else if(Array.isArray(B.opData)){k0.opData=[];for(let O0=0;O0<B.opData.length;O0+=1)k0.opData[O0]=B.opData[O0]}else k0.opData=void 0;B.phrase?k0.phrase={index:B.phrase.index,length:B.phrase.length}:k0.phrase=null,k0.depth=B.depth,k0.children=[];for(let O0=0;O0<B.children.length;O0+=1){let t1=O0!==B.children.length-1;k0.children[O0]=d0(B.children[O0],e0,t1)}return k0}let S0=[],Q,z0,e1,_1,T1=!0,O2=u0(null,null,-1);for(S0.push(O2),z0=O2,r.forEach(B=>{if(_1=g[B],T1&&(T1=!1,_1.depth>0)){let e0=_1.dirUp?_1.depth+1:_1.depth;for(let M0=0;M0<e0;M0+=1)e1=z0,z0=u0(z0,null,M0),S0.push(z0),e1.children.push(z0)}_1.dirUp?(z0=S0.pop(),C0(z0,_1),z0=S0[S0.length-1]):(e1=z0,z0=u0(z0,_1,_1.depth),S0.push(z0),e1.children.push(z0))});S0.length>1;)z0=S0.pop(),C0(z0,null);if(O2.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(S0.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");Q=O2.children[0];let $4=Q;for(;Q&&!Q.down&&!Q.up;)$4=Q,Q=Q.children[0];Q=$4,Q.leftMost=!0,Q.rightMost=!0,R0(Q),Q.branch=0;let p0={};p0.string=[];for(let B=0;B<R.length;B+=1)p0.string[B]=R[B];p0.rules=[];for(let B=0;B<G.length;B+=1)p0.rules[B]=G[B].name;p0.udts=[];for(let B=0;B<K.length;B+=1)p0.udts[B]=K[B].name;p0.id={},p0.id.ALT={id:i.ALT,name:"ALT"},p0.id.CAT={id:i.CAT,name:"CAT"},p0.id.REP={id:i.REP,name:"REP"},p0.id.RNM={id:i.RNM,name:"RNM"},p0.id.TLS={id:i.TLS,name:"TLS"},p0.id.TBS={id:i.TBS,name:"TBS"},p0.id.TRG={id:i.TRG,name:"TRG"},p0.id.UDT={id:i.UDT,name:"UDT"},p0.id.AND={id:i.AND,name:"AND"},p0.id.NOT={id:i.NOT,name:"NOT"},p0.id.BKR={id:i.BKR,name:"BKR"},p0.id.BKA={id:i.BKA,name:"BKA"},p0.id.BKN={id:i.BKN,name:"BKN"},p0.id.ABG={id:i.ABG,name:"ABG"},p0.id.AEN={id:i.AEN,name:"AEN"},p0.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},p0.id.MATCH={id:i.MATCH,name:"MATCH"},p0.id.EMPTY={id:i.EMPTY,name:"EMPTY"},p0.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},p0.treeDepth=A,p0.leafNodes=Y0;let o0;return Q.down?Q.up?o0="none":o0="right":Q.up?o0="left":o0="both",p0.branchesIncomplete=o0,p0.tree=d0(Q,Q.depth,!1),p0};this.toTree=function(W){let q=y();return W?JSON.stringify(q):q},this.toHtmlPage=function(W,q,a0){return e.htmlToPage(this.toHtml(W,q),a0)};let M=function(W,q){let a0;switch(W){case o:a0="hexadecimal";break;case c:a0="decimal";break;case l:a0="ASCII";break;case h:a0="UNICODE";break;default:throw new Error(`${s}htmlHeader: unrecognized mode: ${W}`)}let u0="";return u0+=`<p>display mode: ${a0}</p>
`,u0+=`<table class="${n.CLASS_TRACE}">
`,typeof q=="string"&&(u0+=`<caption>${q}</caption>`),u0},E=function(){let W="";return W+=`</table>
`,W+=`<p class="${n.CLASS_MONOSPACE}">legend:<br>
`,W+=`(a)&nbsp;-&nbsp;line number<br>
`,W+=`(b)&nbsp;-&nbsp;matching line number<br>
`,W+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,W+=`(d)&nbsp;-&nbsp;phrase length<br>
`,W+=`(e)&nbsp;-&nbsp;tree depth<br>
`,W+=`(f)&nbsp;-&nbsp;operator state<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,W+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,W+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to ${u} characters of the phrase being matched<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_MATCH}">matched characters</span><br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${X} empty string<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${n0} end of input string<br>
`,W+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${h0} input string display truncated<br>
`,W+=`</p>
`,W+=`<p class="${n.CLASS_MONOSPACE}">
`,W+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,W+=`ALT - alternation<br>
`,W+=`CAT - concatenation<br>
`,W+=`REP - repetition<br>
`,W+=`RNM - rule name<br>
`,W+=`TRG - terminal range<br>
`,W+=`TLS - terminal literal string (case insensitive)<br>
`,W+=`TBS - terminal binary string (case sensitive)<br>
`,W+=`<br>
`,W+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,W+=`UDT - user-defined terminal<br>
`,W+=`AND - positive look ahead<br>
`,W+=`NOT - negative look ahead<br>
`,W+=`BKA - positive look behind<br>
`,W+=`BKN - negative look behind<br>
`,W+=`BKR - back reference<br>
`,W+=`ABG - anchor - begin of input string<br>
`,W+=`AEN - anchor - end of input string<br>
`,W+=`</p>
`,W};this.indent=function(W){let q="";for(let a0=0;a0<W;a0+=1)q+=".";return q};let O=function(W,q){let a0="";if(q.type===i.TRG)if(W===o||W===h){let u0=q.min.toString(16).toUpperCase();u0.length%2!==0&&(u0=`0${u0}`),a0+=W===o?"%x":"U+",a0+=u0,u0=q.max.toString(16).toUpperCase(),u0.length%2!==0&&(u0=`0${u0}`),a0+=`&ndash;${u0}`}else a0=`%d${q.min.toString(10)}&ndash;${q.max.toString(10)}`;return a0},S=function(W,q){let a0="";if(q.type===i.REP)if(W===o){let u0=q.min.toString(16).toUpperCase();u0.length%2!==0&&(u0=`0${u0}`),a0=`x${u0}`,q.max<1/0?(u0=q.max.toString(16).toUpperCase(),u0.length%2!==0&&(u0=`0${u0}`)):u0="inf",a0+=`&ndash;${u0}`}else q.max<1/0?a0=`${q.min.toString(10)}&ndash;${q.max.toString(10)}`:a0=`${q.min.toString(10)}&ndash;inf`;return a0},D=function(W,q){let a0="";if(q.type===i.TBS){let u0=Math.min(q.string.length,p*2);if(W===o||W===h){a0+=W===o?"%x":"U+";for(let C0=0;C0<u0;C0+=1){let Y0;C0>0&&(a0+="."),Y0=q.string[C0].toString(16).toUpperCase(),Y0.length%2!==0&&(Y0=`0${Y0}`),a0+=Y0}}else{a0="%d";for(let C0=0;C0<u0;C0+=1)C0>0&&(a0+="."),a0+=q.string[C0].toString(10)}u0<q.string.length&&(a0+=h0)}return a0},I=function(W,q){let a0="";if(q.type===i.TLS){let u0=Math.min(q.string.length,p);if(W===o||W===c){let C0,Y0,L0;W===o?(a0="%x",L0=16):(a0="%d",L0=10);for(let g0=0;g0<u0;g0+=1)g0>0&&(a0+="."),Y0=q.string[g0],Y0>=97&&Y0<=122?(C0=Y0-32,a0+=`${C0.toString(L0)}/${Y0.toString(L0)}`.toUpperCase()):Y0>=65&&Y0<=90?(C0=Y0,Y0+=32,a0+=`${C0.toString(L0)}/${Y0.toString(L0)}`.toUpperCase()):a0+=Y0.toString(L0).toUpperCase();u0<q.string.length&&(a0+=h0)}else{a0='"';for(let C0=0;C0<u0;C0+=1)a0+=e.asciiChars[q.string[C0]];u0<q.string.length&&(a0+=h0),a0+='"'}}return a0},m=function(W,q,a0,u0,C0){if(u0===0)return"";let Y0="",L0=C0?",":"";switch(W){case o:Y0=L0+e.charsToHex(q,a0,u0);break;case c:if(C0)return`,${e.charsToDec(q,a0,u0)}`;Y0=L0+e.charsToDec(q,a0,u0);break;case h:Y0=e.charsToUnicode(q,a0,u0);break;case l:default:Y0=e.charsToAsciiHtml(q,a0,u0);break}return Y0},z=function(W,q,a0,u0,C0,Y0){let L0="",g0,R0,d0,S0,Q=n0,z0=`<span class="${n.CLASS_LOOKBEHIND}">`,e1=`<span class="${n.CLASS_REMAINDER}">`,_1="</span>",T1=!1;switch(a0){case i.EMPTY:L0+=X;case i.NOMATCH:case i.MATCH:case i.ACTIVE:g0=u0-C0,R0=Y0-g0,d0=Y0,S0=q.length-d0;break;default:throw new Error("unrecognized state")}return Q=n0,R0>u?(R0=u,Q=h0,S0=0):R0+S0>u&&(Q=h0,S0=u-R0),R0>0&&(L0+=z0,L0+=m(W,q,g0,R0,T1),L0+=_1,T1=!0),S0>0&&(L0+=e1,L0+=m(W,q,d0,S0,T1),L0+=_1),L0+Q},r0=function(W,q,a0,u0,C0,Y0){let L0="",g0,R0,d0,S0,Q=n0,z0=`<span class="${n.CLASS_REMAINDER}">`,e1="</span>",_1=!1;switch(a0){case i.EMPTY:L0+=X;case i.NOMATCH:case i.ACTIVE:g0=u0,R0=0,d0=u0,S0=q.length-d0;break;case i.MATCH:g0=u0,R0=C0,d0=u0+R0,S0=q.length-d0;break;default:throw new Error("unrecognized state")}return Q=n0,R0>u?(R0=u,Q=h0,S0=0):R0+S0>u&&(Q=h0,S0=u-R0),R0>0&&(L0+=Y0,L0+=m(W,q,g0,R0,_1),L0+=e1,_1=!0),S0>0&&(L0+=z0,L0+=m(W,q,d0,S0,_1),L0+=e1),L0+Q},T=function(W,q,a0,u0,C0){let Y0=`<span class="${n.CLASS_LOOKAHEAD}">`;return r0(W,q,a0,u0,C0,Y0)},s0=function(W,q,a0,u0,C0){let Y0=`<span class="${n.CLASS_MATCH}">`;return r0(W,q,a0,u0,C0,Y0)},i0=function(W){if(G===null)return"";let q="",a0,u0,C0,Y0,L0,g0;return q+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",q+=`<th>operator</th><th>phrase</th></tr>
`,r.forEach(R0=>{let d0=g[R0];switch(a0=d0.thisLine,u0=d0.thatLine!==void 0?d0.thatLine:"--",C0=!1,Y0=!1,L0=!1,d0.lookAround===i.LOOKAROUND_AHEAD&&(C0=!0,L0=!0,g0=d0.lookAnchor),(d0.opcode.type===i.AND||d0.opcode.type===i.NOT)&&(C0=!0,L0=!0,g0=d0.phraseIndex),d0.lookAround===i.LOOKAROUND_BEHIND&&(Y0=!0,L0=!0,g0=d0.lookAnchor),(d0.opcode.type===i.BKA||d0.opcode.type===i.BKN)&&(Y0=!0,L0=!0,g0=d0.phraseIndex),q+="<tr>",q+=`<td>${a0}</td><td>${u0}</td>`,q+=`<td>${d0.phraseIndex}</td>`,q+=`<td>${d0.phraseLength}</td>`,q+=`<td>${d0.depth}</td>`,q+="<td>",d0.state){case i.ACTIVE:q+=`<span class="${n.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:q+=`<span class="${n.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:q+=`<span class="${n.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:q+=`<span class="${n.CLASS_EMPTY}">&uarr;E</span>`;break;default:q+=`<span class="${n.CLASS_ACTIVE}">--</span>`;break}if(q+="</td>",q+="<td>",q+=a.indent(d0.depth),C0?q+=`<span class="${n.CLASS_LOOKAHEAD}">`:Y0&&(q+=`<span class="${n.CLASS_LOOKBEHIND}">`),q+=e.opcodeToString(d0.opcode.type),d0.opcode.type===i.RNM&&(q+=`(${G[d0.opcode.index].name}) `),d0.opcode.type===i.BKR){let S0=d0.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",Q=d0.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";q+=`(\\${S0}${Q}${G[d0.opcode.index].name}) `}d0.opcode.type===i.UDT&&(q+=`(${K[d0.opcode.index].name}) `),d0.opcode.type===i.TRG&&(q+=`(${O(W,d0.opcode)}) `),d0.opcode.type===i.TBS&&(q+=`(${D(W,d0.opcode)}) `),d0.opcode.type===i.TLS&&(q+=`(${I(W,d0.opcode)}) `),d0.opcode.type===i.REP&&(q+=`(${S(W,d0.opcode)}) `),L0&&(q+="</span>"),q+="</td>",q+="<td>",Y0?q+=z(W,R,d0.state,d0.phraseIndex,d0.phraseLength,g0):C0?q+=T(W,R,d0.state,d0.phraseIndex,d0.phraseLength):q+=s0(W,R,d0.state,d0.phraseIndex,d0.phraseLength),q+=`</td></tr>
`}),q+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",q+=`<th>operator</th><th>phrase</th></tr>
`,q+=`</table>
`,q};this.toHtml=function(W,q){let a0=l;if(typeof W=="string"&&W.length>=3){let C0=W.toLowerCase().slice(0,3);C0==="hex"?a0=o:C0==="dec"?a0=c:C0==="uni"&&(a0=h)}let u0="";return u0+=M(a0,q),u0+=i0(a0),u0+=E(),u0}}});var Zn=c1((GB0,_N)=>{"use strict";_N.exports={ast:bN(),circular:bA(),ids:B7(),parser:yN(),stats:MN(),trace:AN(),utils:Bn(),emitcss:gA(),style:ml()}});var SN=c1((qB0,EN)=>{"use strict";EN.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let n="";return n+=`file = *line [last-line]
`,n+=`line = line-text end
`,n+=`line-text = *(valid/invalid)
`,n+=`last-line = 1*(valid/invalid)
`,n+=`valid = %d32-126 / %d9
`,n+=`invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff
`,n+=`end = CRLF / LF / CR
`,n+=`CRLF = %d13.10
`,n+=`LF = %d10
`,n+=`CR = %d13
`,n}}});var TN=c1(kN=>{"use strict";var f5=B7(),qr0=Bn();function Wr0(t,e,n,r,i){return t===f5.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.lines.push({lineNo:i.lines.length,beginChar:n,length:r,textLength:i.textLength,endType:i.endType,invalidChars:i.invalidCount}),f5.SEM_OK}function $r0(t,e,n,r,i){return t===f5.SEM_PRE&&(i.textLength=r),f5.SEM_OK}function Kr0(t,e,n,r,i){return t===f5.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.strict?(i.lines.push({lineNo:i.lines.length,beginChar:n,length:r,textLength:r,endType:"none",invalidChars:i.invalidCount}),i.errors.push({line:i.lineNo,char:n+r,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(e.push(10),i.lines.push({lineNo:i.lines.length,beginChar:n,length:r+1,textLength:r,endType:"LF",invalidChars:i.invalidCount})),f5.SEM_OK}function Qr0(t,e,n,r,i){return t===f5.SEM_PRE&&i.errors.push({line:i.lineNo,char:n,msg:`invalid character found '\\x${qr0.charToHex(e[n])}'`}),f5.SEM_OK}function Yr0(t,e,n,r,i){return t===f5.SEM_POST&&(i.lineNo+=1),f5.SEM_OK}function Jr0(t,e,n,r,i){return t===f5.SEM_PRE&&(i.endType="LF",i.strict&&i.errors.push({line:i.lineNo,char:n,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),f5.SEM_OK}function Xr0(t,e,n,r,i){return t===f5.SEM_PRE&&(i.endType="CR",i.strict&&i.errors.push({line:i.lineNo,char:n,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),f5.SEM_OK}function ei0(t,e,n,r,i){return t===f5.SEM_PRE&&(i.endType="CRLF"),f5.SEM_OK}var Ne=[];Ne.line=Wr0;Ne["line-text"]=$r0;Ne["last-line"]=Kr0;Ne.invalid=Qr0;Ne.end=Yr0;Ne.lf=Jr0;Ne.cr=Xr0;Ne.crlf=ei0;kN.callbacks=Ne});var LN=c1(($B0,PN)=>{"use strict";PN.exports=function(e,n,r,i){let s="scanner.js: ",a=Zn(),o=new(SN()),{callbacks:c}=TN(),l=[],h=new a.parser;if(h.ast=new a.ast,h.ast.callbacks=c,i){if(i.traceObject!=="traceObject")throw new TypeError(`${s}trace argument is not a trace object`);h.trace=i}if(h.parse(o,"file",e).success!==!0){n.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});return}let p={lines:l,lineNo:0,errors:n,strict:!!r};return h.ast.translate(p),l}});var DN=c1((KB0,IN)=>{"use strict";IN.exports=function(){let e="syntax-callbacks.js: ",n=Zn(),r=n.ids,i,s=function(I,m,z,r0){switch(I.state){case r.ACTIVE:r0.altStack=[],r0.repCount=0;break;case r.EMPTY:r0.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case r.MATCH:r0.ruleCount===0&&r0.errors.push({line:0,char:0,msg:"no rules defined"});break;case r.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},a=function(D,I,m,z){switch(D.state){case r.ACTIVE:z.altStack.length=0,i={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},z.altStack.push(i);break;case r.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case r.NOMATCH:break;case r.MATCH:z.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},o=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},c=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},l=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},h=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.strict&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},u=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.strict&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},p=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.strict?z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Positive look-behind operator(&&) found - strict ABNF specified."}):z.lite&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Positive look-behind operator(&&) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},g=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.strict?z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Negative look-behind operator(!!) found - strict ABNF specified."}):z.lite&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Negative look-behind operator(!!) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},f=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.strict?z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Beginning of string anchor(%^) found - strict ABNF specified."}):z.lite&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Beginning of string anchor(%^) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},w=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.strict?z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"End of string anchor(%$) found - strict ABNF specified."}):z.lite&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"End of string anchor(%$) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},L=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:if(z.strict){let r0=n.utils.charsToString(I,m,D.phraseLength);z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:`Back reference operator(${r0}) found - strict ABNF specified.`})}else if(z.lite){let r0=n.utils.charsToString(I,m,D.phraseLength);z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:`Back reference operator(${r0}) found - apg-lite specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},A=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:if(z.strict){let r0=n.utils.charsToString(I,m,D.phraseLength);z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:`UDT operator found(${r0}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},_=function(D,I,m){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:i.tlsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},R=function(D,I,m,z){switch(D.state){case r.ACTIVE:z.stringTabChar=!1;break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.stringTabChar!==!1&&z.errors.push({line:z.findLine(z.lines,z.stringTabChar),char:z.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},G=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.stringTabChar=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},K=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:z.errors.push({line:z.findLine(z.lines,i.tlsOpen),char:i.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),i.basicError=!0,i.tlsOpen=null;break;case r.MATCH:i.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},Z=function(D,I,m){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:i.clsOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},$=function(D,I,m,z){switch(D.state){case r.ACTIVE:z.stringTabChar=!1;break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.stringTabChar!==!1&&z.errors.push({line:z.findLine(z.lines,z.stringTabChar),char:z.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},n0=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:z.errors.push({line:z.findLine(z.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),i.clsOpen=null,i.basicError=!0;break;case r.MATCH:z.strict&&z.errors.push({line:z.findLine(z.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),i.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},h0=function(D,I,m){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:i.prosValOpen=m;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},X=function(D,I,m,z){switch(D.state){case r.ACTIVE:z.stringTabChar=!1;break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.stringTabChar!==!1&&z.errors.push({line:z.findLine(z.lines,z.stringTabChar),char:z.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},H=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:z.errors.push({line:z.findLine(z.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),i.basicError=!0,i.prosValOpen=null;break;case r.MATCH:z.errors.push({line:z.findLine(z.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),i.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},U=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:i={groupOpen:m,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},z.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},P=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:z.errors.push({line:z.findLine(z.lines,i.groupOpen),char:i.groupOpen,msg:'Group "(...)" opened but not closed.'}),i=z.altStack.pop(),i.groupError=!0;break;case r.MATCH:i=z.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},d=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:i={groupOpen:null,groupError:!1,optionOpen:m,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},z.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},y=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:z.errors.push({line:z.findLine(z.lines,i.optionOpen),char:i.optionOpen,msg:'Option "[...]" opened but not closed.'}),i=z.altStack.pop(),i.optionError=!0;break;case r.MATCH:i=z.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},M=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:i.basicError===!1&&z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},E=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:if(D.phraseLength===1&&z.strict){let r0=I[m]===13?"CR":"LF";z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:`Line end '${r0}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},O=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:break;case r.MATCH:z.errors.push({line:z.findLine(z.lines,m,z.charsLength),char:m,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},S=function(D,I,m,z){switch(D.state){case r.ACTIVE:break;case r.EMPTY:break;case r.NOMATCH:z.repCount+=1;break;case r.MATCH:z.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}};this.callbacks=[],this.callbacks.andop=h,this.callbacks.basicelementerr=M,this.callbacks.clsclose=n0,this.callbacks.clsopen=Z,this.callbacks.clsstring=$,this.callbacks.definedaserror=l,this.callbacks.file=s,this.callbacks.groupclose=P,this.callbacks.groupopen=U,this.callbacks.lineenderror=O,this.callbacks.lineend=E,this.callbacks.notop=u,this.callbacks.optionclose=y,this.callbacks.optionopen=d,this.callbacks.prosvalclose=H,this.callbacks.prosvalopen=h0,this.callbacks.prosvalstring=X,this.callbacks.repetition=S,this.callbacks.rule=a,this.callbacks.ruleerror=o,this.callbacks.rulenameerror=c,this.callbacks.stringtab=G,this.callbacks.tlsclose=K,this.callbacks.tlsopen=_,this.callbacks.tlsstring=R,this.callbacks.udtop=A,this.callbacks.bkaop=p,this.callbacks.bknop=g,this.callbacks.bkrop=L,this.callbacks.abgop=f,this.callbacks.aenop=w}});var FN=c1((QB0,ON)=>{"use strict";ON.exports=function(){let e=Zn(),n=e.ids,r=function(){this.names=[],this.add=function(d0){let S0=-1;return this.get(d0)===-1&&(S0={name:d0,lower:d0.toLowerCase(),index:this.names.length},this.names.push(S0)),S0},this.get=function(d0){let S0=-1,Q=d0.toLowerCase();for(let z0=0;z0<this.names.length;z0+=1)if(this.names[z0].lower===Q){S0=this.names[z0];break}return S0}},i=function(R0,d0,S0){let Q=0;for(let z0=d0;z0<d0+S0;z0+=1)Q=10*Q+R0[z0]-48;return Q},s=function(R0,d0,S0){let Q=0;for(let z0=d0;z0<d0+S0;z0+=1)Q=2*Q+R0[z0]-48;return Q},a=function(R0,d0,S0){let Q=0;for(let z0=d0;z0<d0+S0;z0+=1){let e1=R0[z0];if(e1>=48&&e1<=57)e1-=48;else if(e1>=65&&e1<=70)e1-=55;else if(e1>=97&&e1<=102)e1-=87;else throw new Error("hexnum out of range");Q=16*Q+e1}return Q};function o(g0,R0,d0,S0,Q){let z0=n.SEM_OK;if(g0===n.SEM_PRE)Q.ruleNames=new r,Q.udtNames=new r,Q.rules=[],Q.udts=[],Q.rulesLineMap=[],Q.opcodes=[],Q.altStack=[],Q.topStack=null,Q.topRule=null;else if(g0===n.SEM_POST){let e1;Q.rules.forEach(_1=>{_1.isBkr=!1,_1.opcodes.forEach(T1=>{T1.type===n.RNM&&(e1=Q.ruleNames.get(T1.index.name),e1===-1?(Q.errors.push({line:Q.findLine(Q.lines,T1.index.phraseIndex,Q.charsLength),char:T1.index.phraseIndex,msg:`Rule name '${T1.index.name}' used but not defined.`}),T1.index=-1):T1.index=e1.index)})}),Q.udts.forEach(_1=>{_1.isBkr=!1}),Q.rules.forEach(_1=>{_1.opcodes.forEach(T1=>{T1.type===n.BKR&&(_1.hasBkr=!0,e1=Q.ruleNames.get(T1.index.name),e1!==-1?(Q.rules[e1.index].isBkr=!0,T1.index=e1.index):(e1=Q.udtNames.get(T1.index.name),e1!==-1?(Q.udts[e1.index].isBkr=!0,T1.index=Q.rules.length+e1.index):(Q.errors.push({line:Q.findLine(Q.lines,T1.index.phraseIndex,Q.charsLength),char:T1.index.phraseIndex,msg:`Back reference name '${T1.index.name}' refers to undefined rule or unamed UDT.`}),T1.index=-1)))})})}return z0}function c(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE&&(Q.altStack.length=0,Q.topStack=null,Q.rulesLineMap.push({line:Q.findLine(Q.lines,d0,Q.charsLength),char:d0})),z0}function l(g0,R0,d0,S0,Q){let z0=n.SEM_OK;if(g0===n.SEM_PRE)Q.ruleName="",Q.definedas="";else if(g0===n.SEM_POST){let e1;Q.definedas==="="?(e1=Q.ruleNames.add(Q.ruleName),e1===-1?(Q.definedas=null,Q.errors.push({line:Q.findLine(Q.lines,d0,Q.charsLength),char:d0,msg:`Rule name '${Q.ruleName}' previously defined.`})):(Q.topRule={name:e1.name,lower:e1.lower,opcodes:[],index:e1.index},Q.rules.push(Q.topRule),Q.opcodes=Q.topRule.opcodes)):(e1=Q.ruleNames.get(Q.ruleName),e1===-1?(Q.definedas=null,Q.errors.push({line:Q.findLine(Q.lines,d0,Q.charsLength),char:d0,msg:`Rule name '${Q.ruleName}' for incremental alternate not previously defined.`})):(Q.topRule=Q.rules[e1.index],Q.opcodes=Q.topRule.opcodes))}return z0}function h(g0,R0,d0,S0,Q){let z0=n.SEM_OK;if(g0===n.SEM_PRE)for(;;){if(Q.definedas===null){z0=n.SEM_SKIP;break}if(Q.topStack===null){if(Q.definedas==="="){Q.topStack={alt:{type:n.ALT,children:[]},cat:null},Q.altStack.push(Q.topStack),Q.opcodes.push(Q.topStack.alt);break}Q.topStack={alt:Q.opcodes[0],cat:null},Q.altStack.push(Q.topStack);break}Q.topStack={alt:{type:n.ALT,children:[]},cat:null},Q.altStack.push(Q.topStack),Q.opcodes.push(Q.topStack.alt);break}else g0===n.SEM_POST&&(Q.altStack.pop(),Q.altStack.length>0?Q.topStack=Q.altStack[Q.altStack.length-1]:Q.topStack=null);return z0}function u(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE?(Q.topStack.alt.children.push(Q.opcodes.length),Q.topStack.cat={type:n.CAT,children:[]},Q.opcodes.push(Q.topStack.cat)):g0===n.SEM_POST&&(Q.topStack.cat=null),z0}function p(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE&&Q.topStack.cat.children.push(Q.opcodes.length),z0}function g(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.REP,min:0,max:1,char:d0}),z0}function f(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE&&(Q.ruleName=e.utils.charsToString(R0,d0,S0)),z0}function w(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.definedas="="),z0}function L(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.definedas="=/"),z0}function A(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE?(Q.min=0,Q.max=1/0,Q.topRep={type:n.REP,min:0,max:1/0},Q.opcodes.push(Q.topRep)):g0===n.SEM_POST&&(Q.min>Q.max&&Q.errors.push({line:Q.findLine(Q.lines,d0,Q.charsLength),char:d0,msg:`repetition min cannot be greater than max: min: ${Q.min}: max: ${Q.max}`}),Q.topRep.min=Q.min,Q.topRep.max=Q.max),z0}function _(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.min=i(R0,d0,S0)),z0}function R(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.max=i(R0,d0,S0)),z0}function G(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.max=i(R0,d0,S0),Q.min=Q.max),z0}function K(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.AND}),z0}function Z(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.NOT}),z0}function $(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.RNM,index:{phraseIndex:d0,name:e.utils.charsToString(R0,d0,S0)}}),z0}function n0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.ABG}),z0}function h0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.AEN}),z0}function X(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.BKA}),z0}function H(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.opcodes.push({type:n.BKN}),z0}function U(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE?(Q.ci=!0,Q.cs=!1,Q.um=!0,Q.pm=!1):g0===n.SEM_POST&&Q.opcodes.push({type:n.BKR,bkrCase:Q.cs===!0?n.BKR_MODE_CS:n.BKR_MODE_CI,bkrMode:Q.pm===!0?n.BKR_MODE_PM:n.BKR_MODE_UM,index:{phraseIndex:Q.bkrname.phraseIndex,name:e.utils.charsToString(R0,Q.bkrname.phraseIndex,Q.bkrname.phraseLength)}}),z0}function P(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.ci=!0),z0}function d(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.cs=!0),z0}function y(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.um=!0),z0}function M(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.pm=!0),z0}function E(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.bkrname={phraseIndex:d0,phraseLength:S0}),z0}function O(g0,R0,d0,S0,Q){let z0=n.SEM_OK;if(g0===n.SEM_POST){let e1=e.utils.charsToString(R0,d0,S0),_1=Q.udtNames.add(e1);if(_1===-1){if(_1=Q.udtNames.get(e1),_1===-1)throw new Error("semUdtEmpty: name look up error")}else Q.udts.push({name:_1.name,lower:_1.lower,index:_1.index,empty:!0});Q.opcodes.push({type:n.UDT,empty:!0,index:_1.index})}return z0}function S(g0,R0,d0,S0,Q){let z0=n.SEM_OK;if(g0===n.SEM_POST){let e1=e.utils.charsToString(R0,d0,S0),_1=Q.udtNames.add(e1);if(_1===-1){if(_1=Q.udtNames.get(e1),_1===-1)throw new Error("semUdtNonEmpty: name look up error")}else Q.udts.push({name:_1.name,lower:_1.lower,index:_1.index,empty:!1});Q.opcodes.push({type:n.UDT,empty:!1,index:_1.index,syntax:null,semantic:null})}return z0}function D(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE&&(Q.tlscase=!0),z0}function I(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&S0>0&&(R0[d0+1]===83||R0[d0+1]===115)&&(Q.tlscase=!1),z0}function m(g0,R0,d0,S0,Q){let z0=n.SEM_OK;if(g0===n.SEM_POST)if(Q.tlscase){let e1=R0.slice(d0,d0+S0);for(let _1=0;_1<e1.length;_1+=1)e1[_1]>=65&&e1[_1]<=90&&(e1[_1]+=32);Q.opcodes.push({type:n.TLS,string:e1})}else Q.opcodes.push({type:n.TBS,string:R0.slice(d0,d0+S0)});return z0}function z(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(S0<=2?Q.opcodes.push({type:n.TLS,string:[]}):Q.opcodes.push({type:n.TBS,string:R0.slice(d0+1,d0+S0-1)})),z0}function r0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE?Q.tbsstr=[]:g0===n.SEM_POST&&Q.opcodes.push({type:n.TBS,string:Q.tbsstr}),z0}function T(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_PRE?(Q.min=0,Q.max=0):g0===n.SEM_POST&&(Q.min>Q.max&&Q.errors.push({line:Q.findLine(Q.lines,d0,Q.charsLength),char:d0,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${Q.min}: max: ${Q.max}`}),Q.opcodes.push({type:n.TRG,min:Q.min,max:Q.max})),z0}function s0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.min=i(R0,d0,S0)),z0}function i0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.max=i(R0,d0,S0)),z0}function W(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.min=s(R0,d0,S0)),z0}function q(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.max=s(R0,d0,S0)),z0}function a0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.min=a(R0,d0,S0)),z0}function u0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&(Q.max=a(R0,d0,S0)),z0}function C0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.tbsstr.push(i(R0,d0,S0)),z0}function Y0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.tbsstr.push(s(R0,d0,S0)),z0}function L0(g0,R0,d0,S0,Q){let z0=n.SEM_OK;return g0===n.SEM_POST&&Q.tbsstr.push(a(R0,d0,S0)),z0}this.callbacks=[],this.callbacks.abgop=n0,this.callbacks.aenop=h0,this.callbacks.alternation=h,this.callbacks.andop=K,this.callbacks.bmax=q,this.callbacks.bmin=W,this.callbacks.bkaop=X,this.callbacks.bknop=H,this.callbacks.bkrop=U,this.callbacks["bkr-name"]=E,this.callbacks.bstring=Y0,this.callbacks.clsop=z,this.callbacks.ci=P,this.callbacks.cs=d,this.callbacks.um=y,this.callbacks.pm=M,this.callbacks.concatenation=u,this.callbacks.defined=w,this.callbacks.dmax=i0,this.callbacks.dmin=s0,this.callbacks.dstring=C0,this.callbacks.file=o,this.callbacks.incalt=L,this.callbacks.notop=Z,this.callbacks.optionopen=g,this.callbacks["rep-max"]=R,this.callbacks["rep-min"]=_,this.callbacks["rep-min-max"]=G,this.callbacks.repetition=p,this.callbacks.repop=A,this.callbacks.rnmop=$,this.callbacks.rule=c,this.callbacks.rulelookup=l,this.callbacks.rulename=f,this.callbacks.tbsop=r0,this.callbacks.tlscase=I,this.callbacks.tlsstring=m,this.callbacks.tlsop=D,this.callbacks.trgop=T,this.callbacks["udt-empty"]=O,this.callbacks["udt-non-empty"]=S,this.callbacks.xmax=u0,this.callbacks.xmin=a0,this.callbacks.xstring=L0}});var VN=c1((YB0,HN)=>{"use strict";HN.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let n="";return n+=`;
`,n+=`; ABNF for JavaScript APG 2.0 SABNF
`,n+=`; RFC 5234 with some restrictions and additions.
`,n+=`; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation
`,n+=`;  - accepts %s"string" as a case-sensitive string
`,n+=`;  - accepts %i"string" as a case-insensitive string
`,n+=`;  - accepts "string" as a case-insensitive string
`,n+=`;
`,n+=`; Some restrictions:
`,n+=`;   1. Rules must begin at first character of each line.
`,n+=`;      Indentations on first rule and rules thereafter are not allowed.
`,n+=`;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.
`,n+=`;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.
`,n+=`;      However, a working parser cannot be generated from them.
`,n+=`;
`,n+=`; Super set (SABNF) additions:
`,n+=`;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.
`,n+=`;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found
`,n+=`;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found
`,n+=`;      e.g. &%d13 or &rule or !(A / B)
`,n+=`;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.
`,n+=`;      'name' is alpha followed by alpha/num/hyphen just like a rule name.
`,n+=`;      u_name may be used as an element but no rule definition is given.
`,n+=`;      e.g. rule = A / u_myUdt
`,n+=`;           A = "a"
`,n+=`;      would be a valid grammar.
`,n+=`;   3. Case-sensitive, single-quoted strings are accepted.
`,n+=`;      e.g. 'abc' would be equivalent to %d97.98.99
`,n+=`;      (kept for backward compatibility, but superseded by %s"abc")  
`,n+=`; New 12/26/2015
`,n+=`;   4. Look-behind operators are accepted as element prefixes.
`,n+=`;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found
`,n+=`;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found
`,n+=`;      e.g. &&%d13 or &&rule or !!(A / B)
`,n+=`;   5. Back reference operators, i.e. \\rulename, are accepted.
`,n+=`;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts
`,n+=`;      to match is a phrase previously matched by the rule 'rulename'.
`,n+=`;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.
`,n+=`;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.
`,n+=`;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.
`,n+=`;      Back reference modifiers can be used to specify case and mode.
`,n+=`;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA
`,n+=`;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.
`,n+=`;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.
`,n+=`;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. 
`,n+=`;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.
`,n+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,n+=`;   8. String end anchor, AEN(%$) matches the end of the input string location.
`,n+=`;      Returns EMPTY or NOMATCH. Never consumes any characters.
`,n+=`;
`,n+=`File            = *(BlankLine / Rule / RuleError)
`,n+=`BlankLine       = *(%d32/%d9) [comment] LineEnd
`,n+=`Rule            = RuleLookup owsp Alternation ((owsp LineEnd)
`,n+=`                / (LineEndError LineEnd))
`,n+=`RuleLookup      = RuleNameTest owsp DefinedAsTest
`,n+=`RuleNameTest    = RuleName/RuleNameError
`,n+=`RuleName        = alphanum
`,n+=`RuleNameError   = 1*(%d33-60/%d62-126)
`,n+=`DefinedAsTest   = DefinedAs / DefinedAsError
`,n+=`DefinedAsError  = 1*2%d33-126
`,n+=`DefinedAs       = IncAlt / Defined
`,n+=`Defined         = %d61
`,n+=`IncAlt          = %d61.47
`,n+=`RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd
`,n+=`LineEndError    = 1*(%d32-126 / %d9  / LineContinue)
`,n+=`Alternation     = Concatenation *(owsp AltOp Concatenation)
`,n+=`Concatenation   = Repetition *(CatOp Repetition)
`,n+=`Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)
`,n+=`Modifier        = (Predicate [RepOp])
`,n+=`                / RepOp
`,n+=`Predicate       = BkaOp
`,n+=`                / BknOp
`,n+=`                / AndOp
`,n+=`                / NotOp
`,n+=`BasicElement    = UdtOp
`,n+=`                / RnmOp
`,n+=`                / TrgOp
`,n+=`                / TbsOp
`,n+=`                / TlsOp
`,n+=`                / ClsOp
`,n+=`                / BkrOp
`,n+=`                / AbgOp
`,n+=`                / AenOp
`,n+=`                / ProsVal
`,n+=`BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)
`,n+=`Group           = GroupOpen  Alternation (GroupClose / GroupError)
`,n+=`GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,n+=`GroupOpen       = %d40 owsp
`,n+=`GroupClose      = owsp %d41
`,n+=`Option          = OptionOpen Alternation (OptionClose / OptionError)
`,n+=`OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr
`,n+=`OptionOpen      = %d91 owsp
`,n+=`OptionClose     = owsp %d93
`,n+=`RnmOp           = alphanum
`,n+=`BkrOp           = %d92 [bkrModifier] bkr-name
`,n+=`bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])
`,n+=`cs              = '%s'
`,n+=`ci              = '%i'
`,n+=`um              = '%u'
`,n+=`pm              = '%p'
`,n+=`bkr-name        = uname / ename / rname
`,n+=`rname           = alphanum
`,n+=`uname           = %d117.95 alphanum
`,n+=`ename           = %d101.95 alphanum
`,n+=`UdtOp           = udt-empty
`,n+=`                / udt-non-empty
`,n+=`udt-non-empty   = %d117.95 alphanum
`,n+=`udt-empty       = %d101.95 alphanum
`,n+=`RepOp           = (rep-min StarOp rep-max)
`,n+=`                / (rep-min StarOp)
`,n+=`                / (StarOp rep-max)
`,n+=`                / StarOp
`,n+=`                / rep-min-max
`,n+=`AltOp           = %d47 owsp
`,n+=`CatOp           = wsp
`,n+=`StarOp          = %d42
`,n+=`AndOp           = %d38
`,n+=`NotOp           = %d33
`,n+=`BkaOp           = %d38.38
`,n+=`BknOp           = %d33.33
`,n+=`AbgOp           = %d37.94
`,n+=`AenOp           = %d37.36
`,n+=`TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))
`,n+=`TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))
`,n+=`TlsOp           = TlsCase TlsOpen TlsString TlsClose
`,n+=`TlsCase         = ["%i" / "%s"]
`,n+=`TlsOpen         = %d34
`,n+=`TlsClose        = %d34
`,n+=`TlsString       = *(%d32-33/%d35-126/StringTab)
`,n+=`StringTab       = %d9
`,n+=`ClsOp           = ClsOpen ClsString ClsClose
`,n+=`ClsOpen         = %d39
`,n+=`ClsClose        = %d39
`,n+=`ClsString       = *(%d32-38/%d40-126/StringTab)
`,n+=`ProsVal         = ProsValOpen ProsValString ProsValClose
`,n+=`ProsValOpen     = %d60
`,n+=`ProsValString   = *(%d32-61/%d63-126/StringTab)
`,n+=`ProsValClose    = %d62
`,n+=`rep-min         = rep-num
`,n+=`rep-min-max     = rep-num
`,n+=`rep-max         = rep-num
`,n+=`rep-num         = 1*(%d48-57)
`,n+=`dString         = dnum
`,n+=`xString         = xnum
`,n+=`bString         = bnum
`,n+=`Dec             = (%d68/%d100)
`,n+=`Hex             = (%d88/%d120)
`,n+=`Bin             = (%d66/%d98)
`,n+=`dmin            = dnum
`,n+=`dmax            = dnum
`,n+=`bmin            = bnum
`,n+=`bmax            = bnum
`,n+=`xmin            = xnum
`,n+=`xmax            = xnum
`,n+=`dnum            = 1*(%d48-57)
`,n+=`bnum            = 1*%d48-49
`,n+=`xnum            = 1*(%d48-57 / %d65-70 / %d97-102)
`,n+=`;
`,n+=`; Basics
`,n+=`alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)
`,n+=`owsp            = *space
`,n+=`wsp             = 1*space
`,n+=`space           = %d32
`,n+=`                / %d9
`,n+=`                / comment
`,n+=`                / LineContinue
`,n+=`comment         = %d59 *(%d32-126 / %d9)
`,n+=`LineEnd         = %d13.10
`,n+=`                / %d10
`,n+=`                / %d13
`,n+=`LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)
`,n}}});var NN=c1((JB0,RN)=>{"use strict";RN.exports=function(){let e="parser: ",n=Zn(),r=n.ids,i=new(DN()),s=new(FN()),a=new(VN()),o=new n.parser;o.ast=new n.ast,o.callbacks=i.callbacks,o.ast.callbacks=s.callbacks;let c=function(p,g,f){if(g<0||g>=f)return-1;for(let w=0;w<p.length;w+=1)if(g>=p[w].beginChar&&g<p[w].beginChar+p[w].length)return w;return-1},l=function(p,g){let f=-1;if(g<p.length){for(let w=g;w<p.length;w+=1)if(p[w]!==null){f=p[w];break}}return f},h=function(p){p.forEach(g=>{let f=[],w=[],L=0;g.opcodes.forEach(A=>{A.type===r.ALT&&A.children.length===1||A.type===r.CAT&&A.children.length===1||A.type===r.REP&&A.min===1&&A.max===1?w.push(null):(w.push(L),f.push(A),L+=1)}),w.push(L),f.forEach(A=>{if(A.type===r.ALT||A.type===r.CAT)for(let _=0;_<A.children.length;_+=1)A.children[_]=l(w,A.children[_])}),g.opcodes=f})};this.syntax=function(p,g,f,w,L,A){if(A){if(A.traceObject!=="traceObject")throw new TypeError(`${e}trace argument is not a trace object`);o.trace=A}let _={};_.errors=f,_.strict=!!w,_.lite=!!L,_.lines=g,_.findLine=c,_.charsLength=p.length,_.ruleCount=0,o.parse(a,"file",p,_).success||f.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(p,g,f){let w={};return w.errors=f,w.lines=g,w.findLine=c,w.charsLength=p.length,o.ast.translate(w),f.length?null:(h(w.rules),{rules:w.rules,udts:w.udts,lineMap:w.rulesLineMap})},this.generateSource=function(p,g,f,w,L,A){let _="",R,G,K,Z=0,$=1/0,n0=0,h0=[],X=[],H=0,U=0,P=0,d=0,y=0,M=0,E=0,O=0,S=0,D=0,I=0,m=0,z=0,r0=0,T=0;f.forEach(i0=>{h0.push(i0.lower),Z+=i0.opcodes.length,i0.opcodes.forEach(W=>{switch(W.type){case r.ALT:H+=1;break;case r.CAT:U+=1;break;case r.RNM:P+=1;break;case r.UDT:d+=1;break;case r.REP:y+=1;break;case r.AND:M+=1;break;case r.NOT:E+=1;break;case r.BKA:m+=1;break;case r.BKN:z+=1;break;case r.BKR:I+=1;break;case r.ABG:r0+=1;break;case r.AEN:T+=1;break;case r.TLS:for(O+=1,R=0;R<W.string.length;R+=1)W.string[R]<$&&($=W.string[R]),W.string[R]>n0&&(n0=W.string[R]);break;case r.TBS:for(S+=1,R=0;R<W.string.length;R+=1)W.string[R]<$&&($=W.string[R]),W.string[R]>n0&&(n0=W.string[R]);break;case r.TRG:D+=1,W.min<$&&($=W.min),W.max>n0&&(n0=W.max);break;default:throw new Error("generateSource: unrecognized opcode")}})}),h0.sort(),w.length>0&&(w.forEach(i0=>{X.push(i0.lower)}),X.sort()),_+=`// copyright: Copyright (c) 2023 Lowell D. Thomas, all rights reserved<br>
`,_+=`//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>
`,_+=`//
`,_+=`// Generated by apg-js, Version 4.3.0 [apg-js](https://github.com/ldthomas/apg-js)
`,A&&typeof A=="string"?_+=`const ${A} = function grammar(){
`:L?_+=`export default function grammar(){
`:_+=`module.exports = function grammar(){
`,_+="  // ```\n",_+=`  // SUMMARY
`,_+=`  //      rules = ${f.length}
`,_+=`  //       udts = ${w.length}
`,_+=`  //    opcodes = ${Z}
`,_+=`  //        ---   ABNF original opcodes
`,_+=`  //        ALT = ${H}
`,_+=`  //        CAT = ${U}
`,_+=`  //        REP = ${y}
`,_+=`  //        RNM = ${P}
`,_+=`  //        TLS = ${O}
`,_+=`  //        TBS = ${S}
`,_+=`  //        TRG = ${D}
`,_+=`  //        ---   SABNF superset opcodes
`,_+=`  //        UDT = ${d}
`,_+=`  //        AND = ${M}
`,_+=`  //        NOT = ${E}
`,L||(_+=`  //        BKA = ${m}
`,_+=`  //        BKN = ${z}
`,_+=`  //        BKR = ${I}
`,_+=`  //        ABG = ${r0}
`,_+=`  //        AEN = ${T}
`),_+="  // characters = [",O+S+D===0?_+=" none defined ]":_+=`${$} - ${n0}]`,d>0&&(_+=" + user defined"),_+=`
`,_+="  // ```\n",L||(_+=`  /* OBJECT IDENTIFIER (for internal parser use) */
`,_+=`  this.grammarObject = 'grammarObject';
`),_+=`
`,_+=`  /* RULES */
`,_+=`  this.rules = [];
`,f.forEach((i0,W)=>{let q="  this.rules[";q+=W,q+="] = {name: '",q+=i0.name,q+="', lower: '",q+=i0.lower,q+="', index: ",q+=i0.index,q+=", isBkr: ",q+=i0.isBkr,q+=`};
`,_+=q}),_+=`
`,_+=`  /* UDTS */
`,_+=`  this.udts = [];
`,w.length>0&&w.forEach((i0,W)=>{let q="  this.udts[";q+=W,q+="] = {name: '",q+=i0.name,q+="', lower: '",q+=i0.lower,q+="', index: ",q+=i0.index,q+=", empty: ",q+=i0.empty,q+=", isBkr: ",q+=i0.isBkr,q+=`};
`,_+=q}),_+=`
`,_+=`  /* OPCODES */
`,f.forEach((i0,W)=>{W>0&&(_+=`
`),_+=`  /* ${i0.name} */
`,_+=`  this.rules[${W}].opcodes = [];
`,i0.opcodes.forEach((q,a0)=>{let u0;switch(q.type){case r.ALT:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, children: [${q.children.toString()}]};// ALT
`;break;case r.CAT:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, children: [${q.children.toString()}]};// CAT
`;break;case r.RNM:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, index: ${q.index}};// RNM(${f[q.index].name})
`;break;case r.BKR:q.index>=f.length?(G=w[q.index-f.length].name,K=w[q.index-f.length].lower):(G=f[q.index].name,K=f[q.index].lower),u0="%i",q.bkrCase===r.BKR_MODE_CS&&(u0="%s"),q.bkrMode===r.BKR_MODE_UM?u0+="%u":u0+="%p",G=u0+G,_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, index: ${q.index}, lower: '${K}', bkrCase: ${q.bkrCase}, bkrMode: ${q.bkrMode}};// BKR(\\${G})
`;break;case r.UDT:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, empty: ${q.empty}, index: ${q.index}};// UDT(${w[q.index].name})
`;break;case r.REP:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, min: ${q.min}, max: ${q.max}};// REP
`;break;case r.AND:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}};// AND
`;break;case r.NOT:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}};// NOT
`;break;case r.ABG:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}};// ABG(%^)
`;break;case r.AEN:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}};// AEN(%$)
`;break;case r.BKA:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}};// BKA
`;break;case r.BKN:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}};// BKN
`;break;case r.TLS:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, string: [${q.string.toString()}]};// TLS
`;break;case r.TBS:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, string: [${q.string.toString()}]};// TBS
`;break;case r.TRG:_+=`  this.rules[${W}].opcodes[${a0}] = {type: ${q.type}, min: ${q.min}, max: ${q.max}};// TRG
`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}})}),_+=`
`,_+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",_+=`  this.toString = function toString(){
`,_+=`    let str = "";
`;let s0;return g.forEach(i0=>{let W=i0.beginChar+i0.length;s0="",_+='    str += "';for(let q=i0.beginChar;q<W;q+=1){switch(p[q]){case 9:s0=" ";break;case 10:s0="\\n";break;case 13:s0="\\r";break;case 34:s0='\\"';break;case 92:s0="\\\\";break;default:s0=String.fromCharCode(p[q]);break}_+=s0}_+=`";
`}),_+=`    return str;
`,_+=`  }
`,_+=`}
`,_},this.generateObject=function(p,g,f){let w={},L=[],A=[],_=p.slice(0);return w.grammarObject="grammarObject",g.forEach(R=>{L.push(R.lower)}),L.sort(),f.length>0&&(f.forEach(R=>{A.push(R.lower)}),A.sort()),w.callbacks=[],L.forEach(R=>{w.callbacks[R]=!1}),f.length>0&&A.forEach(R=>{w.callbacks[R]=!1}),w.rules=g,w.udts=f,w.toString=function(){return _},w}}});var ZN=c1((XB0,BN)=>{"use strict";BN.exports=function(){let e=B7(),n="rule-attributes.js",r=null;function i(X){return X.left||X.nested||X.right||X.cyclic?!1:X.empty}function s(X){return!!(X.left||X.nested||X.right||X.cyclic)}function a(X,H){let U=0,P=0,d=0;for(U=0;U<H;U+=1)if(X[U].nested)return!0;for(U=0;U<H;U+=1)if(X[U].right&&!X[U].leaf){for(P=U+1;P<H;P+=1)if(!i(X[P]))return!0}for(U=H-1;U>=0;U-=1)if(X[U].left&&!X[U].leaf){for(P=U-1;P>=0;P-=1)if(!i(X[P]))return!0}for(U=0;U<H;U+=1)if(!X[U].empty&&!s(X[U])){for(P=U+1;P<H;P+=1)if(s(X[P])){for(d=P+1;d<H;d+=1)if(!X[d].empty&&!s(X[d]))return!0}}return!1}function o(X,H){for(let U=0;U<H;U+=1)if(!X[U].cyclic)return!1;return!0}function c(X,H){for(let U=0;U<H;U+=1){if(X[U].left)return!0;if(!X[U].empty)return!1}return!1}function l(X,H){for(let U=H-1;U>=0;U-=1){if(X[U].right)return!0;if(!X[U].empty)return!1}return!1}function h(X,H){for(let U=0;U<H;U+=1)if(!X[U].empty)return!1;return!0}function u(X,H){for(let U=0;U<H;U+=1)if(!X[U].finite)return!1;return!0}function p(X,H,U,P){let d=0,y=H[U],M=y.children.length,E=[];for(d=0;d<M;d+=1)E.push(X.attrGen());for(d=0;d<M;d+=1)w(X,H,y.children[d],E[d]);P.left=c(E,M),P.right=l(E,M),P.nested=a(E,M),P.empty=h(E,M),P.finite=u(E,M),P.cyclic=o(E,M)}function g(X,H,U,P){let d=0,y=H[U],M=y.children.length,E=[];for(d=0;d<M;d+=1)E.push(X.attrGen());for(d=0;d<M;d+=1)w(X,H,y.children[d],E[d]);for(P.left=!1,P.right=!1,P.nested=!1,P.empty=!1,P.finite=!1,P.cyclic=!1,d=0;d<M;d+=1)E[d].left&&(P.left=!0),E[d].nested&&(P.nested=!0),E[d].right&&(P.right=!0),E[d].empty&&(P.empty=!0),E[d].finite&&(P.finite=!0),E[d].cyclic&&(P.cyclic=!0)}function f(X,H,U,P){let d=H[U];d.index>=X.ruleCount?(P.empty=X.udts[d.index-X.ruleCount].empty,P.finite=!0):(L(X,d.index,P),P.left=!1,P.nested=!1,P.right=!1,P.cyclic=!1)}function w(X,H,U,P){X.attrInit(P);let d=H[U];switch(d.type){case e.ALT:g(X,H,U,P);break;case e.CAT:p(X,H,U,P);break;case e.REP:w(X,H,U+1,P),d.min===0&&(P.empty=!0,P.finite=!0);break;case e.RNM:L(X,H[U].index,P);break;case e.BKR:f(X,H,U,P);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:w(X,H,U+1,P),P.empty=!0;break;case e.TLS:P.empty=!H[U].string.length,P.finite=!0,P.cyclic=!1;break;case e.TBS:case e.TRG:P.empty=!1,P.finite=!0,P.cyclic=!1;break;case e.UDT:P.empty=d.empty,P.finite=!0,P.cyclic=!1;break;case e.ABG:case e.AEN:P.empty=!0,P.finite=!0,P.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${d}`)}}function L(X,H,U){let P=X.attrsWorking[H];P.isComplete?X.attrCopy(U,P):P.isOpen?H===X.startRule?H===X.startRule&&(U.left=!0,U.right=!0,U.cyclic=!0,U.leaf=!0):U.finite=!0:(P.isOpen=!0,w(X,P.rule.opcodes,0,U),P.left=U.left,P.right=U.right,P.nested=U.nested,P.empty=U.empty,P.finite=U.finite,P.cyclic=U.cyclic,P.leaf=!1,P.isOpen=!1,P.isComplete=!0)}let A=X=>{r=X;let H=0,U=0,P=r.attrGen();for(H=0;H<r.ruleCount;H+=1){for(U=0;U<r.ruleCount;U+=1)r.attrInit(r.attrsWorking[U]);r.startRule=H,L(r,H,P),r.attrCopy(r.attrs[H],r.attrsWorking[H])}r.attributesComplete=!0;let d=null;for(H=0;H<r.ruleCount;H+=1)if(d=r.attrs[H],d.left||!d.finite||d.cyclic){let y=r.attrGen(d.rule);r.attrCopy(y,d),r.attrsErrors.push(y),r.attrsErrorCount+=1}},_=X=>X?"t":"f",R=X=>X?"e":"f",G=X=>X?"t":"e",K=(X,H,U,P)=>{let d=`${X}:${H}:`;return d+=`${R(U.left)} `,d+=`${_(U.nested)} `,d+=`${_(U.right)} `,d+=`${R(U.cyclic)} `,d+=`${G(U.finite)} `,d+=`${_(U.empty)}:`,d+=`${r.typeToString(P.recursiveType)}:`,d+=P.recursiveType===e.ATTR_MR?P.groupNumber:"-",d+=`:${U.rule.name}
`,d},Z=()=>{let X=`LEGEND - t=true, f=false, e=error
`;return X+=`sequence:rule index:left nested right cyclic finite empty:type:group number:rule name
`,X},$=()=>{let X=null,H=null,U="";if(U+=`RULE ATTRIBUTES WITH ERRORS
`,U+=Z(),r.attrsErrorCount)for(let P=0;P<r.attrsErrorCount;P+=1)X=r.attrsErrors[P],H=r.ruleDeps[X.rule.index],U+=K(P,X.rule.index,X,H);else U+=`<none>
`;return U},n0=X=>{let H=0,U=0,P=null,d=null,y="",{ruleIndexes:M}=r;for(X===97?M=r.ruleAlphaIndexes:X===116&&(M=r.ruleTypeIndexes),H=0;H<r.ruleCount;H+=1)U=M[H],P=r.attrs[U],d=r.ruleDeps[U],y+=K(H,U,P,d);return y};return{ruleAttributes:A,showAttributes:(X="index")=>{if(!r.attributesComplete)throw new Error(`${n}:showAttributes: attributes not available`);let H="",U=`RULE ATTRIBUTES
`;return X.charCodeAt(0)===97?(H+=`alphabetical by rule name
`,H+=U,H+=Z(),H+=n0(97)):X.charCodeAt(0)===116?(H+=`ordered by rule type
`,H+=U,H+=Z(),H+=n0(116)):(H+=`ordered by rule index
`,H+=U,H+=Z(),H+=n0()),H},showAttributeErrors:$}}()});var UN=c1((eZ0,jN)=>{"use strict";jN.exports=(()=>{let t=B7(),e=null,n=(a,o,c,l)=>{let h=0,u=0,p=o[c];l[c]=!0;let g=p.rule.opcodes;for(h=0;h<g.length;h+=1){let f=g[h];if(f.type===t.RNM)for(p.refersTo[f.index]=!0,l[f.index]||n(a,o,f.index,l),u=0;u<a;u+=1)o[f.index].refersTo[u]&&(p.refersTo[u]=!0);else f.type===t.UDT?p.refersToUdt[f.index]=!0:f.type===t.BKR&&(f.index<a?(p.refersTo[f.index]=!0,l[f.index]||n(a,o,f.index,l)):p.refersToUdt[a-f.index]=!0)}},r=a=>{e=a;let o=0,c=0,l=0,h=null,u=null,p=!1;e.dependenciesComplete=!1;let g=e.falseArray(e.ruleCount);for(o=0;o<e.ruleCount;o+=1)e.falsifyArray(g),n(e.ruleCount,e.ruleDeps,o,g);for(o=0;o<e.ruleCount;o+=1)for(c=0;c<e.ruleCount;c+=1)o!==c&&e.ruleDeps[c].refersTo[o]&&(e.ruleDeps[o].referencedBy[c]=!0);for(o=0;o<e.ruleCount;o+=1)e.ruleDeps[o].recursiveType=t.ATTR_N,e.ruleDeps[o].refersTo[o]&&(e.ruleDeps[o].recursiveType=t.ATTR_R);for(l=-1,o=0;o<e.ruleCount;o+=1)if(h=e.ruleDeps[o],h.recursiveType===t.ATTR_R)for(p=!0,c=0;c<e.ruleCount;c+=1)o!==c&&(u=e.ruleDeps[c],u.recursiveType===t.ATTR_R&&h.refersTo[c]&&u.refersTo[o]&&(p&&(l+=1,h.recursiveType=t.ATTR_MR,h.groupNumber=l,p=!1),u.recursiveType=t.ATTR_MR,u.groupNumber=l));e.isMutuallyRecursive=l>-1,e.ruleAlphaIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesAlpha),e.ruleTypeIndexes.sort(e.compRulesType),e.isMutuallyRecursive&&e.ruleTypeIndexes.sort(e.compRulesGroup),e.udtCount&&e.udtAlphaIndexes.sort(e.compUdtsAlpha),e.dependenciesComplete=!0},i=(a=null)=>{let o=0,c=0,l=0,h=0,u=e.ruleCount-1,p=e.udtCount-1,g=100,f="",w="",L="=> ",A="<= ",_=!1,R=null,{ruleIndexes:G}=e,{udtIndexes:K}=e;for(a===97?(G=e.ruleAlphaIndexes,K=e.udtAlphaIndexes):a===116&&(G=e.ruleTypeIndexes,K=e.udtAlphaIndexes),o=0;o<e.ruleCount;o+=1){for(R=e.ruleDeps[G[o]],w=`${G[o]}:${e.typeToString(R.recursiveType)}:`,e.isMutuallyRecursive&&(w+=R.groupNumber>-1?R.groupNumber:"-",w+=":"),w+=" ",f+=`${w+e.rules[G[o]].name}
`,_=!0,l=0,h=f.length,f+=w,c=0;c<e.ruleCount;c+=1)R.refersTo[G[c]]&&(_?(f+=L,_=!1,f+=e.ruleDeps[G[c]].rule.name):f+=`, ${e.ruleDeps[G[c]].rule.name}`,l+=1),f.length-h>g&&c!==u&&(f+=`
${w}${L}`,h=f.length);if(e.udtCount)for(c=0;c<e.udtCount;c+=1)R.refersToUdt[K[c]]&&(_?(f+=L,_=!1,f+=e.udts[K[c]].name):f+=`, ${e.udts[K[c]].name}`,l+=1),f.length-h>g&&c!==p&&(f+=`
${w}${L}`,h=f.length);for(l===0&&(f+=`=> <none>
`),_===!1&&(f+=`
`),_=!0,l=0,h=f.length,f+=w,c=0;c<e.ruleCount;c+=1)R.referencedBy[G[c]]&&(_?(f+=A,_=!1,f+=e.ruleDeps[G[c]].rule.name):f+=`, ${e.ruleDeps[G[c]].rule.name}`,l+=1),f.length-h>g&&c!==u&&(f+=`
${w}${L}`,h=f.length);l===0&&(f+=`<= <none>
`),_===!1&&(f+=`
`),f+=`
`}return f};return{ruleDependencies:r,showRuleDependencies:(a="index")=>{let o=`RULE DEPENDENCIES(index:type:[group number:])
`;return o+=`=> refers to rule names
`,o+=`<= referenced by rule names
`,e.dependenciesComplete&&(a.charCodeAt(0)===97?(o+=`alphabetical by rule name
`,o+=i(97)):a.charCodeAt(0)===116?(o+=`ordered by rule type
`,o+=i(116)):(o+=`ordered by rule index
`,o+=i(null))),o}}})()});var qN=c1((tZ0,GN)=>{"use strict";GN.exports=function(){let e=B7(),{ruleAttributes:n,showAttributes:r,showAttributeErrors:i}=ZN(),{ruleDependencies:s,showRuleDependencies:a}=UN();class o{constructor(h,u){this.rules=h,this.udts=u,this.ruleCount=h.length,this.udtCount=u.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let p=0;p<this.ruleCount;p+=1)this.attrs.push(this.attrGen(this.rules[p])),this.attrsWorking.push(this.attrGen(this.rules[p])),this.ruleDeps.push(this.rdGen(h[p],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(h){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:h}}attrInit(h){h.left=!1,h.nested=!1,h.right=!1,h.empty=!1,h.finite=!1,h.cyclic=!1,h.leaf=!1,h.isOpen=!1,h.isComplete=!1}attrCopy(h,u){h.left=u.left,h.nested=u.nested,h.right=u.right,h.empty=u.empty,h.finite=u.finite,h.cyclic=u.cyclic,h.leaf=u.leaf,h.isOpen=u.isOpen,h.isComplete=u.isComplete,h.rule=u.rule}rdGen(h,u,p){return{rule:h,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(u),refersToUdt:this.falseArray(p),referencedBy:this.falseArray(u)}}typeToString(h){switch(h){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(h){let u=[];if(h>0)for(let p=0;p<h;p+=1)u.push(!1);return u}falsifyArray(h){for(let u=0;u<h.length;u+=1)h[u]=!1}indexArray(h){let u=[];if(h>0)for(let p=0;p<h;p+=1)u.push(p);return u}compRulesAlpha(h,u){return this.rules[h].lower<this.rules[u].lower?-1:this.rules[h].lower>this.rules[u].lower?1:0}compUdtsAlpha(h,u){return this.udts[h].lower<this.udts[u].lower?-1:this.udts[h].lower>this.udts[u].lower?1:0}compRulesType(h,u){return this.ruleDeps[h].recursiveType<this.ruleDeps[u].recursiveType?-1:this.ruleDeps[h].recursiveType>this.ruleDeps[u].recursiveType?1:0}compRulesGroup(h,u){if(this.ruleDeps[h].recursiveType===e.ATTR_MR&&this.ruleDeps[u].recursiveType===e.ATTR_MR){if(this.ruleDeps[h].groupNumber<this.ruleDeps[u].groupNumber)return-1;if(this.ruleDeps[h].groupNumber>this.ruleDeps[u].groupNumber)return 1}return 0}}return{attributes:function(h=[],u=[],p=[],g=[]){let f=new o(h,u);return s(f),n(f),f.attrsErrorCount&&g.push({line:0,char:0,msg:`${f.attrsErrorCount} attribute errors`}),f.attrsErrorCount},showAttributes:r,showAttributeErrors:i,showRuleDependencies:a}}()});var $N=c1((nZ0,WN)=>{"use strict";WN.exports=function(){let e="show-rules.js";return function(i=[],s=[],a="index"){let o="showRules",c=[],l=[],h=[],u=[],p=i,g=s,f=i.length,w=s.length,L="RULE/UDT NAMES",A;function _(G,K){return p[G].lower<p[K].lower?-1:p[G].lower>p[K].lower?1:0}function R(G,K){return g[G].lower<g[K].lower?-1:g[G].lower>g[K].lower?1:0}if(!(Array.isArray(i)&&i.length))throw new Error(`${e}:${o}: rules arg must be array with length > 0`);if(!Array.isArray(s))throw new Error(`${e}:${o}: udts arg must be array`);for(A=0;A<f;A+=1)h.push(A);if(c=h.slice(0),c.sort(_),w){for(A=0;A<w;A+=1)u.push(A);l=u.slice(0),l.sort(R)}if(a.charCodeAt(0)===97){for(L+=` - alphabetical by rule/UDT name
`,A=0;A<f;A+=1)L+=`${A}: ${c[A]}: ${p[c[A]].name}
`;if(w)for(A=0;A<w;A+=1)L+=`${A}: ${l[A]}: ${g[l[A]].name}
`}else{for(L+=` - ordered by rule/UDT index
`,A=0;A<f;A+=1)L+=`${A}: ${p[A].name}
`;if(w)for(A=0;A<w;A+=1)L+=`${A}: ${g[A].name}
`}return L}}()});var QN=c1((rZ0,KN)=>{"use strict";KN.exports=function(e){let{Buffer:n}=tg(),r="api.js: ",i=this,s=Zn(),a=fA(),o=LN(),c=new(NN()),{attributes:l,showAttributes:h,showAttributeErrors:u,showRuleDependencies:p}=qN(),g=$N(),f=function(H,U,P){let E=`<span class="${s.style.CLASS_CTRLCHAR}">`,O="</span>",S=`<span class="${s.style.CLASS_NOMATCH}">`,D="</span>",I,m="",z=!0;for(;z&&!(!Array.isArray(H)||H.length===0);){if(typeof U!="number")throw new Error("abnfToHtml: beg must be type number");if(U>=H.length)break;typeof P!="number"||U+P>=H.length?I=H.length:I=U+P;let r0=0;for(let T=U;T<I;T+=1){let s0=H[T];if(s0>=32&&s0<=126)switch(r0===1?(m+=O,r0=0):r0===2&&(m+=D,r0=0),s0){case 32:m+="&nbsp;";break;case 60:m+="&lt;";break;case 62:m+="&gt;";break;case 38:m+="&amp;";break;case 34:m+="&quot;";break;case 39:m+="&#039;";break;case 92:m+="&#092;";break;default:m+=String.fromCharCode(s0);break}else s0===9||s0===10||s0===13?(r0===0?(m+=E,r0=1):r0===2&&(m+=D+E,r0=1),s0===9&&(m+="TAB"),s0===10&&(m+="LF"),s0===13&&(m+="CR")):(r0===0?(m+=S,r0=2):r0===1&&(m+=O+S,r0=2),m+=`\\x${s.utils.charToHex(s0)}`)}r0===2&&(m+=D),r0===1&&(m+=O);break}return m},w=function(H,U,P){let d="";for(let y=U;y<U+P;y+=1){let M=H[y];if(M>=32&&M<=126)d+=String.fromCharCode(M);else switch(M){case 9:d+="\\t";break;case 10:d+="\\n";break;case 13:d+="\\r";break;default:d+="\\unknown";break}}return d},L=function(H){let U="Annotated Input Grammar";return H.forEach(P=>{U+=`
`,U+=`line no: ${P.lineNo}`,U+=` : char index: ${P.beginChar}`,U+=` : length: ${P.length}`,U+=` : abnf: ${w(i.chars,P.beginChar,P.length)}`}),U+=`
`,U},A=function(H){let U="";return U+=`<table class="${s.style.CLASS_GRAMMAR}">
`,U+=`<caption>Annotated Input Grammar</caption>
`,U+="<tr>",U+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",U+=`</tr>
`,H.forEach(d=>{U+="<tr>",U+=`<td>${d.lineNo}`,U+=`</td><td>${d.beginChar}`,U+=`</td><td>${d.length}`,U+=`</td><td>${f(i.chars,d.beginChar,d.length)}`,U+="</td>",U+=`</tr>
`}),U+=`</table>
`,U},_=function(H,U,P,d){let[y]=s,M="",E=`<span class="${y.CLASS_NOMATCH}">&raquo;</span>`;return M+=`<p><table class="${y.CLASS_GRAMMAR}">
`,d&&typeof d=="string"&&(M+=`<caption>${d}</caption>
`),M+=`<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>
`,H.forEach(O=>{let S,D,I,m,z,r0="",T="";U.length===0?(z=E,D=0):(S=U[O.line],I=S.beginChar,O.char>I&&(r0=f(P,I,O.char-I)),I=O.char,m=S.beginChar+S.length,I<m&&(T=f(P,I,m-I)),z=r0+E+T,D=O.char-S.beginChar,M+="<tr>",M+=`<td>${O.line}</td><td>${S.beginChar}</td><td>${D}</td><td>${z}</td>`,M+=`</tr>
`,M+="<tr>",M+=`<td colspan="3"></td><td>&uarr;:&nbsp;${s.utils.stringToAsciiHtml(O.msg)}</td>`,M+=`</tr>
`)}),M+=`</table></p>
`,M},R=function(H,U,P){let d,y,M,E;return d="",H.forEach(O=>{y=U[O.line],d+=`${y.lineNo}: `,d+=`${y.beginChar}: `,d+=`${O.char-y.beginChar}: `,M=y.beginChar,E=O.char-y.beginChar,d+=w(P,M,E),d+=" >> ",M=O.char,E=y.beginChar+y.length-O.char,d+=w(P,M,E),d+=`
`,d+=`${y.lineNo}: `,d+=`${y.beginChar}: `,d+=`${O.char-y.beginChar}: `,d+="error: ",d+=O.msg,d+=`
`}),d},G=!1,K=!1,Z=!1,$=!1,n0=0,h0;if(this.errors=[],n.isBuffer(e))this.chars=a.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else if(typeof e=="string")this.chars=a.decode("STRING",e);else throw new Error(`${r}input source is not a string, byte Buffer or character array`);this.sabnf=a.encode("STRING",this.chars),this.scan=function(H,U){this.lines=o(this.chars,this.errors,H,U),G=!0},this.parse=function(H,U,P){if(!G)throw new Error(`${r}grammar not scanned`);c.syntax(this.chars,this.lines,this.errors,H,U,P),K=!0},this.translate=function(){if(!K)throw new Error(`${r}grammar not scanned and parsed`);let H=c.semantic(this.chars,this.lines,this.errors);this.errors.length===0&&(this.rules=H.rules,this.udts=H.udts,h0=H.lineMap,Z=!0)},this.attributes=function(){if(!Z)throw new Error(`${r}grammar not scanned, parsed and translated`);return n0=l(this.rules,this.udts,h0,this.errors),$=!0,n0},this.generate=function(H){if(this.lines=o(this.chars,this.errors,H),this.errors.length||(c.syntax(this.chars,this.lines,this.errors,H),this.errors.length))return;let U=c.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=U.rules,this.udts=U.udts,h0=U.lineMap,n0=l(this.rules,this.udts,h0,this.errors),$=!0)},this.displayRules=function(H="index"){if(!Z)throw new Error(`${r}grammar not scanned, parsed and translated`);return g(this.rules,this.udts,H)},this.displayRuleDependencies=function(H="index"){if(!$)throw new Error(`${r}no attributes - must be preceeded by call to attributes()`);return p(H)},this.displayAttributes=function(H="index"){if(!$)throw new Error(`${r}no attributes - must be preceeded by call to attributes()`);return n0&&u(H),h(H)},this.displayAttributeErrors=function(){if(!$)throw new Error(`${r}no attributes - must be preceeded by call to attributes()`);return u()},this.toSource=function(H,U){if(!$)throw new Error(`${r}can't generate parser source - must be preceeded by call to attributes()`);if(n0)throw new Error(`${r}can't generate parser source - attributes have ${n0} errors`);return c.generateSource(this.chars,this.lines,this.rules,this.udts,H,U)},this.toObject=function(){if(!$)throw new Error(`${r}can't generate parser source - must be preceeded by call to attributes()`);if(n0)throw new Error(`${r}can't generate parser source - attributes have ${n0} errors`);return c.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return R(this.errors,this.lines,this.chars)},this.errorsToHtml=function(H){return _(this.errors,this.lines,this.chars,H)},this.linesToAscii=function(){return L(this.lines)},this.linesToHtml=function(){return A(this.lines)}}});var tB=c1(I5=>{"use strict";Object.defineProperty(I5,"__esModule",{value:!0});I5.output=I5.exists=I5.hash=I5.bytes=I5.bool=I5.number=void 0;function og(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}I5.number=og;function YN(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}I5.bool=YN;function xA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}I5.bytes=xA;function JN(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");og(t.outputLen),og(t.blockLen)}I5.hash=JN;function XN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}I5.exists=XN;function eB(t,e){xA(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}I5.output=eB;var ti0={number:og,bool:YN,bytes:xA,hash:JN,exists:XN,output:eB};I5.default=ti0});var MB=c1(n2=>{"use strict";Object.defineProperty(n2,"__esModule",{value:!0});n2.add5L=n2.add5H=n2.add4H=n2.add4L=n2.add3H=n2.add3L=n2.add=n2.rotlBL=n2.rotlBH=n2.rotlSL=n2.rotlSH=n2.rotr32L=n2.rotr32H=n2.rotrBL=n2.rotrBH=n2.rotrSL=n2.rotrSH=n2.shrSL=n2.shrSH=n2.toBig=n2.split=n2.fromBig=void 0;var cg=BigInt(2**32-1),wA=BigInt(32);function yA(t,e=!1){return e?{h:Number(t&cg),l:Number(t>>wA&cg)}:{h:Number(t>>wA&cg)|0,l:Number(t&cg)|0}}n2.fromBig=yA;function nB(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=yA(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}n2.split=nB;var rB=(t,e)=>BigInt(t>>>0)<<wA|BigInt(e>>>0);n2.toBig=rB;var iB=(t,e,n)=>t>>>n;n2.shrSH=iB;var sB=(t,e,n)=>t<<32-n|e>>>n;n2.shrSL=sB;var aB=(t,e,n)=>t>>>n|e<<32-n;n2.rotrSH=aB;var oB=(t,e,n)=>t<<32-n|e>>>n;n2.rotrSL=oB;var cB=(t,e,n)=>t<<64-n|e>>>n-32;n2.rotrBH=cB;var lB=(t,e,n)=>t>>>n-32|e<<64-n;n2.rotrBL=lB;var hB=(t,e)=>e;n2.rotr32H=hB;var uB=(t,e)=>t;n2.rotr32L=uB;var dB=(t,e,n)=>t<<n|e>>>32-n;n2.rotlSH=dB;var pB=(t,e,n)=>e<<n|t>>>32-n;n2.rotlSL=pB;var mB=(t,e,n)=>e<<n-32|t>>>64-n;n2.rotlBH=mB;var fB=(t,e,n)=>t<<n-32|e>>>64-n;n2.rotlBL=fB;function gB(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}n2.add=gB;var vB=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);n2.add3L=vB;var bB=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;n2.add3H=bB;var xB=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);n2.add4L=xB;var wB=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;n2.add4H=wB;var yB=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);n2.add5L=yB;var zB=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0;n2.add5H=zB;var ni0={fromBig:yA,split:nB,toBig:rB,shrSH:iB,shrSL:sB,rotrSH:aB,rotrSL:oB,rotrBH:cB,rotrBL:lB,rotr32H:hB,rotr32L:uB,rotlSH:dB,rotlSL:pB,rotlBH:mB,rotlBL:fB,add:gB,add3L:vB,add3H:bB,add4L:xB,add4H:wB,add5H:zB,add5L:yB};n2.default=ni0});var CB=c1(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.crypto=void 0;lg.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var AA=c1(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.randomBytes=b2.wrapXOFConstructorWithOpts=b2.wrapConstructorWithOpts=b2.wrapConstructor=b2.checkOpts=b2.Hash=b2.concatBytes=b2.toBytes=b2.utf8ToBytes=b2.asyncLoop=b2.nextTick=b2.hexToBytes=b2.bytesToHex=b2.isLE=b2.rotr=b2.createView=b2.u32=b2.u8=void 0;var zA=CB(),CA=t=>t instanceof Uint8Array,ri0=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);b2.u8=ri0;var ii0=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));b2.u32=ii0;var si0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);b2.createView=si0;var ai0=(t,e)=>t<<32-e|t>>>e;b2.rotr=ai0;b2.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!b2.isLE)throw new Error("Non little-endian hardware is not supported");var oi0=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ci0(t){if(!CA(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=oi0[t[n]];return e}b2.bytesToHex=ci0;function li0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){let i=r*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}b2.hexToBytes=li0;var hi0=()=>y0(b2,null,function*(){});b2.nextTick=hi0;function ui0(t,e,n){return y0(this,null,function*(){let r=Date.now();for(let i=0;i<t;i++){n(i);let s=Date.now()-r;s>=0&&s<e||(yield(0,b2.nextTick)(),r+=s)}})}b2.asyncLoop=ui0;function AB(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}b2.utf8ToBytes=AB;function hg(t){if(typeof t=="string"&&(t=AB(t)),!CA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}b2.toBytes=hg;function di0(...t){let e=new Uint8Array(t.reduce((r,i)=>r+i.length,0)),n=0;return t.forEach(r=>{if(!CA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}b2.concatBytes=di0;var MA=class{clone(){return this._cloneInto()}};b2.Hash=MA;var pi0={}.toString;function mi0(t,e){if(e!==void 0&&pi0.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}b2.checkOpts=mi0;function fi0(t){let e=r=>t().update(hg(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}b2.wrapConstructor=fi0;function gi0(t){let e=(r,i)=>t(i).update(hg(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}b2.wrapConstructorWithOpts=gi0;function vi0(t){let e=(r,i)=>t(i).update(hg(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}b2.wrapXOFConstructorWithOpts=vi0;function bi0(t=32){if(zA.crypto&&typeof zA.crypto.getRandomValues=="function")return zA.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}b2.randomBytes=bi0});var IB=c1(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});B3.shake256=B3.shake128=B3.keccak_512=B3.keccak_384=B3.keccak_256=B3.keccak_224=B3.sha3_512=B3.sha3_384=B3.sha3_256=B3.sha3_224=B3.Keccak=B3.keccakP=void 0;var As=tB(),xl=MB(),bl=AA(),[SB,kB,TB]=[[],[],[]],xi0=BigInt(0),vl=BigInt(1),wi0=BigInt(2),yi0=BigInt(7),zi0=BigInt(256),Mi0=BigInt(113);for(let t=0,e=vl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],SB.push(2*(5*r+n)),kB.push((t+1)*(t+2)/2%64);let i=xi0;for(let s=0;s<7;s++)e=(e<<vl^(e>>yi0)*Mi0)%zi0,e&wi0&&(i^=vl<<(vl<<BigInt(s))-vl);TB.push(i)}var[Ci0,Ai0]=(0,xl.split)(TB,!0),_B=(t,e,n)=>n>32?(0,xl.rotlBH)(t,e,n):(0,xl.rotlSH)(t,e,n),EB=(t,e,n)=>n>32?(0,xl.rotlBL)(t,e,n):(0,xl.rotlSL)(t,e,n);function PB(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let o=(a+8)%10,c=(a+2)%10,l=n[c],h=n[c+1],u=_B(l,h,1)^n[o],p=EB(l,h,1)^n[o+1];for(let g=0;g<50;g+=10)t[a+g]^=u,t[a+g+1]^=p}let i=t[2],s=t[3];for(let a=0;a<24;a++){let o=kB[a],c=_B(i,s,o),l=EB(i,s,o),h=SB[a];i=t[h],s=t[h+1],t[h]=c,t[h+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Ci0[r],t[1]^=Ai0[r]}n.fill(0)}B3.keccakP=PB;var wl=class t extends bl.Hash{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,As.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,bl.u32)(this.state)}keccak(){PB(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,As.exists)(this);let{blockLen:n,state:r}=this;e=(0,bl.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,As.exists)(this,!1),(0,As.bytes)(e),this.finish();let n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,As.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,As.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};B3.Keccak=wl;var ot=(t,e,n)=>(0,bl.wrapConstructor)(()=>new wl(e,t,n));B3.sha3_224=ot(6,144,224/8);B3.sha3_256=ot(6,136,256/8);B3.sha3_384=ot(6,104,384/8);B3.sha3_512=ot(6,72,512/8);B3.keccak_224=ot(1,144,224/8);B3.keccak_256=ot(1,136,256/8);B3.keccak_384=ot(1,104,384/8);B3.keccak_512=ot(1,72,512/8);var LB=(t,e,n)=>(0,bl.wrapXOFConstructorWithOpts)((r={})=>new wl(e,t,r.dkLen===void 0?n:r.dkLen,!0));B3.shake128=LB(31,168,128/8);B3.shake256=LB(31,136,256/8)});var _A=c1(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.parseIntegerNumber=_s.isEIP55Address=void 0;var _i0=IB(),Ei0=AA(),Si0=t=>{if(t.length!=42)return!1;let e=`${t}`.toLowerCase().replace("0x","");for(var n=(0,Ei0.bytesToHex)((0,_i0.keccak_256)(e)),r="0x",i=0;i<e.length;i++)parseInt(n[i],16)>=8?r+=e[i].toUpperCase():r+=e[i];return t===r};_s.isEIP55Address=Si0;var ki0=t=>{let e=parseInt(t);if(e===NaN)throw new Error("Invalid number.");if(e===1/0)throw new Error("Invalid number.");return e};_s.parseIntegerNumber=ki0});var HB=c1(Es=>{"use strict";var OB=Es&&Es.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},FB;Object.defineProperty(Es,"__esModule",{value:!0});Es.ParsedMessage=void 0;var Ti0=OB(QN()),D5=OB(Zn()),DB=_A(),Pi0=`
sign-in-with-ethereum =
    domain %s" wants you to sign in with your Ethereum account:" LF
    address LF
    LF
    [ statement LF ]
    LF
    %s"URI: " URI LF
    %s"Version: " version LF
    %s"Chain ID: " chain-id LF
    %s"Nonce: " nonce LF
    %s"Issued At: " issued-at
    [ LF %s"Expiration Time: " expiration-time ]
    [ LF %s"Not Before: " not-before ]
    [ LF %s"Request ID: " request-id ]
    [ LF %s"Resources:"
    resources ]

domain = authority

address = "0x" 40*40HEXDIG
    ; Must also conform to captilization
    ; checksum encoding specified in EIP-55
    ; where applicable (EOAs).

statement = 1*( reserved / unreserved / " " )
    ; The purpose is to exclude LF (line breaks).

version = "1"

nonce = 8*( ALPHA / DIGIT )

issued-at = date-time
expiration-time = date-time
not-before = date-time

request-id = *pchar

chain-id = 1*DIGIT
    ; See EIP-155 for valid CHAIN_IDs.

resources = *( LF resource )

resource = "- " URI

; ------------------------------------------------------------------------------
; RFC 3986

URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]

hier-part     = "//" authority path-abempty
              / path-absolute
              / path-rootless
              / path-empty

scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority     = [ userinfo "@" ] host [ ":" port ]
userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
host          = IP-literal / IPv4address / reg-name
port          = *DIGIT

IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"

IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [               h16 ] "::" 4( h16 ":" ) ls32
              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
              / [ *4( h16 ":" ) h16 ] "::"              ls32
              / [ *5( h16 ":" ) h16 ] "::"              h16
              / [ *6( h16 ":" ) h16 ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255

reg-name      = *( unreserved / pct-encoded / sub-delims )

path-abempty  = *( "/" segment )
path-absolute = "/" [ segment-nz *( "/" segment ) ]
path-rootless = segment-nz *( "/" segment )
path-empty    = 0pchar

segment       = *pchar
segment-nz    = 1*pchar

pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

query         = *( pchar / "/" / "?" )

fragment      = *( pchar / "/" / "?" )

pct-encoded   = "%" HEXDIG HEXDIG

unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
              / "*" / "+" / "," / ";" / "="

; ------------------------------------------------------------------------------
; RFC 3339

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time

; ------------------------------------------------------------------------------
; RFC 5234

ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
LF             =  %x0A
                  ; linefeed
DIGIT          =  %x30-39
                  ; 0-9
HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,yl=class{static generateApi(){let e=new Ti0.default(Pi0);if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}};FB=yl;yl.grammarObj=FB.generateApi();var EA=class{constructor(e){let n=new D5.default.parser;n.ast=new D5.default.ast;let r=D5.default.ids,i=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.domain=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks.domain=i;let s=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.address=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks.address=s;let a=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.statement=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks.statement=a;let o=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.uri||(Z.uri=D5.default.utils.charsToString(R,G,K))),$};n.ast.callbacks.uri=o;let c=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.version=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks.version=c;let l=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.chainId=(0,DB.parseIntegerNumber)(D5.default.utils.charsToString(R,G,K))),$};n.ast.callbacks["chain-id"]=l;let h=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.nonce=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks.nonce=h;let u=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.issuedAt=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks["issued-at"]=u;let p=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.expirationTime=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks["expiration-time"]=p;let g=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.notBefore=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks["not-before"]=g;let f=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.requestId=D5.default.utils.charsToString(R,G,K)),$};n.ast.callbacks["request-id"]=f;let w=function(_,R,G,K,Z){let $=r.SEM_OK;return _===r.SEM_PRE&&(Z.resources=D5.default.utils.charsToString(R,G,K).slice(3).split(`
- `)),$};n.ast.callbacks.resources=w;let L=n.parse(yl.grammarObj,"sign-in-with-ethereum",e);if(!L.success)throw new Error(`Invalid message: ${JSON.stringify(L)}`);let A={};n.ast.translate(A);for(let[_,R]of Object.entries(A))this[_]=R;if(this.domain.length===0)throw new Error("Domain cannot be empty.");if(!(0,DB.isEIP55Address)(this.address))throw new Error("Address not conformant to EIP-55.")}};Es.ParsedMessage=EA});var VB=c1(Be=>{"use strict";var Li0=Be&&Be.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ii0=Be&&Be.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Li0(e,t,n)};Object.defineProperty(Be,"__esModule",{value:!0});Be.ParsedMessage=void 0;var Di0=HB();Object.defineProperty(Be,"ParsedMessage",{enumerable:!0,get:function(){return Di0.ParsedMessage}});Ii0(_A(),Be)});var NB=c1((pZ0,RB)=>{"use strict";(function(t){"use strict";t.exports.is_uri=n,t.exports.is_http_uri=r,t.exports.is_https_uri=i,t.exports.is_web_uri=s,t.exports.isUri=n,t.exports.isHttpUri=r,t.exports.isHttpsUri=i,t.exports.isWebUri=s;var e=function(a){var o=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return o};function n(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var o=[],c="",l="",h="",u="",p="",g="";if(o=e(a),c=o[1],l=o[2],h=o[3],u=o[4],p=o[5],!!(c&&c.length&&h.length>=0)){if(l&&l.length){if(!(h.length===0||/^\//.test(h)))return}else if(/^\/\//.test(h))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(c.toLowerCase()))return g+=c+":",l&&l.length&&(g+="//"+l),g+=h,u&&u.length&&(g+="?"+u),p&&p.length&&(g+="#"+p),g}}}function r(a,o){if(n(a)){var c=[],l="",h="",u="",p="",g="",f="",w="";if(c=e(a),l=c[1],h=c[2],u=c[3],g=c[4],f=c[5],!!l){if(o){if(l.toLowerCase()!="https")return}else if(l.toLowerCase()!="http")return;if(h)return/:(\d+)$/.test(h)&&(p=h.match(/:(\d+)$/)[0],h=h.replace(/:\d+$/,"")),w+=l+":",w+="//"+h,p&&(w+=p),w+=u,g&&g.length&&(w+="?"+g),f&&f.length&&(w+="#"+f),w}}}function i(a){return r(a,!0)}function s(a){return r(a)||i(a)}})(RB)});var XB=c1(ks=>{"use strict";var SA=eA(),Ss=nA(),BB=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ks.Buffer=H0;ks.SlowBuffer=Ni0;ks.INSPECT_MAX_BYTES=50;var ug=2147483647;ks.kMaxLength=ug;H0.TYPED_ARRAY_SUPPORT=Oi0();!H0.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Oi0(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(H0.prototype,"parent",{enumerable:!0,get:function(){if(H0.isBuffer(this))return this.buffer}});Object.defineProperty(H0.prototype,"offset",{enumerable:!0,get:function(){if(H0.isBuffer(this))return this.byteOffset}});function Ze(t){if(t>ug)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,H0.prototype),e}function H0(t,e,n){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return LA(t)}return UB(t,e,n)}H0.poolSize=8192;function UB(t,e,n){if(typeof t=="string")return Hi0(t,e);if(ArrayBuffer.isView(t))return Vi0(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F8(t,ArrayBuffer)||t&&F8(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(F8(t,SharedArrayBuffer)||t&&F8(t.buffer,SharedArrayBuffer)))return TA(t,e,n);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(r!=null&&r!==t)return H0.from(r,e,n);var i=Ri0(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return H0.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}H0.from=function(t,e,n){return UB(t,e,n)};Object.setPrototypeOf(H0.prototype,Uint8Array.prototype);Object.setPrototypeOf(H0,Uint8Array);function GB(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Fi0(t,e,n){return GB(t),t<=0?Ze(t):e!==void 0?typeof n=="string"?Ze(t).fill(e,n):Ze(t).fill(e):Ze(t)}H0.alloc=function(t,e,n){return Fi0(t,e,n)};function LA(t){return GB(t),Ze(t<0?0:IA(t)|0)}H0.allocUnsafe=function(t){return LA(t)};H0.allocUnsafeSlow=function(t){return LA(t)};function Hi0(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!H0.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=qB(t,e)|0,r=Ze(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function kA(t){for(var e=t.length<0?0:IA(t.length)|0,n=Ze(e),r=0;r<e;r+=1)n[r]=t[r]&255;return n}function Vi0(t){if(F8(t,Uint8Array)){var e=new Uint8Array(t);return TA(e.buffer,e.byteOffset,e.byteLength)}return kA(t)}function TA(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return e===void 0&&n===void 0?r=new Uint8Array(t):n===void 0?r=new Uint8Array(t,e):r=new Uint8Array(t,e,n),Object.setPrototypeOf(r,H0.prototype),r}function Ri0(t){if(H0.isBuffer(t)){var e=IA(t.length)|0,n=Ze(e);return n.length===0||t.copy(n,0,0,e),n}if(t.length!==void 0)return typeof t.length!="number"||DA(t.length)?Ze(0):kA(t);if(t.type==="Buffer"&&Array.isArray(t.data))return kA(t.data)}function IA(t){if(t>=ug)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ug.toString(16)+" bytes");return t|0}function Ni0(t){return+t!=t&&(t=0),H0.alloc(+t)}H0.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==H0.prototype};H0.compare=function(e,n){if(F8(e,Uint8Array)&&(e=H0.from(e,e.offset,e.byteLength)),F8(n,Uint8Array)&&(n=H0.from(n,n.offset,n.byteLength)),!H0.isBuffer(e)||!H0.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,i=n.length,s=0,a=Math.min(r,i);s<a;++s)if(e[s]!==n[s]){r=e[s],i=n[s];break}return r<i?-1:i<r?1:0};H0.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};H0.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return H0.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=H0.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){var a=e[r];if(F8(a,Uint8Array))s+a.length>i.length?H0.from(a).copy(i,s):Uint8Array.prototype.set.call(i,a,s);else if(H0.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function qB(t,e){if(H0.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F8(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return PA(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return JB(t).length;default:if(i)return r?-1:PA(t).length;e=(""+e).toLowerCase(),i=!0}}H0.byteLength=qB;function Bi0(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Yi0(this,e,n);case"utf8":case"utf-8":return $B(this,e,n);case"ascii":return Ki0(this,e,n);case"latin1":case"binary":return Qi0(this,e,n);case"base64":return Wi0(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ji0(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}H0.prototype._isBuffer=!0;function jn(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}H0.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)jn(this,n,n+1);return this};H0.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)jn(this,n,n+3),jn(this,n+1,n+2);return this};H0.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)jn(this,n,n+7),jn(this,n+1,n+6),jn(this,n+2,n+5),jn(this,n+3,n+4);return this};H0.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?$B(this,0,e):Bi0.apply(this,arguments)};H0.prototype.toLocaleString=H0.prototype.toString;H0.prototype.equals=function(e){if(!H0.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:H0.compare(this,e)===0};H0.prototype.inspect=function(){var e="",n=ks.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"};BB&&(H0.prototype[BB]=H0.prototype.inspect);H0.prototype.compare=function(e,n,r,i,s){if(F8(e,Uint8Array)&&(e=H0.from(e,e.offset,e.byteLength)),!H0.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),n<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&n>=r)return 0;if(i>=s)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var a=s-i,o=r-n,c=Math.min(a,o),l=this.slice(i,s),h=e.slice(n,r),u=0;u<c;++u)if(l[u]!==h[u]){a=l[u],o=h[u];break}return a<o?-1:o<a?1:0};function WB(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,DA(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=H0.from(e,r)),H0.isBuffer(e))return e.length===0?-1:ZB(t,e,n,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):ZB(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function ZB(t,e,n,r,i){var s=1,a=t.length,o=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,n/=2}function c(g,f){return s===1?g[f]:g.readUInt16BE(f*s)}var l;if(i){var h=-1;for(l=n;l<a;l++)if(c(t,l)===c(e,h===-1?0:l-h)){if(h===-1&&(h=l),l-h+1===o)return h*s}else h!==-1&&(l-=l-h),h=-1}else for(n+o>a&&(n=a-o),l=n;l>=0;l--){for(var u=!0,p=0;p<o;p++)if(c(t,l+p)!==c(e,p)){u=!1;break}if(u)return l}return-1}H0.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};H0.prototype.indexOf=function(e,n,r){return WB(this,e,n,r,!0)};H0.prototype.lastIndexOf=function(e,n,r){return WB(this,e,n,r,!1)};function Zi0(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(e.substr(a*2,2),16);if(DA(o))return a;t[n+a]=o}return a}function ji0(t,e,n,r){return dg(PA(e,t.length-n),t,n,r)}function Ui0(t,e,n,r){return dg(ts0(e),t,n,r)}function Gi0(t,e,n,r){return dg(JB(e),t,n,r)}function qi0(t,e,n,r){return dg(ns0(e,t.length-n),t,n,r)}H0.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Zi0(this,e,n,r);case"utf8":case"utf-8":return ji0(this,e,n,r);case"ascii":case"latin1":case"binary":return Ui0(this,e,n,r);case"base64":return Gi0(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qi0(this,e,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};H0.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Wi0(t,e,n){return e===0&&n===t.length?SA.fromByteArray(t):SA.fromByteArray(t.slice(e,n))}function $B(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=n){var c,l,h,u;switch(o){case 1:s<128&&(a=s);break;case 2:c=t[i+1],(c&192)===128&&(u=(s&31)<<6|c&63,u>127&&(a=u));break;case 3:c=t[i+1],l=t[i+2],(c&192)===128&&(l&192)===128&&(u=(s&15)<<12|(c&63)<<6|l&63,u>2047&&(u<55296||u>57343)&&(a=u));break;case 4:c=t[i+1],l=t[i+2],h=t[i+3],(c&192)===128&&(l&192)===128&&(h&192)===128&&(u=(s&15)<<18|(c&63)<<12|(l&63)<<6|h&63,u>65535&&u<1114112&&(a=u))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),i+=o}return $i0(r)}var jB=4096;function $i0(t){var e=t.length;if(e<=jB)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=jB));return n}function Ki0(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function Qi0(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function Yi0(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=rs0[t[s]];return i}function Ji0(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}H0.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i=this.subarray(e,n);return Object.setPrototypeOf(i,H0.prototype),i};function q4(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}H0.prototype.readUintLE=H0.prototype.readUIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||q4(e,n,this.length);for(var i=this[e],s=1,a=0;++a<n&&(s*=256);)i+=this[e+a]*s;return i};H0.prototype.readUintBE=H0.prototype.readUIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||q4(e,n,this.length);for(var i=this[e+--n],s=1;n>0&&(s*=256);)i+=this[e+--n]*s;return i};H0.prototype.readUint8=H0.prototype.readUInt8=function(e,n){return e=e>>>0,n||q4(e,1,this.length),this[e]};H0.prototype.readUint16LE=H0.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||q4(e,2,this.length),this[e]|this[e+1]<<8};H0.prototype.readUint16BE=H0.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||q4(e,2,this.length),this[e]<<8|this[e+1]};H0.prototype.readUint32LE=H0.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||q4(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};H0.prototype.readUint32BE=H0.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||q4(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};H0.prototype.readIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||q4(e,n,this.length);for(var i=this[e],s=1,a=0;++a<n&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i};H0.prototype.readIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||q4(e,n,this.length);for(var i=n,s=1,a=this[e+--i];i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*n)),a};H0.prototype.readInt8=function(e,n){return e=e>>>0,n||q4(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};H0.prototype.readInt16LE=function(e,n){e=e>>>0,n||q4(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};H0.prototype.readInt16BE=function(e,n){e=e>>>0,n||q4(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};H0.prototype.readInt32LE=function(e,n){return e=e>>>0,n||q4(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};H0.prototype.readInt32BE=function(e,n){return e=e>>>0,n||q4(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};H0.prototype.readFloatLE=function(e,n){return e=e>>>0,n||q4(e,4,this.length),Ss.read(this,e,!0,23,4)};H0.prototype.readFloatBE=function(e,n){return e=e>>>0,n||q4(e,4,this.length),Ss.read(this,e,!1,23,4)};H0.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||q4(e,8,this.length),Ss.read(this,e,!0,52,8)};H0.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||q4(e,8,this.length),Ss.read(this,e,!1,52,8)};function Q5(t,e,n,r,i,s){if(!H0.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}H0.prototype.writeUintLE=H0.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){var s=Math.pow(2,8*r)-1;Q5(this,e,n,r,s,0)}var a=1,o=0;for(this[n]=e&255;++o<r&&(a*=256);)this[n+o]=e/a&255;return n+r};H0.prototype.writeUintBE=H0.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){var s=Math.pow(2,8*r)-1;Q5(this,e,n,r,s,0)}var a=r-1,o=1;for(this[n+a]=e&255;--a>=0&&(o*=256);)this[n+a]=e/o&255;return n+r};H0.prototype.writeUint8=H0.prototype.writeUInt8=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,1,255,0),this[n]=e&255,n+1};H0.prototype.writeUint16LE=H0.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2};H0.prototype.writeUint16BE=H0.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2};H0.prototype.writeUint32LE=H0.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4};H0.prototype.writeUint32BE=H0.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};H0.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){var s=Math.pow(2,8*r-1);Q5(this,e,n,r,s-1,-s)}var a=0,o=1,c=0;for(this[n]=e&255;++a<r&&(o*=256);)e<0&&c===0&&this[n+a-1]!==0&&(c=1),this[n+a]=(e/o>>0)-c&255;return n+r};H0.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){var s=Math.pow(2,8*r-1);Q5(this,e,n,r,s-1,-s)}var a=r-1,o=1,c=0;for(this[n+a]=e&255;--a>=0&&(o*=256);)e<0&&c===0&&this[n+a+1]!==0&&(c=1),this[n+a]=(e/o>>0)-c&255;return n+r};H0.prototype.writeInt8=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1};H0.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2};H0.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2};H0.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4};H0.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||Q5(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function KB(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function QB(t,e,n,r,i){return e=+e,n=n>>>0,i||KB(t,e,n,4,34028234663852886e22,-34028234663852886e22),Ss.write(t,e,n,r,23,4),n+4}H0.prototype.writeFloatLE=function(e,n,r){return QB(this,e,n,!0,r)};H0.prototype.writeFloatBE=function(e,n,r){return QB(this,e,n,!1,r)};function YB(t,e,n,r,i){return e=+e,n=n>>>0,i||KB(t,e,n,8,17976931348623157e292,-17976931348623157e292),Ss.write(t,e,n,r,52,8),n+8}H0.prototype.writeDoubleLE=function(e,n,r){return YB(this,e,n,!0,r)};H0.prototype.writeDoubleBE=function(e,n,r){return YB(this,e,n,!1,r)};H0.prototype.copy=function(e,n,r,i){if(!H0.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),n),s};H0.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!H0.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var a;if(typeof e=="number")for(a=n;a<r;++a)this[a]=e;else{var o=H0.isBuffer(e)?e:H0.from(e,i),c=o.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=o[a%c]}return this};var Xi0=/[^+/0-9A-Za-z-_]/g;function es0(t){if(t=t.split("=")[0],t=t.trim().replace(Xi0,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function PA(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function ts0(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function ns0(t,e){for(var n,r,i,s=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function JB(t){return SA.toByteArray(es0(t))}function dg(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function F8(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function DA(t){return t!==t}var rs0=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=n*16,i=0;i<16;++i)e[r+i]=t[n]+t[i];return e}()});var FA=c1((eZ,OA)=>{"use strict";(function(t,e){"use strict";function n(P,d){if(!P)throw new Error(d||"Assertion failed")}function r(P,d){P.super_=d;var y=function(){};y.prototype=d.prototype,P.prototype=new y,P.prototype.constructor=P}function i(P,d,y){if(i.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((d==="le"||d==="be")&&(y=d,d=10),this._init(P||0,d||10,y||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=XB().Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,y){return d.cmp(y)>0?d:y},i.min=function(d,y){return d.cmp(y)<0?d:y},i.prototype._init=function(d,y,M){if(typeof d=="number")return this._initNumber(d,y,M);if(typeof d=="object")return this._initArray(d,y,M);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var E=0;d[0]==="-"&&(E++,this.negative=1),E<d.length&&(y===16?this._parseHex(d,E,M):(this._parseBase(d,y,E),M==="le"&&this._initArray(this.toArray(),y,M)))},i.prototype._initNumber=function(d,y,M){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),y,M)},i.prototype._initArray=function(d,y,M){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var O,S,D=0;if(M==="be")for(E=d.length-1,O=0;E>=0;E-=3)S=d[E]|d[E-1]<<8|d[E-2]<<16,this.words[O]|=S<<D&67108863,this.words[O+1]=S>>>26-D&67108863,D+=24,D>=26&&(D-=26,O++);else if(M==="le")for(E=0,O=0;E<d.length;E+=3)S=d[E]|d[E+1]<<8|d[E+2]<<16,this.words[O]|=S<<D&67108863,this.words[O+1]=S>>>26-D&67108863,D+=24,D>=26&&(D-=26,O++);return this._strip()};function a(P,d){var y=P.charCodeAt(d);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+P)}function o(P,d,y){var M=a(P,y);return y-1>=d&&(M|=a(P,y-1)<<4),M}i.prototype._parseHex=function(d,y,M){this.length=Math.ceil((d.length-y)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var O=0,S=0,D;if(M==="be")for(E=d.length-1;E>=y;E-=2)D=o(d,y,E)<<O,this.words[S]|=D&67108863,O>=18?(O-=18,S+=1,this.words[S]|=D>>>26):O+=8;else{var I=d.length-y;for(E=I%2===0?y+1:y;E<d.length;E+=2)D=o(d,y,E)<<O,this.words[S]|=D&67108863,O>=18?(O-=18,S+=1,this.words[S]|=D>>>26):O+=8}this._strip()};function c(P,d,y,M){for(var E=0,O=0,S=Math.min(P.length,y),D=d;D<S;D++){var I=P.charCodeAt(D)-48;E*=M,I>=49?O=I-49+10:I>=17?O=I-17+10:O=I,n(I>=0&&O<M,"Invalid character"),E+=O}return E}i.prototype._parseBase=function(d,y,M){this.words=[0],this.length=1;for(var E=0,O=1;O<=67108863;O*=y)E++;E--,O=O/y|0;for(var S=d.length-M,D=S%E,I=Math.min(S,S-D)+M,m=0,z=M;z<I;z+=E)m=c(d,z,z+E,y),this.imuln(O),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(D!==0){var r0=1;for(m=c(d,z,d.length,y),z=0;z<D;z++)r0*=y;this.imuln(r0),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},i.prototype.copy=function(d){d.words=new Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red};function l(P,d){P.words=d.words,P.length=d.length,P.negative=d.negative,P.red=d.red}if(i.prototype._move=function(d){l(d,this)},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,y){d=d||10,y=y|0||1;var M;if(d===16||d==="hex"){M="";for(var E=0,O=0,S=0;S<this.length;S++){var D=this.words[S],I=((D<<E|O)&16777215).toString(16);O=D>>>24-E&16777215,E+=2,E>=26&&(E-=26,S--),O!==0||S!==this.length-1?M=u[6-I.length]+I+M:M=I+M}for(O!==0&&(M=O.toString(16)+M);M.length%y!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(d===(d|0)&&d>=2&&d<=36){var m=p[d],z=g[d];M="";var r0=this.clone();for(r0.negative=0;!r0.isZero();){var T=r0.modrn(z).toString(d);r0=r0.idivn(z),r0.isZero()?M=T+M:M=u[m-T.length]+T+M}for(this.isZero()&&(M="0"+M);M.length%y!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(d,y){return this.toArrayLike(s,d,y)}),i.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)};var f=function(d,y){return d.allocUnsafe?d.allocUnsafe(y):new d(y)};i.prototype.toArrayLike=function(d,y,M){this._strip();var E=this.byteLength(),O=M||Math.max(1,E);n(E<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var S=f(d,O),D=y==="le"?"LE":"BE";return this["_toArrayLike"+D](S,E),S},i.prototype._toArrayLikeLE=function(d,y){for(var M=0,E=0,O=0,S=0;O<this.length;O++){var D=this.words[O]<<S|E;d[M++]=D&255,M<d.length&&(d[M++]=D>>8&255),M<d.length&&(d[M++]=D>>16&255),S===6?(M<d.length&&(d[M++]=D>>24&255),E=0,S=0):(E=D>>>24,S+=2)}if(M<d.length)for(d[M++]=E;M<d.length;)d[M++]=0},i.prototype._toArrayLikeBE=function(d,y){for(var M=d.length-1,E=0,O=0,S=0;O<this.length;O++){var D=this.words[O]<<S|E;d[M--]=D&255,M>=0&&(d[M--]=D>>8&255),M>=0&&(d[M--]=D>>16&255),S===6?(M>=0&&(d[M--]=D>>24&255),E=0,S=0):(E=D>>>24,S+=2)}if(M>=0)for(d[M--]=E;M>=0;)d[M--]=0},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var y=d,M=0;return y>=4096&&(M+=13,y>>>=13),y>=64&&(M+=7,y>>>=7),y>=8&&(M+=4,y>>>=4),y>=2&&(M+=2,y>>>=2),M+y},i.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,M=0;return y&8191||(M+=13,y>>>=13),y&127||(M+=7,y>>>=7),y&15||(M+=4,y>>>=4),y&3||(M+=2,y>>>=2),y&1||M++,M},i.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function w(P){for(var d=new Array(P.bitLength()),y=0;y<d.length;y++){var M=y/26|0,E=y%26;d[y]=P.words[M]>>>E&1}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var M=this._zeroBits(this.words[y]);if(d+=M,M!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this._strip()},i.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var M=0;M<y.length;M++)this.words[M]=this.words[M]&d.words[M];return this.length=y.length,this._strip()},i.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var y,M;this.length>d.length?(y=this,M=d):(y=d,M=this);for(var E=0;E<M.length;E++)this.words[E]=y.words[E]^M.words[E];if(this!==y)for(;E<y.length;E++)this.words[E]=y.words[E];return this.length=y.length,this._strip()},i.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,M=d%26;this._expand(y),M>0&&y--;for(var E=0;E<y;E++)this.words[E]=~this.words[E]&67108863;return M>0&&(this.words[E]=~this.words[E]&67108863>>26-M),this._strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,y){n(typeof d=="number"&&d>=0);var M=d/26|0,E=d%26;return this._expand(M+1),y?this.words[M]=this.words[M]|1<<E:this.words[M]=this.words[M]&~(1<<E),this._strip()},i.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var M,E;this.length>d.length?(M=this,E=d):(M=d,E=this);for(var O=0,S=0;S<E.length;S++)y=(M.words[S]|0)+(E.words[S]|0)+O,this.words[S]=y&67108863,O=y>>>26;for(;O!==0&&S<M.length;S++)y=(M.words[S]|0)+O,this.words[S]=y&67108863,O=y>>>26;if(this.length=M.length,O!==0)this.words[this.length]=O,this.length++;else if(M!==this)for(;S<M.length;S++)this.words[S]=M.words[S];return this},i.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var M=this.cmp(d);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,O;M>0?(E=this,O=d):(E=d,O=this);for(var S=0,D=0;D<O.length;D++)y=(E.words[D]|0)-(O.words[D]|0)+S,S=y>>26,this.words[D]=y&67108863;for(;S!==0&&D<E.length;D++)y=(E.words[D]|0)+S,S=y>>26,this.words[D]=y&67108863;if(S===0&&D<E.length&&E!==this)for(;D<E.length;D++)this.words[D]=E.words[D];return this.length=Math.max(this.length,D),E!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function L(P,d,y){y.negative=d.negative^P.negative;var M=P.length+d.length|0;y.length=M,M=M-1|0;var E=P.words[0]|0,O=d.words[0]|0,S=E*O,D=S&67108863,I=S/67108864|0;y.words[0]=D;for(var m=1;m<M;m++){for(var z=I>>>26,r0=I&67108863,T=Math.min(m,d.length-1),s0=Math.max(0,m-P.length+1);s0<=T;s0++){var i0=m-s0|0;E=P.words[i0]|0,O=d.words[s0]|0,S=E*O+r0,z+=S/67108864|0,r0=S&67108863}y.words[m]=r0|0,I=z|0}return I!==0?y.words[m]=I|0:y.length--,y._strip()}var A=function(d,y,M){var E=d.words,O=y.words,S=M.words,D=0,I,m,z,r0=E[0]|0,T=r0&8191,s0=r0>>>13,i0=E[1]|0,W=i0&8191,q=i0>>>13,a0=E[2]|0,u0=a0&8191,C0=a0>>>13,Y0=E[3]|0,L0=Y0&8191,g0=Y0>>>13,R0=E[4]|0,d0=R0&8191,S0=R0>>>13,Q=E[5]|0,z0=Q&8191,e1=Q>>>13,_1=E[6]|0,T1=_1&8191,O2=_1>>>13,$4=E[7]|0,p0=$4&8191,o0=$4>>>13,B=E[8]|0,e0=B&8191,M0=B>>>13,k0=E[9]|0,O0=k0&8191,t1=k0>>>13,F2=O[0]|0,O1=F2&8191,v1=F2>>>13,j2=O[1]|0,x2=j2&8191,e3=j2>>>13,X7=O[2]|0,k3=X7&8191,T3=X7>>>13,K4=O[3]|0,Q2=K4&8191,t3=K4>>>13,b7=O[4]|0,g3=b7&8191,y3=b7>>>13,ie=O[5]|0,C2=ie&8191,z3=ie>>>13,k=O[6]|0,N=k&8191,V=k>>>13,x=O[7]|0,j=x&8191,l0=x>>>13,x0=O[8]|0,T0=x0&8191,N0=x0>>>13,d1=O[9]|0,q0=d1&8191,E1=d1>>>13;M.negative=d.negative^y.negative,M.length=19,I=Math.imul(T,O1),m=Math.imul(T,v1),m=m+Math.imul(s0,O1)|0,z=Math.imul(s0,v1);var o1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(o1>>>26)|0,o1&=67108863,I=Math.imul(W,O1),m=Math.imul(W,v1),m=m+Math.imul(q,O1)|0,z=Math.imul(q,v1),I=I+Math.imul(T,x2)|0,m=m+Math.imul(T,e3)|0,m=m+Math.imul(s0,x2)|0,z=z+Math.imul(s0,e3)|0;var P1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(P1>>>26)|0,P1&=67108863,I=Math.imul(u0,O1),m=Math.imul(u0,v1),m=m+Math.imul(C0,O1)|0,z=Math.imul(C0,v1),I=I+Math.imul(W,x2)|0,m=m+Math.imul(W,e3)|0,m=m+Math.imul(q,x2)|0,z=z+Math.imul(q,e3)|0,I=I+Math.imul(T,k3)|0,m=m+Math.imul(T,T3)|0,m=m+Math.imul(s0,k3)|0,z=z+Math.imul(s0,T3)|0;var I1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(I1>>>26)|0,I1&=67108863,I=Math.imul(L0,O1),m=Math.imul(L0,v1),m=m+Math.imul(g0,O1)|0,z=Math.imul(g0,v1),I=I+Math.imul(u0,x2)|0,m=m+Math.imul(u0,e3)|0,m=m+Math.imul(C0,x2)|0,z=z+Math.imul(C0,e3)|0,I=I+Math.imul(W,k3)|0,m=m+Math.imul(W,T3)|0,m=m+Math.imul(q,k3)|0,z=z+Math.imul(q,T3)|0,I=I+Math.imul(T,Q2)|0,m=m+Math.imul(T,t3)|0,m=m+Math.imul(s0,Q2)|0,z=z+Math.imul(s0,t3)|0;var Z1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(Z1>>>26)|0,Z1&=67108863,I=Math.imul(d0,O1),m=Math.imul(d0,v1),m=m+Math.imul(S0,O1)|0,z=Math.imul(S0,v1),I=I+Math.imul(L0,x2)|0,m=m+Math.imul(L0,e3)|0,m=m+Math.imul(g0,x2)|0,z=z+Math.imul(g0,e3)|0,I=I+Math.imul(u0,k3)|0,m=m+Math.imul(u0,T3)|0,m=m+Math.imul(C0,k3)|0,z=z+Math.imul(C0,T3)|0,I=I+Math.imul(W,Q2)|0,m=m+Math.imul(W,t3)|0,m=m+Math.imul(q,Q2)|0,z=z+Math.imul(q,t3)|0,I=I+Math.imul(T,g3)|0,m=m+Math.imul(T,y3)|0,m=m+Math.imul(s0,g3)|0,z=z+Math.imul(s0,y3)|0;var V1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(V1>>>26)|0,V1&=67108863,I=Math.imul(z0,O1),m=Math.imul(z0,v1),m=m+Math.imul(e1,O1)|0,z=Math.imul(e1,v1),I=I+Math.imul(d0,x2)|0,m=m+Math.imul(d0,e3)|0,m=m+Math.imul(S0,x2)|0,z=z+Math.imul(S0,e3)|0,I=I+Math.imul(L0,k3)|0,m=m+Math.imul(L0,T3)|0,m=m+Math.imul(g0,k3)|0,z=z+Math.imul(g0,T3)|0,I=I+Math.imul(u0,Q2)|0,m=m+Math.imul(u0,t3)|0,m=m+Math.imul(C0,Q2)|0,z=z+Math.imul(C0,t3)|0,I=I+Math.imul(W,g3)|0,m=m+Math.imul(W,y3)|0,m=m+Math.imul(q,g3)|0,z=z+Math.imul(q,y3)|0,I=I+Math.imul(T,C2)|0,m=m+Math.imul(T,z3)|0,m=m+Math.imul(s0,C2)|0,z=z+Math.imul(s0,z3)|0;var j1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(j1>>>26)|0,j1&=67108863,I=Math.imul(T1,O1),m=Math.imul(T1,v1),m=m+Math.imul(O2,O1)|0,z=Math.imul(O2,v1),I=I+Math.imul(z0,x2)|0,m=m+Math.imul(z0,e3)|0,m=m+Math.imul(e1,x2)|0,z=z+Math.imul(e1,e3)|0,I=I+Math.imul(d0,k3)|0,m=m+Math.imul(d0,T3)|0,m=m+Math.imul(S0,k3)|0,z=z+Math.imul(S0,T3)|0,I=I+Math.imul(L0,Q2)|0,m=m+Math.imul(L0,t3)|0,m=m+Math.imul(g0,Q2)|0,z=z+Math.imul(g0,t3)|0,I=I+Math.imul(u0,g3)|0,m=m+Math.imul(u0,y3)|0,m=m+Math.imul(C0,g3)|0,z=z+Math.imul(C0,y3)|0,I=I+Math.imul(W,C2)|0,m=m+Math.imul(W,z3)|0,m=m+Math.imul(q,C2)|0,z=z+Math.imul(q,z3)|0,I=I+Math.imul(T,N)|0,m=m+Math.imul(T,V)|0,m=m+Math.imul(s0,N)|0,z=z+Math.imul(s0,V)|0;var W1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(W1>>>26)|0,W1&=67108863,I=Math.imul(p0,O1),m=Math.imul(p0,v1),m=m+Math.imul(o0,O1)|0,z=Math.imul(o0,v1),I=I+Math.imul(T1,x2)|0,m=m+Math.imul(T1,e3)|0,m=m+Math.imul(O2,x2)|0,z=z+Math.imul(O2,e3)|0,I=I+Math.imul(z0,k3)|0,m=m+Math.imul(z0,T3)|0,m=m+Math.imul(e1,k3)|0,z=z+Math.imul(e1,T3)|0,I=I+Math.imul(d0,Q2)|0,m=m+Math.imul(d0,t3)|0,m=m+Math.imul(S0,Q2)|0,z=z+Math.imul(S0,t3)|0,I=I+Math.imul(L0,g3)|0,m=m+Math.imul(L0,y3)|0,m=m+Math.imul(g0,g3)|0,z=z+Math.imul(g0,y3)|0,I=I+Math.imul(u0,C2)|0,m=m+Math.imul(u0,z3)|0,m=m+Math.imul(C0,C2)|0,z=z+Math.imul(C0,z3)|0,I=I+Math.imul(W,N)|0,m=m+Math.imul(W,V)|0,m=m+Math.imul(q,N)|0,z=z+Math.imul(q,V)|0,I=I+Math.imul(T,j)|0,m=m+Math.imul(T,l0)|0,m=m+Math.imul(s0,j)|0,z=z+Math.imul(s0,l0)|0;var U1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(U1>>>26)|0,U1&=67108863,I=Math.imul(e0,O1),m=Math.imul(e0,v1),m=m+Math.imul(M0,O1)|0,z=Math.imul(M0,v1),I=I+Math.imul(p0,x2)|0,m=m+Math.imul(p0,e3)|0,m=m+Math.imul(o0,x2)|0,z=z+Math.imul(o0,e3)|0,I=I+Math.imul(T1,k3)|0,m=m+Math.imul(T1,T3)|0,m=m+Math.imul(O2,k3)|0,z=z+Math.imul(O2,T3)|0,I=I+Math.imul(z0,Q2)|0,m=m+Math.imul(z0,t3)|0,m=m+Math.imul(e1,Q2)|0,z=z+Math.imul(e1,t3)|0,I=I+Math.imul(d0,g3)|0,m=m+Math.imul(d0,y3)|0,m=m+Math.imul(S0,g3)|0,z=z+Math.imul(S0,y3)|0,I=I+Math.imul(L0,C2)|0,m=m+Math.imul(L0,z3)|0,m=m+Math.imul(g0,C2)|0,z=z+Math.imul(g0,z3)|0,I=I+Math.imul(u0,N)|0,m=m+Math.imul(u0,V)|0,m=m+Math.imul(C0,N)|0,z=z+Math.imul(C0,V)|0,I=I+Math.imul(W,j)|0,m=m+Math.imul(W,l0)|0,m=m+Math.imul(q,j)|0,z=z+Math.imul(q,l0)|0,I=I+Math.imul(T,T0)|0,m=m+Math.imul(T,N0)|0,m=m+Math.imul(s0,T0)|0,z=z+Math.imul(s0,N0)|0;var p1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(p1>>>26)|0,p1&=67108863,I=Math.imul(O0,O1),m=Math.imul(O0,v1),m=m+Math.imul(t1,O1)|0,z=Math.imul(t1,v1),I=I+Math.imul(e0,x2)|0,m=m+Math.imul(e0,e3)|0,m=m+Math.imul(M0,x2)|0,z=z+Math.imul(M0,e3)|0,I=I+Math.imul(p0,k3)|0,m=m+Math.imul(p0,T3)|0,m=m+Math.imul(o0,k3)|0,z=z+Math.imul(o0,T3)|0,I=I+Math.imul(T1,Q2)|0,m=m+Math.imul(T1,t3)|0,m=m+Math.imul(O2,Q2)|0,z=z+Math.imul(O2,t3)|0,I=I+Math.imul(z0,g3)|0,m=m+Math.imul(z0,y3)|0,m=m+Math.imul(e1,g3)|0,z=z+Math.imul(e1,y3)|0,I=I+Math.imul(d0,C2)|0,m=m+Math.imul(d0,z3)|0,m=m+Math.imul(S0,C2)|0,z=z+Math.imul(S0,z3)|0,I=I+Math.imul(L0,N)|0,m=m+Math.imul(L0,V)|0,m=m+Math.imul(g0,N)|0,z=z+Math.imul(g0,V)|0,I=I+Math.imul(u0,j)|0,m=m+Math.imul(u0,l0)|0,m=m+Math.imul(C0,j)|0,z=z+Math.imul(C0,l0)|0,I=I+Math.imul(W,T0)|0,m=m+Math.imul(W,N0)|0,m=m+Math.imul(q,T0)|0,z=z+Math.imul(q,N0)|0,I=I+Math.imul(T,q0)|0,m=m+Math.imul(T,E1)|0,m=m+Math.imul(s0,q0)|0,z=z+Math.imul(s0,E1)|0;var A1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(A1>>>26)|0,A1&=67108863,I=Math.imul(O0,x2),m=Math.imul(O0,e3),m=m+Math.imul(t1,x2)|0,z=Math.imul(t1,e3),I=I+Math.imul(e0,k3)|0,m=m+Math.imul(e0,T3)|0,m=m+Math.imul(M0,k3)|0,z=z+Math.imul(M0,T3)|0,I=I+Math.imul(p0,Q2)|0,m=m+Math.imul(p0,t3)|0,m=m+Math.imul(o0,Q2)|0,z=z+Math.imul(o0,t3)|0,I=I+Math.imul(T1,g3)|0,m=m+Math.imul(T1,y3)|0,m=m+Math.imul(O2,g3)|0,z=z+Math.imul(O2,y3)|0,I=I+Math.imul(z0,C2)|0,m=m+Math.imul(z0,z3)|0,m=m+Math.imul(e1,C2)|0,z=z+Math.imul(e1,z3)|0,I=I+Math.imul(d0,N)|0,m=m+Math.imul(d0,V)|0,m=m+Math.imul(S0,N)|0,z=z+Math.imul(S0,V)|0,I=I+Math.imul(L0,j)|0,m=m+Math.imul(L0,l0)|0,m=m+Math.imul(g0,j)|0,z=z+Math.imul(g0,l0)|0,I=I+Math.imul(u0,T0)|0,m=m+Math.imul(u0,N0)|0,m=m+Math.imul(C0,T0)|0,z=z+Math.imul(C0,N0)|0,I=I+Math.imul(W,q0)|0,m=m+Math.imul(W,E1)|0,m=m+Math.imul(q,q0)|0,z=z+Math.imul(q,E1)|0;var u1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(u1>>>26)|0,u1&=67108863,I=Math.imul(O0,k3),m=Math.imul(O0,T3),m=m+Math.imul(t1,k3)|0,z=Math.imul(t1,T3),I=I+Math.imul(e0,Q2)|0,m=m+Math.imul(e0,t3)|0,m=m+Math.imul(M0,Q2)|0,z=z+Math.imul(M0,t3)|0,I=I+Math.imul(p0,g3)|0,m=m+Math.imul(p0,y3)|0,m=m+Math.imul(o0,g3)|0,z=z+Math.imul(o0,y3)|0,I=I+Math.imul(T1,C2)|0,m=m+Math.imul(T1,z3)|0,m=m+Math.imul(O2,C2)|0,z=z+Math.imul(O2,z3)|0,I=I+Math.imul(z0,N)|0,m=m+Math.imul(z0,V)|0,m=m+Math.imul(e1,N)|0,z=z+Math.imul(e1,V)|0,I=I+Math.imul(d0,j)|0,m=m+Math.imul(d0,l0)|0,m=m+Math.imul(S0,j)|0,z=z+Math.imul(S0,l0)|0,I=I+Math.imul(L0,T0)|0,m=m+Math.imul(L0,N0)|0,m=m+Math.imul(g0,T0)|0,z=z+Math.imul(g0,N0)|0,I=I+Math.imul(u0,q0)|0,m=m+Math.imul(u0,E1)|0,m=m+Math.imul(C0,q0)|0,z=z+Math.imul(C0,E1)|0;var b1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(b1>>>26)|0,b1&=67108863,I=Math.imul(O0,Q2),m=Math.imul(O0,t3),m=m+Math.imul(t1,Q2)|0,z=Math.imul(t1,t3),I=I+Math.imul(e0,g3)|0,m=m+Math.imul(e0,y3)|0,m=m+Math.imul(M0,g3)|0,z=z+Math.imul(M0,y3)|0,I=I+Math.imul(p0,C2)|0,m=m+Math.imul(p0,z3)|0,m=m+Math.imul(o0,C2)|0,z=z+Math.imul(o0,z3)|0,I=I+Math.imul(T1,N)|0,m=m+Math.imul(T1,V)|0,m=m+Math.imul(O2,N)|0,z=z+Math.imul(O2,V)|0,I=I+Math.imul(z0,j)|0,m=m+Math.imul(z0,l0)|0,m=m+Math.imul(e1,j)|0,z=z+Math.imul(e1,l0)|0,I=I+Math.imul(d0,T0)|0,m=m+Math.imul(d0,N0)|0,m=m+Math.imul(S0,T0)|0,z=z+Math.imul(S0,N0)|0,I=I+Math.imul(L0,q0)|0,m=m+Math.imul(L0,E1)|0,m=m+Math.imul(g0,q0)|0,z=z+Math.imul(g0,E1)|0;var z1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(z1>>>26)|0,z1&=67108863,I=Math.imul(O0,g3),m=Math.imul(O0,y3),m=m+Math.imul(t1,g3)|0,z=Math.imul(t1,y3),I=I+Math.imul(e0,C2)|0,m=m+Math.imul(e0,z3)|0,m=m+Math.imul(M0,C2)|0,z=z+Math.imul(M0,z3)|0,I=I+Math.imul(p0,N)|0,m=m+Math.imul(p0,V)|0,m=m+Math.imul(o0,N)|0,z=z+Math.imul(o0,V)|0,I=I+Math.imul(T1,j)|0,m=m+Math.imul(T1,l0)|0,m=m+Math.imul(O2,j)|0,z=z+Math.imul(O2,l0)|0,I=I+Math.imul(z0,T0)|0,m=m+Math.imul(z0,N0)|0,m=m+Math.imul(e1,T0)|0,z=z+Math.imul(e1,N0)|0,I=I+Math.imul(d0,q0)|0,m=m+Math.imul(d0,E1)|0,m=m+Math.imul(S0,q0)|0,z=z+Math.imul(S0,E1)|0;var a1=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(a1>>>26)|0,a1&=67108863,I=Math.imul(O0,C2),m=Math.imul(O0,z3),m=m+Math.imul(t1,C2)|0,z=Math.imul(t1,z3),I=I+Math.imul(e0,N)|0,m=m+Math.imul(e0,V)|0,m=m+Math.imul(M0,N)|0,z=z+Math.imul(M0,V)|0,I=I+Math.imul(p0,j)|0,m=m+Math.imul(p0,l0)|0,m=m+Math.imul(o0,j)|0,z=z+Math.imul(o0,l0)|0,I=I+Math.imul(T1,T0)|0,m=m+Math.imul(T1,N0)|0,m=m+Math.imul(O2,T0)|0,z=z+Math.imul(O2,N0)|0,I=I+Math.imul(z0,q0)|0,m=m+Math.imul(z0,E1)|0,m=m+Math.imul(e1,q0)|0,z=z+Math.imul(e1,E1)|0;var _0=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(_0>>>26)|0,_0&=67108863,I=Math.imul(O0,N),m=Math.imul(O0,V),m=m+Math.imul(t1,N)|0,z=Math.imul(t1,V),I=I+Math.imul(e0,j)|0,m=m+Math.imul(e0,l0)|0,m=m+Math.imul(M0,j)|0,z=z+Math.imul(M0,l0)|0,I=I+Math.imul(p0,T0)|0,m=m+Math.imul(p0,N0)|0,m=m+Math.imul(o0,T0)|0,z=z+Math.imul(o0,N0)|0,I=I+Math.imul(T1,q0)|0,m=m+Math.imul(T1,E1)|0,m=m+Math.imul(O2,q0)|0,z=z+Math.imul(O2,E1)|0;var E0=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(E0>>>26)|0,E0&=67108863,I=Math.imul(O0,j),m=Math.imul(O0,l0),m=m+Math.imul(t1,j)|0,z=Math.imul(t1,l0),I=I+Math.imul(e0,T0)|0,m=m+Math.imul(e0,N0)|0,m=m+Math.imul(M0,T0)|0,z=z+Math.imul(M0,N0)|0,I=I+Math.imul(p0,q0)|0,m=m+Math.imul(p0,E1)|0,m=m+Math.imul(o0,q0)|0,z=z+Math.imul(o0,E1)|0;var G0=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(G0>>>26)|0,G0&=67108863,I=Math.imul(O0,T0),m=Math.imul(O0,N0),m=m+Math.imul(t1,T0)|0,z=Math.imul(t1,N0),I=I+Math.imul(e0,q0)|0,m=m+Math.imul(e0,E1)|0,m=m+Math.imul(M0,q0)|0,z=z+Math.imul(M0,E1)|0;var V0=(D+I|0)+((m&8191)<<13)|0;D=(z+(m>>>13)|0)+(V0>>>26)|0,V0&=67108863,I=Math.imul(O0,q0),m=Math.imul(O0,E1),m=m+Math.imul(t1,q0)|0,z=Math.imul(t1,E1);var B0=(D+I|0)+((m&8191)<<13)|0;return D=(z+(m>>>13)|0)+(B0>>>26)|0,B0&=67108863,S[0]=o1,S[1]=P1,S[2]=I1,S[3]=Z1,S[4]=V1,S[5]=j1,S[6]=W1,S[7]=U1,S[8]=p1,S[9]=A1,S[10]=u1,S[11]=b1,S[12]=z1,S[13]=a1,S[14]=_0,S[15]=E0,S[16]=G0,S[17]=V0,S[18]=B0,D!==0&&(S[19]=D,M.length++),M};Math.imul||(A=L);function _(P,d,y){y.negative=d.negative^P.negative,y.length=P.length+d.length;for(var M=0,E=0,O=0;O<y.length-1;O++){var S=E;E=0;for(var D=M&67108863,I=Math.min(O,d.length-1),m=Math.max(0,O-P.length+1);m<=I;m++){var z=O-m,r0=P.words[z]|0,T=d.words[m]|0,s0=r0*T,i0=s0&67108863;S=S+(s0/67108864|0)|0,i0=i0+D|0,D=i0&67108863,S=S+(i0>>>26)|0,E+=S>>>26,S&=67108863}y.words[O]=D,M=S,S=E}return M!==0?y.words[O]=M:y.length--,y._strip()}function R(P,d,y){return _(P,d,y)}i.prototype.mulTo=function(d,y){var M,E=this.length+d.length;return this.length===10&&d.length===10?M=A(this,d,y):E<63?M=L(this,d,y):E<1024?M=_(this,d,y):M=R(this,d,y),M};function G(P,d){this.x=P,this.y=d}G.prototype.makeRBT=function(d){for(var y=new Array(d),M=i.prototype._countBits(d)-1,E=0;E<d;E++)y[E]=this.revBin(E,M,d);return y},G.prototype.revBin=function(d,y,M){if(d===0||d===M-1)return d;for(var E=0,O=0;O<y;O++)E|=(d&1)<<y-O-1,d>>=1;return E},G.prototype.permute=function(d,y,M,E,O,S){for(var D=0;D<S;D++)E[D]=y[d[D]],O[D]=M[d[D]]},G.prototype.transform=function(d,y,M,E,O,S){this.permute(S,d,y,M,E,O);for(var D=1;D<O;D<<=1)for(var I=D<<1,m=Math.cos(2*Math.PI/I),z=Math.sin(2*Math.PI/I),r0=0;r0<O;r0+=I)for(var T=m,s0=z,i0=0;i0<D;i0++){var W=M[r0+i0],q=E[r0+i0],a0=M[r0+i0+D],u0=E[r0+i0+D],C0=T*a0-s0*u0;u0=T*u0+s0*a0,a0=C0,M[r0+i0]=W+a0,E[r0+i0]=q+u0,M[r0+i0+D]=W-a0,E[r0+i0+D]=q-u0,i0!==I&&(C0=m*T-z*s0,s0=m*s0+z*T,T=C0)}},G.prototype.guessLen13b=function(d,y){var M=Math.max(y,d)|1,E=M&1,O=0;for(M=M/2|0;M;M=M>>>1)O++;return 1<<O+1+E},G.prototype.conjugate=function(d,y,M){if(!(M<=1))for(var E=0;E<M/2;E++){var O=d[E];d[E]=d[M-E-1],d[M-E-1]=O,O=y[E],y[E]=-y[M-E-1],y[M-E-1]=-O}},G.prototype.normalize13b=function(d,y){for(var M=0,E=0;E<y/2;E++){var O=Math.round(d[2*E+1]/y)*8192+Math.round(d[2*E]/y)+M;d[E]=O&67108863,O<67108864?M=0:M=O/67108864|0}return d},G.prototype.convert13b=function(d,y,M,E){for(var O=0,S=0;S<y;S++)O=O+(d[S]|0),M[2*S]=O&8191,O=O>>>13,M[2*S+1]=O&8191,O=O>>>13;for(S=2*y;S<E;++S)M[S]=0;n(O===0),n((O&-8192)===0)},G.prototype.stub=function(d){for(var y=new Array(d),M=0;M<d;M++)y[M]=0;return y},G.prototype.mulp=function(d,y,M){var E=2*this.guessLen13b(d.length,y.length),O=this.makeRBT(E),S=this.stub(E),D=new Array(E),I=new Array(E),m=new Array(E),z=new Array(E),r0=new Array(E),T=new Array(E),s0=M.words;s0.length=E,this.convert13b(d.words,d.length,D,E),this.convert13b(y.words,y.length,z,E),this.transform(D,S,I,m,E,O),this.transform(z,S,r0,T,E,O);for(var i0=0;i0<E;i0++){var W=I[i0]*r0[i0]-m[i0]*T[i0];m[i0]=I[i0]*T[i0]+m[i0]*r0[i0],I[i0]=W}return this.conjugate(I,m,E),this.transform(I,m,s0,S,E,O),this.conjugate(s0,S,E),this.normalize13b(s0,E),M.negative=d.negative^y.negative,M.length=d.length+y.length,M._strip()},i.prototype.mul=function(d){var y=new i(null);return y.words=new Array(this.length+d.length),this.mulTo(d,y)},i.prototype.mulf=function(d){var y=new i(null);return y.words=new Array(this.length+d.length),R(this,d,y)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){var y=d<0;y&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var M=0,E=0;E<this.length;E++){var O=(this.words[E]|0)*d,S=(O&67108863)+(M&67108863);M>>=26,M+=O/67108864|0,M+=S>>>26,this.words[E]=S&67108863}return M!==0&&(this.words[E]=M,this.length++),y?this.ineg():this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var y=w(d);if(y.length===0)return new i(1);for(var M=this,E=0;E<y.length&&y[E]===0;E++,M=M.sqr());if(++E<y.length)for(var O=M.sqr();E<y.length;E++,O=O.sqr())y[E]!==0&&(M=M.mul(O));return M},i.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var y=d%26,M=(d-y)/26,E=67108863>>>26-y<<26-y,O;if(y!==0){var S=0;for(O=0;O<this.length;O++){var D=this.words[O]&E,I=(this.words[O]|0)-D<<y;this.words[O]=I|S,S=D>>>26-y}S&&(this.words[O]=S,this.length++)}if(M!==0){for(O=this.length-1;O>=0;O--)this.words[O+M]=this.words[O];for(O=0;O<M;O++)this.words[O]=0;this.length+=M}return this._strip()},i.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,y,M){n(typeof d=="number"&&d>=0);var E;y?E=(y-y%26)/26:E=0;var O=d%26,S=Math.min((d-O)/26,this.length),D=67108863^67108863>>>O<<O,I=M;if(E-=S,E=Math.max(0,E),I){for(var m=0;m<S;m++)I.words[m]=this.words[m];I.length=S}if(S!==0)if(this.length>S)for(this.length-=S,m=0;m<this.length;m++)this.words[m]=this.words[m+S];else this.words[0]=0,this.length=1;var z=0;for(m=this.length-1;m>=0&&(z!==0||m>=E);m--){var r0=this.words[m]|0;this.words[m]=z<<26-O|r0>>>O,z=r0&D}return I&&z!==0&&(I.words[I.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(d,y,M){return n(this.negative===0),this.iushrn(d,y,M)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var y=d%26,M=(d-y)/26,E=1<<y;if(this.length<=M)return!1;var O=this.words[M];return!!(O&E)},i.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var y=d%26,M=(d-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(y!==0&&M++,this.length=Math.min(M,this.length),y!==0){var E=67108863^67108863>>>y<<y;this.words[this.length-1]&=E}return this._strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},i.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,y,M){var E=d.length+M,O;this._expand(E);var S,D=0;for(O=0;O<d.length;O++){S=(this.words[O+M]|0)+D;var I=(d.words[O]|0)*y;S-=I&67108863,D=(S>>26)-(I/67108864|0),this.words[O+M]=S&67108863}for(;O<this.length-M;O++)S=(this.words[O+M]|0)+D,D=S>>26,this.words[O+M]=S&67108863;if(D===0)return this._strip();for(n(D===-1),D=0,O=0;O<this.length;O++)S=-(this.words[O]|0)+D,D=S>>26,this.words[O]=S&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(d,y){var M=this.length-d.length,E=this.clone(),O=d,S=O.words[O.length-1]|0,D=this._countBits(S);M=26-D,M!==0&&(O=O.ushln(M),E.iushln(M),S=O.words[O.length-1]|0);var I=E.length-O.length,m;if(y!=="mod"){m=new i(null),m.length=I+1,m.words=new Array(m.length);for(var z=0;z<m.length;z++)m.words[z]=0}var r0=E.clone()._ishlnsubmul(O,1,I);r0.negative===0&&(E=r0,m&&(m.words[I]=1));for(var T=I-1;T>=0;T--){var s0=(E.words[O.length+T]|0)*67108864+(E.words[O.length+T-1]|0);for(s0=Math.min(s0/S|0,67108863),E._ishlnsubmul(O,s0,T);E.negative!==0;)s0--,E.negative=0,E._ishlnsubmul(O,1,T),E.isZero()||(E.negative^=1);m&&(m.words[T]=s0)}return m&&m._strip(),E._strip(),y!=="div"&&M!==0&&E.iushrn(M),{div:m||null,mod:E}},i.prototype.divmod=function(d,y,M){if(n(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var E,O,S;return this.negative!==0&&d.negative===0?(S=this.neg().divmod(d,y),y!=="mod"&&(E=S.div.neg()),y!=="div"&&(O=S.mod.neg(),M&&O.negative!==0&&O.iadd(d)),{div:E,mod:O}):this.negative===0&&d.negative!==0?(S=this.divmod(d.neg(),y),y!=="mod"&&(E=S.div.neg()),{div:E,mod:S.mod}):this.negative&d.negative?(S=this.neg().divmod(d.neg(),y),y!=="div"&&(O=S.mod.neg(),M&&O.negative!==0&&O.isub(d)),{div:S.div,mod:O}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new i(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modrn(d.words[0]))}:this._wordDiv(d,y)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var M=y.div.negative!==0?y.mod.isub(d):y.mod,E=d.ushrn(1),O=d.andln(1),S=M.cmp(E);return S<0||O===1&&S===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},i.prototype.modrn=function(d){var y=d<0;y&&(d=-d),n(d<=67108863);for(var M=(1<<26)%d,E=0,O=this.length-1;O>=0;O--)E=(M*E+(this.words[O]|0))%d;return y?-E:E},i.prototype.modn=function(d){return this.modrn(d)},i.prototype.idivn=function(d){var y=d<0;y&&(d=-d),n(d<=67108863);for(var M=0,E=this.length-1;E>=0;E--){var O=(this.words[E]|0)+M*67108864;this.words[E]=O/d|0,M=O%d}return this._strip(),y?this.ineg():this},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var y=this,M=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var E=new i(1),O=new i(0),S=new i(0),D=new i(1),I=0;y.isEven()&&M.isEven();)y.iushrn(1),M.iushrn(1),++I;for(var m=M.clone(),z=y.clone();!y.isZero();){for(var r0=0,T=1;!(y.words[0]&T)&&r0<26;++r0,T<<=1);if(r0>0)for(y.iushrn(r0);r0-- >0;)(E.isOdd()||O.isOdd())&&(E.iadd(m),O.isub(z)),E.iushrn(1),O.iushrn(1);for(var s0=0,i0=1;!(M.words[0]&i0)&&s0<26;++s0,i0<<=1);if(s0>0)for(M.iushrn(s0);s0-- >0;)(S.isOdd()||D.isOdd())&&(S.iadd(m),D.isub(z)),S.iushrn(1),D.iushrn(1);y.cmp(M)>=0?(y.isub(M),E.isub(S),O.isub(D)):(M.isub(y),S.isub(E),D.isub(O))}return{a:S,b:D,gcd:M.iushln(I)}},i.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var y=this,M=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var E=new i(1),O=new i(0),S=M.clone();y.cmpn(1)>0&&M.cmpn(1)>0;){for(var D=0,I=1;!(y.words[0]&I)&&D<26;++D,I<<=1);if(D>0)for(y.iushrn(D);D-- >0;)E.isOdd()&&E.iadd(S),E.iushrn(1);for(var m=0,z=1;!(M.words[0]&z)&&m<26;++m,z<<=1);if(m>0)for(M.iushrn(m);m-- >0;)O.isOdd()&&O.iadd(S),O.iushrn(1);y.cmp(M)>=0?(y.isub(M),E.isub(O)):(M.isub(y),O.isub(E))}var r0;return y.cmpn(1)===0?r0=E:r0=O,r0.cmpn(0)<0&&r0.iadd(d),r0},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),M=d.clone();y.negative=0,M.negative=0;for(var E=0;y.isEven()&&M.isEven();E++)y.iushrn(1),M.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;M.isEven();)M.iushrn(1);var O=y.cmp(M);if(O<0){var S=y;y=M,M=S}else if(O===0||M.cmpn(1)===0)break;y.isub(M)}while(!0);return M.iushln(E)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){n(typeof d=="number");var y=d%26,M=(d-y)/26,E=1<<y;if(this.length<=M)return this._expand(M+1),this.words[M]|=E,this;for(var O=E,S=M;O!==0&&S<this.length;S++){var D=this.words[S]|0;D+=O,O=D>>>26,D&=67108863,this.words[S]=D}return O!==0&&(this.words[S]=O,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var M;if(this.length>1)M=1;else{y&&(d=-d),n(d<=67108863,"Number is too big");var E=this.words[0]|0;M=E===d?0:E<d?-1:1}return this.negative!==0?-M|0:M},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,M=this.length-1;M>=0;M--){var E=this.words[M]|0,O=d.words[M]|0;if(E!==O){E<O?y=-1:E>O&&(y=1);break}}return y},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new H(d)},i.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var K={k256:null,p224:null,p192:null,p25519:null};function Z(P,d){this.name=P,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},Z.prototype.ireduce=function(d){var y=d,M;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),M=y.bitLength();while(M>this.n);var E=M<this.n?-1:y.ucmp(this.p);return E===0?(y.words[0]=0,y.length=1):E>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},Z.prototype.split=function(d,y){d.iushrn(this.n,0,y)},Z.prototype.imulK=function(d){return d.imul(this.k)};function $(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r($,Z),$.prototype.split=function(d,y){for(var M=4194303,E=Math.min(d.length,9),O=0;O<E;O++)y.words[O]=d.words[O];if(y.length=E,d.length<=9){d.words[0]=0,d.length=1;return}var S=d.words[9];for(y.words[y.length++]=S&M,O=10;O<d.length;O++){var D=d.words[O]|0;d.words[O-10]=(D&M)<<4|S>>>22,S=D}S>>>=22,d.words[O-10]=S,S===0&&d.length>10?d.length-=10:d.length-=9},$.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,M=0;M<d.length;M++){var E=d.words[M]|0;y+=E*977,d.words[M]=y&67108863,y=E*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function n0(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(n0,Z);function h0(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(h0,Z);function X(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(X,Z),X.prototype.imulK=function(d){for(var y=0,M=0;M<d.length;M++){var E=(d.words[M]|0)*19+y,O=E&67108863;E>>>=26,d.words[M]=O,y=E}return y!==0&&(d.words[d.length++]=y),d},i._prime=function(d){if(K[d])return K[d];var y;if(d==="k256")y=new $;else if(d==="p224")y=new n0;else if(d==="p192")y=new h0;else if(d==="p25519")y=new X;else throw new Error("Unknown prime "+d);return K[d]=y,y};function H(P){if(typeof P=="string"){var d=i._prime(P);this.m=d.p,this.prime=d}else n(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}H.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},H.prototype._verify2=function(d,y){n((d.negative|y.negative)===0,"red works only with positives"),n(d.red&&d.red===y.red,"red works only with red numbers")},H.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(l(d,d.umod(this.m)._forceRed(this)),d)},H.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},H.prototype.add=function(d,y){this._verify2(d,y);var M=d.add(y);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},H.prototype.iadd=function(d,y){this._verify2(d,y);var M=d.iadd(y);return M.cmp(this.m)>=0&&M.isub(this.m),M},H.prototype.sub=function(d,y){this._verify2(d,y);var M=d.sub(y);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},H.prototype.isub=function(d,y){this._verify2(d,y);var M=d.isub(y);return M.cmpn(0)<0&&M.iadd(this.m),M},H.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},H.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},H.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},H.prototype.isqr=function(d){return this.imul(d,d.clone())},H.prototype.sqr=function(d){return this.mul(d,d)},H.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var M=this.m.add(new i(1)).iushrn(2);return this.pow(d,M)}for(var E=this.m.subn(1),O=0;!E.isZero()&&E.andln(1)===0;)O++,E.iushrn(1);n(!E.isZero());var S=new i(1).toRed(this),D=S.redNeg(),I=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new i(2*m*m).toRed(this);this.pow(m,I).cmp(D)!==0;)m.redIAdd(D);for(var z=this.pow(m,E),r0=this.pow(d,E.addn(1).iushrn(1)),T=this.pow(d,E),s0=O;T.cmp(S)!==0;){for(var i0=T,W=0;i0.cmp(S)!==0;W++)i0=i0.redSqr();n(W<s0);var q=this.pow(z,new i(1).iushln(s0-W-1));r0=r0.redMul(q),z=q.redSqr(),T=T.redMul(z),s0=W}return r0},H.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},H.prototype.pow=function(d,y){if(y.isZero())return new i(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var M=4,E=new Array(1<<M);E[0]=new i(1).toRed(this),E[1]=d;for(var O=2;O<E.length;O++)E[O]=this.mul(E[O-1],d);var S=E[0],D=0,I=0,m=y.bitLength()%26;for(m===0&&(m=26),O=y.length-1;O>=0;O--){for(var z=y.words[O],r0=m-1;r0>=0;r0--){var T=z>>r0&1;if(S!==E[0]&&(S=this.sqr(S)),T===0&&D===0){I=0;continue}D<<=1,D|=T,I++,!(I!==M&&(O!==0||r0!==0))&&(S=this.mul(S,E[D]),I=0,D=0)}m=26}return S},H.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},H.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},i.mont=function(d){return new U(d)};function U(P){H.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(U,H),U.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},U.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},U.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var M=d.imul(y),E=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=M.isub(E).iushrn(this.shift),S=O;return O.cmp(this.m)>=0?S=O.isub(this.m):O.cmpn(0)<0&&(S=O.iadd(this.m)),S._forceRed(this)},U.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new i(0)._forceRed(this);var M=d.mul(y),E=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=M.isub(E).iushrn(this.shift),S=O;return O.cmp(this.m)>=0?S=O.isub(this.m):O.cmpn(0)<0&&(S=O.iadd(this.m)),S._forceRed(this)},U.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof OA>"u"||OA,eZ)});var tZ,nZ=I0(()=>{"use strict";tZ="logger/5.7.0"});function is0(){try{let t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}var rZ,iZ,pg,sZ,HA,aZ,cZ,Y5,oZ,J,Q1=I0(()=>{"use strict";nZ();rZ=!1,iZ=!1,pg={debug:1,default:2,info:2,warning:3,error:4,off:5},sZ=pg.default,HA=null;aZ=is0(),cZ=function(t){return t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF",t}(cZ||{}),Y5=function(t){return t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED",t}(Y5||{}),oZ="0123456789abcdef",J=(()=>{class t{constructor(n){Object.defineProperty(this,"version",{enumerable:!0,value:n,writable:!1})}_log(n,r){let i=n.toLowerCase();pg[i]==null&&this.throwArgumentError("invalid log level name","logLevel",n),!(sZ>pg[i])&&console.log.apply(console,r)}debug(...n){this._log(t.levels.DEBUG,n)}info(...n){this._log(t.levels.INFO,n)}warn(...n){this._log(t.levels.WARNING,n)}makeError(n,r,i){if(iZ)return this.makeError("censored error",r,{});r||(r=t.errors.UNKNOWN_ERROR),i||(i={});let s=[];Object.keys(i).forEach(l=>{let h=i[l];try{if(h instanceof Uint8Array){let u="";for(let p=0;p<h.length;p++)u+=oZ[h[p]>>4],u+=oZ[h[p]&15];s.push(l+"=Uint8Array(0x"+u+")")}else s.push(l+"="+JSON.stringify(h))}catch{s.push(l+"="+JSON.stringify(i[l].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);let a=n,o="";switch(r){case Y5.NUMERIC_FAULT:{o="NUMERIC_FAULT";let l=n;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Y5.CALL_EXCEPTION:case Y5.INSUFFICIENT_FUNDS:case Y5.MISSING_NEW:case Y5.NONCE_EXPIRED:case Y5.REPLACEMENT_UNDERPRICED:case Y5.TRANSACTION_REPLACED:case Y5.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(n+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),s.length&&(n+=" ("+s.join(", ")+")");let c=new Error(n);return c.reason=a,c.code=r,Object.keys(i).forEach(function(l){c[l]=i[l]}),c}throwError(n,r,i){throw this.makeError(n,r,i)}throwArgumentError(n,r,i){return this.throwError(n,t.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(n,r,i,s){n||this.throwError(r,i,s)}assertArgument(n,r,i,s){n||this.throwArgumentError(r,i,s)}checkNormalize(n){n==null&&(n="platform missing String.prototype.normalize"),aZ&&this.throwError("platform missing String.prototype.normalize",t.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:aZ})}checkSafeUint53(n,r){typeof n=="number"&&(r==null&&(r="value not safe"),(n<0||n>=9007199254740991)&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:n}),n%1&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:n}))}checkArgumentCount(n,r,i){i?i=": "+i:i="",n<r&&this.throwError("missing argument"+i,t.errors.MISSING_ARGUMENT,{count:n,expectedCount:r}),n>r&&this.throwError("too many arguments"+i,t.errors.UNEXPECTED_ARGUMENT,{count:n,expectedCount:r})}checkNew(n,r){(n===Object||n==null)&&this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}checkAbstract(n,r){n===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",t.errors.UNSUPPORTED_OPERATION,{name:n.name,operation:"new"}):(n===Object||n==null)&&this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return HA||(HA=new t(tZ)),HA}static setCensorship(n,r){if(!n&&r&&this.globalLogger().throwError("cannot permanently disable censorship",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rZ){if(!n)return;this.globalLogger().throwError("error censorship permanent",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}iZ=!!n,rZ=!!r}static setLogLevel(n){let r=pg[n.toLowerCase()];if(r==null){t.globalLogger().warn("invalid log level - "+n);return}sZ=r}static from(n){return new t(n)}}return t.errors=Y5,t.levels=cZ,t})()});var lZ,hZ=I0(()=>{"use strict";lZ="bytes/5.7.0"});function dZ(t){return!!t.toHexString}function Ts(t){return t.slice||(t.slice=function(){let e=Array.prototype.slice.call(arguments);return Ts(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function je(t){return F1(t)&&!(t.length%2)||X6(t)}function uZ(t){return typeof t=="number"&&t==t&&t%1===0}function X6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!uZ(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){let n=t[e];if(!uZ(n)||n<0||n>=256)return!1}return!0}function P0(t,e){if(e||(e={}),typeof t=="number"){d4.checkSafeUint53(t,"invalid arrayify value");let n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Ts(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),dZ(t)&&(t=t.toHexString()),F1(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":d4.throwArgumentError("hex data is odd-length","value",t));let r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Ts(new Uint8Array(r))}return X6(t)?Ts(new Uint8Array(t)):d4.throwArgumentError("invalid arrayify value","value",t)}function y2(t){let e=t.map(i=>P0(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Ts(r)}function z6(t){let e=P0(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Un(t,e){t=P0(t),t.length>e&&d4.throwArgumentError("value out of range","value",arguments[0]);let n=new Uint8Array(e);return n.set(t,e-t.length),Ts(n)}function F1(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Z0(t,e){if(e||(e={}),typeof t=="number"){d4.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=VA[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),dZ(t))return t.toHexString();if(F1(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":d4.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(X6(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=VA[(i&240)>>4]+VA[i&15]}return n}return d4.throwArgumentError("invalid hexlify value","value",t)}function g5(t){if(typeof t!="string")t=Z0(t);else if(!F1(t)||t.length%2)return null;return(t.length-2)/2}function x3(t,e,n){return typeof t!="string"?t=Z0(t):(!F1(t)||t.length%2)&&d4.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function E4(t){let e="0x";return t.forEach(n=>{e+=Z0(n).substring(2)}),e}function H8(t){let e=RA(Z0(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function RA(t){typeof t!="string"&&(t=Z0(t)),F1(t)||d4.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function P2(t,e){for(typeof t!="string"?t=Z0(t):F1(t)||d4.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&d4.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function V8(t){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(je(t)){let n=P0(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Z0(n.slice(0,32)),e.s=Z0(n.slice(32,64))):n.length===65?(e.r=Z0(n.slice(0,32)),e.s=Z0(n.slice(32,64)),e.v=n[64]):d4.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:d4.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Z0(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){let i=Un(P0(e._vs),32);e._vs=Z0(i);let s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&d4.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;let a=Z0(i);e.s==null?e.s=a:e.s!==a&&d4.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?d4.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{let i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&d4.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!F1(e.r)?d4.throwArgumentError("signature missing or invalid r","signature",t):e.r=P2(e.r,32),e.s==null||!F1(e.s)?d4.throwArgumentError("signature missing or invalid s","signature",t):e.s=P2(e.s,32);let n=P0(e.s);n[0]>=128&&d4.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);let r=Z0(n);e._vs&&(F1(e._vs)||d4.throwArgumentError("signature invalid _vs","signature",t),e._vs=P2(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&d4.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function zl(t){return t=V8(t),Z0(y2([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var d4,VA,S2=I0(()=>{"use strict";Q1();hZ();d4=new J(lZ);VA="0123456789abcdef"});var mg,NA=I0(()=>{"use strict";mg="bignumber/5.7.0"});function gZ(t){return t!=null&&(j0.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||F1(t)||typeof t=="bigint"||X6(t))}function Cl(t){if(typeof t!="string")return Cl(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ue.throwArgumentError("invalid hex","value",t),t=Cl(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function J5(t){return j0.from(Cl(t))}function R2(t){let e=j0.from(t).toHexString();return e[0]==="-"?new Ml("-"+e.substring(3),16):new Ml(e.substring(2),16)}function e7(t,e,n){let r={fault:t,operation:e};return n!=null&&(r.value=n),Ue.throwError(t,J.errors.NUMERIC_FAULT,r)}function ZA(t){return new Ml(t,36).toString(16)}function jA(t){return new Ml(t,16).toString(36)}var fZ,Ml,Ue,BA,pZ,mZ,j0,fg=I0(()=>{"use strict";fZ=a4(FA());S2();Q1();NA();Ml=fZ.default.BN,Ue=new J(mg),BA={},pZ=9007199254740991;mZ=!1,j0=class t{constructor(e,n){e!==BA&&Ue.throwError("cannot call constructor directly; use BigNumber.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return J5(R2(this).fromTwos(e))}toTwos(e){return J5(R2(this).toTwos(e))}abs(){return this._hex[0]==="-"?t.from(this._hex.substring(1)):this}add(e){return J5(R2(this).add(R2(e)))}sub(e){return J5(R2(this).sub(R2(e)))}div(e){return t.from(e).isZero()&&e7("division-by-zero","div"),J5(R2(this).div(R2(e)))}mul(e){return J5(R2(this).mul(R2(e)))}mod(e){let n=R2(e);return n.isNeg()&&e7("division-by-zero","mod"),J5(R2(this).umod(n))}pow(e){let n=R2(e);return n.isNeg()&&e7("negative-power","pow"),J5(R2(this).pow(n))}and(e){let n=R2(e);return(this.isNegative()||n.isNeg())&&e7("unbound-bitwise-result","and"),J5(R2(this).and(n))}or(e){let n=R2(e);return(this.isNegative()||n.isNeg())&&e7("unbound-bitwise-result","or"),J5(R2(this).or(n))}xor(e){let n=R2(e);return(this.isNegative()||n.isNeg())&&e7("unbound-bitwise-result","xor"),J5(R2(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&e7("negative-width","mask"),J5(R2(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&e7("negative-width","shl"),J5(R2(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&e7("negative-width","shr"),J5(R2(this).shrn(e))}eq(e){return R2(this).eq(R2(e))}lt(e){return R2(this).lt(R2(e))}lte(e){return R2(this).lte(R2(e))}gt(e){return R2(this).gt(R2(e))}gte(e){return R2(this).gte(R2(e))}isNegative(){return this._hex[0]==="-"}isZero(){return R2(this).isZero()}toNumber(){try{return R2(this).toNumber()}catch{e7("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ue.throwError("this platform does not support BigInt",J.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?mZ||(mZ=!0,Ue.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ue.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",J.errors.UNEXPECTED_ARGUMENT,{}):Ue.throwError("BigNumber.toString does not accept parameters",J.errors.UNEXPECTED_ARGUMENT,{})),R2(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof t)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new t(BA,Cl(e)):e.match(/^-?[0-9]+$/)?new t(BA,Cl(new Ml(e))):Ue.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&e7("underflow","BigNumber.from",e),(e>=pZ||e<=-pZ)&&e7("overflow","BigNumber.from",e),t.from(String(e));let n=e;if(typeof n=="bigint")return t.from(n.toString());if(X6(n))return t.from(Z0(n));if(n)if(n.toHexString){let r=n.toHexString();if(typeof r=="string")return t.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(F1(r)||r[0]==="-"&&F1(r.substring(1))))return t.from(r)}return Ue.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}});function wZ(t,e,n,r){let i={fault:e,operation:n};return r!==void 0&&(i.value=r),O5.throwError(t,J.errors.NUMERIC_FAULT,i)}function UA(t){if(typeof t!="number")try{t=j0.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+_l.substring(0,t):O5.throwArgumentError("invalid decimal size","decimals",t)}function Ps(t,e){e==null&&(e=0);let n=UA(e);t=j0.from(t);let r=t.lt(bZ);r&&(t=t.mul(xZ));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function t7(t,e){e==null&&(e=0);let n=UA(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&O5.throwArgumentError("invalid decimal value","value",t);let r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&O5.throwArgumentError("missing value","value",t);let i=t.split(".");i.length>2&&O5.throwArgumentError("too many decimal points","value",t);let s=i[0],a=i[1];for(s||(s="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>n.length-1&&wZ("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<n.length-1;)a+="0";let o=j0.from(s),c=j0.from(a),l=o.mul(n).add(c);return r&&(l=l.mul(xZ)),l}var O5,Al,bZ,xZ,_l,Ls,Ge,vZ,ss0,yZ=I0(()=>{"use strict";S2();Q1();NA();fg();O5=new J(mg),Al={},bZ=j0.from(0),xZ=j0.from(-1);_l="0";for(;_l.length<256;)_l+=_l;Ls=class t{constructor(e,n,r,i){e!==Al&&O5.throwError("cannot use FixedFormat constructor; use FixedFormat.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=UA(i),Object.freeze(this)}static from(e){if(e instanceof t)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{let s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||O5.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){let s=(a,o,c)=>e[a]==null?c:(typeof e[a]!==o&&O5.throwArgumentError("invalid fixed format ("+a+" not "+o+")","format."+a,e[a]),e[a]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&O5.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&O5.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new t(Al,n,r,i)}},Ge=class t{constructor(e,n,r,i){e!==Al&&O5.throwError("cannot use FixedNumber constructor; use FixedNumber.from",J.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&O5.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let n=t7(this._value,this.format.decimals),r=t7(e._value,e.format.decimals);return t.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let n=t7(this._value,this.format.decimals),r=t7(e._value,e.format.decimals);return t.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let n=t7(this._value,this.format.decimals),r=t7(e._value,e.format.decimals);return t.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let n=t7(this._value,this.format.decimals),r=t7(e._value,e.format.decimals);return t.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");e.length===1&&e.push("0");let n=t.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(vZ.toFormat(n.format))),n}ceiling(){let e=this.toString().split(".");e.length===1&&e.push("0");let n=t.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(vZ.toFormat(n.format))),n}round(e){e==null&&(e=0);let n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&O5.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;let r=t.from("1"+_l.substring(0,e),this.format),i=ss0.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&O5.throwArgumentError("invalid byte width","width",e);let n=j0.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return P2(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!gZ(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),t.fromString(Ps(e,n),Ls.from(r))}static fromString(e,n){n==null&&(n="fixed");let r=Ls.from(n),i=t7(e,r.decimals);!r.signed&&i.lt(bZ)&&wZ("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=P2(s,r.width/8));let a=Ps(i,r.decimals);return new t(Al,s,a,r)}static fromBytes(e,n){n==null&&(n="fixed");let r=Ls.from(n);if(P0(e).length>r.width/8)throw new Error("overflow");let i=j0.from(e);r.signed&&(i=i.fromTwos(r.width));let s=i.toTwos((r.signed?0:1)+r.width).toHexString(),a=Ps(i,r.decimals);return new t(Al,s,a,r)}static from(e,n){if(typeof e=="string")return t.fromString(e,n);if(X6(e))return t.fromBytes(e,n);try{return t.fromValue(e,0,n)}catch(r){if(r.code!==J.errors.INVALID_ARGUMENT)throw r}return O5.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}},vZ=Ge.from(1),ss0=Ge.from("0.5")});var S4=I0(()=>{"use strict";fg();yZ();fg()});var zZ,MZ=I0(()=>{"use strict";zZ="properties/5.7.0"});function w0(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function X3(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function w3(t){return as0(this,void 0,void 0,function*(){let e=Object.keys(t).map(r=>{let i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function Is(t,e){(!t||typeof t!="object")&&gg.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||gg.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function $2(t){let e={};for(let n in t)e[n]=t[n];return e}function CZ(t){if(t==null||os0[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!CZ(r))return!1}return!0}return gg.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function cs0(t){if(CZ(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>J3(e)));if(typeof t=="object"){let e={};for(let n in t){let r=t[n];r!==void 0&&w0(e,n,J3(r))}return e}return gg.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function J3(t){return cs0(t)}var as0,gg,os0,M6,f3=I0(()=>{"use strict";Q1();MZ();as0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},gg=new J(zZ);os0={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};M6=class{constructor(e){for(let n in e)this[n]=J3(e[n])}}});var R8,Ds=I0(()=>{"use strict";R8="abi/5.7.0"});function vg(t,e){if(t==="bytes"||t==="string"){if(AZ[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&ls0[e])return!0;return(AZ[e]||e==="payable")&&B2.throwArgumentError("invalid modifier","name",e),!1}function hs0(t,e){let n=t;function r(o){B2.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function i(o){let c={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<t.length;o++){let c=t[o];switch(c){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||r(o),a.state.allowType=!1,a.type=Os(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||r(o),a.indexed=!0,a.name=""),vg(a.type,a.name)&&(a.name=""),a.type=Os(a.type);let l=a;a=a.parent,a||r(o),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||r(o),a.indexed=!0,a.name=""),vg(a.type,a.name)&&(a.name=""),a.type=Os(a.type);let h=i(a.parent);a.parent.components.push(h),delete a.parent,a=h;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Os(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||r(o),a.indexed&&r(o),a.indexed=!0,a.name=""):vg(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||r(o),a.type+=c,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||r(o),a.type+=c,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=c,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=c,delete a.state.allowArray):a.state.readArray?a.type+=c:r(o)}}return a.parent&&B2.throwArgumentError("unexpected eof","param",t),delete s.state,a.name==="indexed"?(e||r(n.length-7),a.indexed&&r(n.length-7),a.indexed=!0,a.name=""):vg(a.type,a.name)&&(a.name=""),s.type=Os(s.type),s}function bg(t,e){for(let n in e)w0(t,n,e[n])}function El(t,e){return ps0(t).map(n=>e5.fromString(n,e))}function EZ(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&B2.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||B2.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=j0.from(n[1]),n[0]):t}function SZ(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function kZ(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&B2.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&B2.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&B2.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&B2.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&B2.throwArgumentError("unable to determine stateMutability","value",t),e}function _Z(t){let e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&B2.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}function Os(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}function Sl(t){return(!t||!t.match(ds0))&&B2.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}function ps0(t){t=t.trim();let e=[],n="",r=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&r===0?(e.push(n),n=""):(n+=s,s==="("?r++:s===")"&&(r--,r===-1&&B2.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}var B2,Gn,AZ,ls0,N2,us0,e5,N8,qe,B8,Z8,qn,ds0,kl,xg=I0(()=>{"use strict";S4();f3();Q1();Ds();B2=new J(R8),Gn={},AZ={calldata:!0,memory:!0,storage:!0},ls0={calldata:!0,memory:!0};N2=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),us0=new RegExp(/^(.*)\[([0-9]*)\]$/),e5=class t{constructor(e,n){e!==Gn&&B2.throwError("use fromString",J.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),bg(this,n);let r=this.type.match(us0);r?bg(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:t.fromObject({type:r[1],components:this.components}),baseType:"array"}):bg(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=N2.sighash),N2[e]||B2.throwArgumentError("invalid format type","format",e),e===N2.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==N2.sighash&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e===N2.full?", ":",")+")"):n+=this.type,e!==N2.sighash&&(this.indexed===!0&&(n+=" indexed"),e===N2.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?t.fromString(e,n):t.fromObject(e)}static fromObject(e){return t.isParamType(e)?e:new t(Gn,{name:e.name||null,type:Os(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(t.fromObject):null})}static fromString(e,n){function r(i){return t.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(hs0(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}};N8=class t{constructor(e,n){e!==Gn&&B2.throwError("use a static from method",J.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),bg(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return t.isFragment(e)?e:typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isFragment(e))return e;switch(e.type){case"function":return Z8.fromObject(e);case"event":return qe.fromObject(e);case"constructor":return B8.fromObject(e);case"error":return qn.fromObject(e);case"fallback":case"receive":return null}return B2.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?qe.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Z8.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?B8.fromString(e.trim()):e.split(" ")[0]==="error"?qn.fromString(e.substring(5).trim()):B2.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},qe=class t extends N8{format(e){if(e||(e=N2.sighash),N2[e]||B2.throwArgumentError("invalid format type","format",e),e===N2.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==N2.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===N2.full?", ":",")+") ",e!==N2.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isEventFragment(e))return e;e.type!=="event"&&B2.throwArgumentError("invalid event object","value",e);let n={name:Sl(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(e5.fromObject):[],type:"event"};return new t(Gn,n)}static fromString(e){let n=e.match(kl);n||B2.throwArgumentError("invalid event string","value",e);let r=!1;return n[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:B2.warn("unknown modifier: "+i)}}),t.fromObject({name:n[1].trim(),anonymous:r,inputs:El(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};B8=class t extends N8{format(e){if(e||(e=N2.sighash),N2[e]||B2.throwArgumentError("invalid format type","format",e),e===N2.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===N2.sighash&&B2.throwError("cannot format a constructor for sighash",J.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(r=>r.format(e)).join(e===N2.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isConstructorFragment(e))return e;e.type!=="constructor"&&B2.throwArgumentError("invalid constructor object","value",e);let n=kZ(e);n.constant&&B2.throwArgumentError("constructor cannot be constant","value",e);let r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(e5.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?j0.from(e.gas):null};return new t(Gn,r)}static fromString(e){let n={type:"constructor"};e=EZ(e,n);let r=e.match(kl);return(!r||r[1].trim()!=="constructor")&&B2.throwArgumentError("invalid constructor string","value",e),n.inputs=El(r[2].trim(),!1),SZ(r[3].trim(),n),t.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},Z8=class t extends B8{format(e){if(e||(e=N2.sighash),N2[e]||B2.throwArgumentError("invalid format type","format",e),e===N2.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==N2.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===N2.full?", ":",")+") ",e!==N2.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isFunctionFragment(e))return e;e.type!=="function"&&B2.throwArgumentError("invalid function object","value",e);let n=kZ(e),r={type:e.type,name:Sl(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(e5.fromObject):[],outputs:e.outputs?e.outputs.map(e5.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?j0.from(e.gas):null};return new t(Gn,r)}static fromString(e){let n={type:"function"};e=EZ(e,n);let r=e.split(" returns ");r.length>2&&B2.throwArgumentError("invalid function string","value",e);let i=r[0].match(kl);if(i||B2.throwArgumentError("invalid function signature","value",e),n.name=i[1].trim(),n.name&&Sl(n.name),n.inputs=El(i[2],!1),SZ(i[3].trim(),n),r.length>1){let s=r[1].match(kl);(s[1].trim()!=""||s[3].trim()!="")&&B2.throwArgumentError("unexpected tokens","value",e),n.outputs=El(s[2],!1)}else n.outputs=[];return t.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};qn=class t extends N8{format(e){if(e||(e=N2.sighash),N2[e]||B2.throwArgumentError("invalid format type","format",e),e===N2.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==N2.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===N2.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isErrorFragment(e))return e;e.type!=="error"&&B2.throwArgumentError("invalid error object","value",e);let n={type:e.type,name:Sl(e.name),inputs:e.inputs?e.inputs.map(e5.fromObject):[]};return _Z(new t(Gn,n))}static fromString(e){let n={type:"error"},r=e.match(kl);return r||B2.throwArgumentError("invalid error signature","value",e),n.name=r[1].trim(),n.name&&Sl(n.name),n.inputs=El(r[2],!1),_Z(t.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};ds0=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");kl=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$")});function Fs(t){let e=[],n=function(r,i){if(Array.isArray(i))for(let s in i){let a=r.slice();a.push(s);try{n(a,i[s])}catch(o){e.push({path:a,error:o})}}};return n([],t),e}var GA,k4,Wn,wg,n7=I0(()=>{"use strict";S2();S4();f3();Q1();Ds();GA=new J(R8);k4=class{constructor(e,n,r,i){this.name=e,this.type=n,this.localName=r,this.dynamic=i}_throwError(e,n){GA.throwArgumentError(e,this.localName,n)}},Wn=class{constructor(e){w0(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return E4(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(y2(e._data))}writeBytes(e){let n=P0(e),r=n.length%this.wordSize;return r&&(n=y2([n,this._padding.slice(r)])),this._writeData(n)}_getValue(e){let n=P0(j0.from(e));return n.length>this.wordSize&&GA.throwError("value out-of-bounds",J.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=y2([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}},wg=class t{constructor(e,n,r,i){w0(this,"_data",P0(e)),w0(this,"wordSize",n||32),w0(this,"_coerceFunc",r),w0(this,"allowLoose",i),this._offset=0}get data(){return Z0(this._data)}get consumed(){return this._offset}static coerce(e,n){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):t.coerce(e,n)}_peekBytes(e,n,r){let i=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+n<=this._data.length?i=n:GA.throwError("data out-of-bounds",J.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new t(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let r=this._peekBytes(0,e,!!n);return this._offset+=r.length,r.slice(0,e)}readValue(){return j0.from(this.readBytes(this.wordSize))}}});var TZ=c1((JZ0,yg)=>{"use strict";(function(){"use strict";var t="input is invalid type",e="finalize already called",n=typeof window=="object",r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=global:i&&(r=self);var a=!r.JS_SHA3_NO_COMMON_JS&&typeof yg=="object"&&yg.exports,o=typeof define=="function"&&define.amd,c=!r.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],u=[4,1024,262144,67108864],p=[1,256,65536,16777216],g=[6,1536,393216,100663296],f=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],L=[224,256,384,512],A=[128,256],_=["hex","buffer","arrayBuffer","array","digest"],R={128:168,256:136};(r.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var G=function(T,s0,i0){return function(W){return new m(T,s0,T).update(W)[i0]()}},K=function(T,s0,i0){return function(W,q){return new m(T,s0,q).update(W)[i0]()}},Z=function(T,s0,i0){return function(W,q,a0,u0){return d["cshake"+T].update(W,q,a0,u0)[i0]()}},$=function(T,s0,i0){return function(W,q,a0,u0){return d["kmac"+T].update(W,q,a0,u0)[i0]()}},n0=function(T,s0,i0,W){for(var q=0;q<_.length;++q){var a0=_[q];T[a0]=s0(i0,W,a0)}return T},h0=function(T,s0){var i0=G(T,s0,"hex");return i0.create=function(){return new m(T,s0,T)},i0.update=function(W){return i0.create().update(W)},n0(i0,G,T,s0)},X=function(T,s0){var i0=K(T,s0,"hex");return i0.create=function(W){return new m(T,s0,W)},i0.update=function(W,q){return i0.create(q).update(W)},n0(i0,K,T,s0)},H=function(T,s0){var i0=R[T],W=Z(T,s0,"hex");return W.create=function(q,a0,u0){return!a0&&!u0?d["shake"+T].create(q):new m(T,s0,q).bytepad([a0,u0],i0)},W.update=function(q,a0,u0,C0){return W.create(a0,u0,C0).update(q)},n0(W,Z,T,s0)},U=function(T,s0){var i0=R[T],W=$(T,s0,"hex");return W.create=function(q,a0,u0){return new z(T,s0,a0).bytepad(["KMAC",u0],i0).bytepad([q],i0)},W.update=function(q,a0,u0,C0){return W.create(q,u0,C0).update(a0)},n0(W,$,T,s0)},P=[{name:"keccak",padding:p,bits:L,createMethod:h0},{name:"sha3",padding:g,bits:L,createMethod:h0},{name:"shake",padding:h,bits:A,createMethod:X},{name:"cshake",padding:u,bits:A,createMethod:H},{name:"kmac",padding:u,bits:A,createMethod:U}],d={},y=[],M=0;M<P.length;++M)for(var E=P[M],O=E.bits,S=0;S<O.length;++S){var D=E.name+"_"+O[S];if(y.push(D),d[D]=E.createMethod(O[S],E.padding),E.name!=="sha3"){var I=E.name+O[S];y.push(I),d[I]=d[D]}}function m(T,s0,i0){this.blocks=[],this.s=[],this.padding=s0,this.outputBits=i0,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i0>>5,this.extraBytes=(i0&31)>>3;for(var W=0;W<50;++W)this.s[W]=0}m.prototype.update=function(T){if(this.finalized)throw new Error(e);var s0,i0=typeof T;if(i0!=="string"){if(i0==="object"){if(T===null)throw new Error(t);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(t)}else throw new Error(t);s0=!0}for(var W=this.blocks,q=this.byteCount,a0=T.length,u0=this.blockCount,C0=0,Y0=this.s,L0,g0;C0<a0;){if(this.reset)for(this.reset=!1,W[0]=this.block,L0=1;L0<u0+1;++L0)W[L0]=0;if(s0)for(L0=this.start;C0<a0&&L0<q;++C0)W[L0>>2]|=T[C0]<<f[L0++&3];else for(L0=this.start;C0<a0&&L0<q;++C0)g0=T.charCodeAt(C0),g0<128?W[L0>>2]|=g0<<f[L0++&3]:g0<2048?(W[L0>>2]|=(192|g0>>6)<<f[L0++&3],W[L0>>2]|=(128|g0&63)<<f[L0++&3]):g0<55296||g0>=57344?(W[L0>>2]|=(224|g0>>12)<<f[L0++&3],W[L0>>2]|=(128|g0>>6&63)<<f[L0++&3],W[L0>>2]|=(128|g0&63)<<f[L0++&3]):(g0=65536+((g0&1023)<<10|T.charCodeAt(++C0)&1023),W[L0>>2]|=(240|g0>>18)<<f[L0++&3],W[L0>>2]|=(128|g0>>12&63)<<f[L0++&3],W[L0>>2]|=(128|g0>>6&63)<<f[L0++&3],W[L0>>2]|=(128|g0&63)<<f[L0++&3]);if(this.lastByteIndex=L0,L0>=q){for(this.start=L0-q,this.block=W[u0],L0=0;L0<u0;++L0)Y0[L0]^=W[L0];r0(Y0),this.reset=!0}else this.start=L0}return this},m.prototype.encode=function(T,s0){var i0=T&255,W=1,q=[i0];for(T=T>>8,i0=T&255;i0>0;)q.unshift(i0),T=T>>8,i0=T&255,++W;return s0?q.push(W):q.unshift(W),this.update(q),q.length},m.prototype.encodeString=function(T){var s0,i0=typeof T;if(i0!=="string"){if(i0==="object"){if(T===null)throw new Error(t);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(t)}else throw new Error(t);s0=!0}var W=0,q=T.length;if(s0)W=q;else for(var a0=0;a0<T.length;++a0){var u0=T.charCodeAt(a0);u0<128?W+=1:u0<2048?W+=2:u0<55296||u0>=57344?W+=3:(u0=65536+((u0&1023)<<10|T.charCodeAt(++a0)&1023),W+=4)}return W+=this.encode(W*8),this.update(T),W},m.prototype.bytepad=function(T,s0){for(var i0=this.encode(s0),W=0;W<T.length;++W)i0+=this.encodeString(T[W]);var q=s0-i0%s0,a0=[];return a0.length=q,this.update(a0),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,s0=this.lastByteIndex,i0=this.blockCount,W=this.s;if(T[s0>>2]|=this.padding[s0&3],this.lastByteIndex===this.byteCount)for(T[0]=T[i0],s0=1;s0<i0+1;++s0)T[s0]=0;for(T[i0-1]|=2147483648,s0=0;s0<i0;++s0)W[s0]^=T[s0];r0(W)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var T=this.blockCount,s0=this.s,i0=this.outputBlocks,W=this.extraBytes,q=0,a0=0,u0="",C0;a0<i0;){for(q=0;q<T&&a0<i0;++q,++a0)C0=s0[q],u0+=l[C0>>4&15]+l[C0&15]+l[C0>>12&15]+l[C0>>8&15]+l[C0>>20&15]+l[C0>>16&15]+l[C0>>28&15]+l[C0>>24&15];a0%T===0&&(r0(s0),q=0)}return W&&(C0=s0[q],u0+=l[C0>>4&15]+l[C0&15],W>1&&(u0+=l[C0>>12&15]+l[C0>>8&15]),W>2&&(u0+=l[C0>>20&15]+l[C0>>16&15])),u0},m.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,s0=this.s,i0=this.outputBlocks,W=this.extraBytes,q=0,a0=0,u0=this.outputBits>>3,C0;W?C0=new ArrayBuffer(i0+1<<2):C0=new ArrayBuffer(u0);for(var Y0=new Uint32Array(C0);a0<i0;){for(q=0;q<T&&a0<i0;++q,++a0)Y0[a0]=s0[q];a0%T===0&&r0(s0)}return W&&(Y0[q]=s0[q],C0=C0.slice(0,u0)),C0},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var T=this.blockCount,s0=this.s,i0=this.outputBlocks,W=this.extraBytes,q=0,a0=0,u0=[],C0,Y0;a0<i0;){for(q=0;q<T&&a0<i0;++q,++a0)C0=a0<<2,Y0=s0[q],u0[C0]=Y0&255,u0[C0+1]=Y0>>8&255,u0[C0+2]=Y0>>16&255,u0[C0+3]=Y0>>24&255;a0%T===0&&r0(s0)}return W&&(C0=a0<<2,Y0=s0[q],u0[C0]=Y0&255,W>1&&(u0[C0+1]=Y0>>8&255),W>2&&(u0[C0+2]=Y0>>16&255)),u0};function z(T,s0,i0){m.call(this,T,s0,i0)}z.prototype=new m,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var r0=function(T){var s0,i0,W,q,a0,u0,C0,Y0,L0,g0,R0,d0,S0,Q,z0,e1,_1,T1,O2,$4,p0,o0,B,e0,M0,k0,O0,t1,F2,O1,v1,j2,x2,e3,X7,k3,T3,K4,Q2,t3,b7,g3,y3,ie,C2,z3,k,N,V,x,j,l0,x0,T0,N0,d1,q0,E1,o1,P1,I1,Z1,V1;for(W=0;W<48;W+=2)q=T[0]^T[10]^T[20]^T[30]^T[40],a0=T[1]^T[11]^T[21]^T[31]^T[41],u0=T[2]^T[12]^T[22]^T[32]^T[42],C0=T[3]^T[13]^T[23]^T[33]^T[43],Y0=T[4]^T[14]^T[24]^T[34]^T[44],L0=T[5]^T[15]^T[25]^T[35]^T[45],g0=T[6]^T[16]^T[26]^T[36]^T[46],R0=T[7]^T[17]^T[27]^T[37]^T[47],d0=T[8]^T[18]^T[28]^T[38]^T[48],S0=T[9]^T[19]^T[29]^T[39]^T[49],s0=d0^(u0<<1|C0>>>31),i0=S0^(C0<<1|u0>>>31),T[0]^=s0,T[1]^=i0,T[10]^=s0,T[11]^=i0,T[20]^=s0,T[21]^=i0,T[30]^=s0,T[31]^=i0,T[40]^=s0,T[41]^=i0,s0=q^(Y0<<1|L0>>>31),i0=a0^(L0<<1|Y0>>>31),T[2]^=s0,T[3]^=i0,T[12]^=s0,T[13]^=i0,T[22]^=s0,T[23]^=i0,T[32]^=s0,T[33]^=i0,T[42]^=s0,T[43]^=i0,s0=u0^(g0<<1|R0>>>31),i0=C0^(R0<<1|g0>>>31),T[4]^=s0,T[5]^=i0,T[14]^=s0,T[15]^=i0,T[24]^=s0,T[25]^=i0,T[34]^=s0,T[35]^=i0,T[44]^=s0,T[45]^=i0,s0=Y0^(d0<<1|S0>>>31),i0=L0^(S0<<1|d0>>>31),T[6]^=s0,T[7]^=i0,T[16]^=s0,T[17]^=i0,T[26]^=s0,T[27]^=i0,T[36]^=s0,T[37]^=i0,T[46]^=s0,T[47]^=i0,s0=g0^(q<<1|a0>>>31),i0=R0^(a0<<1|q>>>31),T[8]^=s0,T[9]^=i0,T[18]^=s0,T[19]^=i0,T[28]^=s0,T[29]^=i0,T[38]^=s0,T[39]^=i0,T[48]^=s0,T[49]^=i0,Q=T[0],z0=T[1],z3=T[11]<<4|T[10]>>>28,k=T[10]<<4|T[11]>>>28,t1=T[20]<<3|T[21]>>>29,F2=T[21]<<3|T[20]>>>29,P1=T[31]<<9|T[30]>>>23,I1=T[30]<<9|T[31]>>>23,g3=T[40]<<18|T[41]>>>14,y3=T[41]<<18|T[40]>>>14,e3=T[2]<<1|T[3]>>>31,X7=T[3]<<1|T[2]>>>31,e1=T[13]<<12|T[12]>>>20,_1=T[12]<<12|T[13]>>>20,N=T[22]<<10|T[23]>>>22,V=T[23]<<10|T[22]>>>22,O1=T[33]<<13|T[32]>>>19,v1=T[32]<<13|T[33]>>>19,Z1=T[42]<<2|T[43]>>>30,V1=T[43]<<2|T[42]>>>30,T0=T[5]<<30|T[4]>>>2,N0=T[4]<<30|T[5]>>>2,k3=T[14]<<6|T[15]>>>26,T3=T[15]<<6|T[14]>>>26,T1=T[25]<<11|T[24]>>>21,O2=T[24]<<11|T[25]>>>21,x=T[34]<<15|T[35]>>>17,j=T[35]<<15|T[34]>>>17,j2=T[45]<<29|T[44]>>>3,x2=T[44]<<29|T[45]>>>3,e0=T[6]<<28|T[7]>>>4,M0=T[7]<<28|T[6]>>>4,d1=T[17]<<23|T[16]>>>9,q0=T[16]<<23|T[17]>>>9,K4=T[26]<<25|T[27]>>>7,Q2=T[27]<<25|T[26]>>>7,$4=T[36]<<21|T[37]>>>11,p0=T[37]<<21|T[36]>>>11,l0=T[47]<<24|T[46]>>>8,x0=T[46]<<24|T[47]>>>8,ie=T[8]<<27|T[9]>>>5,C2=T[9]<<27|T[8]>>>5,k0=T[18]<<20|T[19]>>>12,O0=T[19]<<20|T[18]>>>12,E1=T[29]<<7|T[28]>>>25,o1=T[28]<<7|T[29]>>>25,t3=T[38]<<8|T[39]>>>24,b7=T[39]<<8|T[38]>>>24,o0=T[48]<<14|T[49]>>>18,B=T[49]<<14|T[48]>>>18,T[0]=Q^~e1&T1,T[1]=z0^~_1&O2,T[10]=e0^~k0&t1,T[11]=M0^~O0&F2,T[20]=e3^~k3&K4,T[21]=X7^~T3&Q2,T[30]=ie^~z3&N,T[31]=C2^~k&V,T[40]=T0^~d1&E1,T[41]=N0^~q0&o1,T[2]=e1^~T1&$4,T[3]=_1^~O2&p0,T[12]=k0^~t1&O1,T[13]=O0^~F2&v1,T[22]=k3^~K4&t3,T[23]=T3^~Q2&b7,T[32]=z3^~N&x,T[33]=k^~V&j,T[42]=d1^~E1&P1,T[43]=q0^~o1&I1,T[4]=T1^~$4&o0,T[5]=O2^~p0&B,T[14]=t1^~O1&j2,T[15]=F2^~v1&x2,T[24]=K4^~t3&g3,T[25]=Q2^~b7&y3,T[34]=N^~x&l0,T[35]=V^~j&x0,T[44]=E1^~P1&Z1,T[45]=o1^~I1&V1,T[6]=$4^~o0&Q,T[7]=p0^~B&z0,T[16]=O1^~j2&e0,T[17]=v1^~x2&M0,T[26]=t3^~g3&e3,T[27]=b7^~y3&X7,T[36]=x^~l0&ie,T[37]=j^~x0&C2,T[46]=P1^~Z1&T0,T[47]=I1^~V1&N0,T[8]=o0^~Q&e1,T[9]=B^~z0&_1,T[18]=j2^~e0&k0,T[19]=x2^~M0&O0,T[28]=g3^~e3&k3,T[29]=y3^~X7&T3,T[38]=l0^~ie&z3,T[39]=x0^~C2&k,T[48]=Z1^~T0&d1,T[49]=V1^~N0&q0,T[0]^=w[W],T[1]^=w[W+1]};if(a)yg.exports=d;else{for(M=0;M<y.length;++M)r[y[M]]=d[y[M]];o&&define(function(){return d})}})()});function z2(t){return"0x"+PZ.default.keccak_256(P0(t))}var PZ,C6=I0(()=>{"use strict";PZ=a4(TZ());S2()});var LZ,IZ=I0(()=>{"use strict";LZ="rlp/5.7.0"});var zg={};M5(zg,{decode:()=>Tl,encode:()=>We});function DZ(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function OZ(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function HZ(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(HZ(s))}),r.length<=55)return r.unshift(192+r.length),r;let i=DZ(r.length);return i.unshift(247+i.length),i.concat(r)}je(t)||j8.throwArgumentError("RLP object must be BytesLike","object",t);let e=Array.prototype.slice.call(P0(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let n=DZ(e.length);return n.unshift(183+n.length),n.concat(e)}function We(t){return Z0(HZ(t))}function FZ(t,e,n,r){let i=[];for(;n<e+1+r;){let s=VZ(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&j8.throwError("child data too short",J.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function VZ(t,e){if(t.length===0&&j8.throwError("data too short",J.errors.BUFFER_OVERRUN,{}),t[e]>=248){let n=t[e]-247;e+1+n>t.length&&j8.throwError("data short segment too short",J.errors.BUFFER_OVERRUN,{});let r=OZ(t,e+1,n);return e+1+n+r>t.length&&j8.throwError("data long segment too short",J.errors.BUFFER_OVERRUN,{}),FZ(t,e,e+1+n,n+r)}else if(t[e]>=192){let n=t[e]-192;return e+1+n>t.length&&j8.throwError("data array too short",J.errors.BUFFER_OVERRUN,{}),FZ(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;e+1+n>t.length&&j8.throwError("data array too short",J.errors.BUFFER_OVERRUN,{});let r=OZ(t,e+1,n);e+1+n+r>t.length&&j8.throwError("data array too short",J.errors.BUFFER_OVERRUN,{});let i=Z0(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){let n=t[e]-128;e+1+n>t.length&&j8.throwError("data too short",J.errors.BUFFER_OVERRUN,{});let r=Z0(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:Z0(t[e])}}function Tl(t){let e=P0(t),n=VZ(e,0);return n.consumed!==e.length&&j8.throwArgumentError("invalid rlp data","data",t),n.result}var j8,Mg=I0(()=>{"use strict";S2();Q1();IZ();j8=new J(LZ)});var RZ,NZ=I0(()=>{"use strict";RZ="address/5.7.0"});function BZ(t){F1(t,20)||ct.throwArgumentError("invalid address","address",t),t=t.toLowerCase();let e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);let r=P0(z2(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}function fs0(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}function jZ(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>qA[r]).join("");for(;e.length>=ZZ;){let r=e.substring(0,ZZ);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function M2(t){let e=null;if(typeof t!="string"&&ct.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=BZ(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ct.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==jZ(t)&&ct.throwArgumentError("bad icap checksum","address",t),e=ZA(t.substring(4));e.length<40;)e="0"+e;e=BZ("0x"+e)}else ct.throwArgumentError("invalid address","address",t);return e}function UZ(t){try{return M2(t),!0}catch{}return!1}function GZ(t){let e=jA(M2(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+jZ("XE00"+e)+e}function $n(t){let e=null;try{e=M2(t.from)}catch{ct.throwArgumentError("missing from address","transaction",t)}let n=z6(P0(j0.from(t.nonce).toHexString()));return M2(x3(z2(We([e,n])),12))}function qZ(t,e,n){return g5(e)!==32&&ct.throwArgumentError("salt must be 32 bytes","salt",e),g5(n)!==32&&ct.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),M2(x3(z2(y2(["0xff",M2(t),e,n])),12))}var ct,ms0,qA,ZZ,r7=I0(()=>{"use strict";S2();S4();C6();Mg();Q1();NZ();ct=new J(RZ);ms0=9007199254740991;qA={};for(let t=0;t<10;t++)qA[String(t)]=String(t);for(let t=0;t<26;t++)qA[String.fromCharCode(65+t)]=String(10+t);ZZ=Math.floor(fs0(ms0))});var Cg,WZ=I0(()=>{"use strict";r7();S2();n7();Cg=class extends k4{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=M2(n)}catch(r){this._throwError(r.message,n)}return e.writeValue(n)}decode(e){return M2(P2(e.readValue().toHexString(),20))}}});var Ag,$Z=I0(()=>{"use strict";n7();Ag=class extends k4{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}});function WA(t,e,n){let r=null;if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{let h=l.localName;return h||Hs.throwError("cannot encode object for signature with missing names",J.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:n}),c[h]&&Hs.throwError("cannot encode object for signature with duplicate names",J.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:n}),c[h]=!0,n[h]})}else Hs.throwArgumentError("invalid tuple value","tuple",n);e.length!==r.length&&Hs.throwArgumentError("types/value length mismatch","tuple",n);let i=new Wn(t.wordSize),s=new Wn(t.wordSize),a=[];e.forEach((c,l)=>{let h=r[l];if(c.dynamic){let u=s.length;c.encode(s,h);let p=i.writeUpdatableValue();a.push(g=>{p(g+u)})}else c.encode(i,h)}),a.forEach(c=>{c(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(s),o}function $A(t,e){let n=[],r=t.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=t.readValue(),c=r.subReader(o.toNumber());try{a=s.decode(c)}catch(l){if(l.code===J.errors.BUFFER_OVERRUN)throw l;a=l,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(o){if(o.code===J.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&n.push(a)});let i=e.reduce((s,a)=>{let o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),n[o]!=null))return;let c=n[a];c instanceof Error?Object.defineProperty(n,o,{enumerable:!0,get:()=>{throw c}}):n[o]=c});for(let s=0;s<n.length;s++){let a=n[s];a instanceof Error&&Object.defineProperty(n,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(n)}var Hs,_g,KA=I0(()=>{"use strict";Q1();Ds();n7();$Z();Hs=new J(R8);_g=class extends k4{constructor(e,n,r){let i=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",i,r,s),this.coder=e,this.length=n}defaultValue(){let e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),Hs.checkArgumentCount(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return WA(e,i,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&Hs.throwError("insufficient data length",J.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let r=[];for(let i=0;i<n;i++)r.push(new Ag(this.coder));return e.coerce(this.name,$A(e,r))}}});var Eg,KZ=I0(()=>{"use strict";n7();Eg=class extends k4{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}});var Pl,Sg,QA=I0(()=>{"use strict";S2();n7();Pl=class extends k4{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=P0(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},Sg=class extends Pl{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Z0(super.decode(e)))}}});var kg,QZ=I0(()=>{"use strict";S2();n7();kg=class extends k4{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=P0(n);return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return e.coerce(this.name,Z0(e.readBytes(this.size)))}}});var Tg,YZ=I0(()=>{"use strict";n7();Tg=class extends k4{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}});var Pg,JZ=I0(()=>{"use strict";Pg="0x0000000000000000000000000000000000000000"});var Lg,Vs,Ig,XZ,ej,Dg,tj,nj,rj=I0(()=>{"use strict";S4();Lg=j0.from(-1),Vs=j0.from(0),Ig=j0.from(1),XZ=j0.from(2),ej=j0.from("1000000000000000000"),Dg=j0.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tj=j0.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),nj=j0.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var Rs,ij=I0(()=>{"use strict";Rs="0x0000000000000000000000000000000000000000000000000000000000000000"});var sj,aj=I0(()=>{"use strict";sj="\u039E"});var Ll={};M5(Ll,{AddressZero:()=>Pg,EtherSymbol:()=>sj,HashZero:()=>Rs,MaxInt256:()=>nj,MaxUint256:()=>Dg,MinInt256:()=>tj,NegativeOne:()=>Lg,One:()=>Ig,Two:()=>XZ,WeiPerEther:()=>ej,Zero:()=>Vs});var Kn=I0(()=>{"use strict";JZ();rj();ij();aj()});var Og,oj=I0(()=>{"use strict";S4();Kn();n7();Og=class extends k4{constructor(e,n,r){let i=(n?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let r=j0.from(n),i=Dg.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(r.gt(s)||r.lt(s.add(Ig).mul(Lg)))&&this._throwError("value out-of-bounds",n)}else(r.lt(Vs)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}});var cj,lj=I0(()=>{"use strict";cj="strings/5.7.0"});function gs0(t,e,n,r,i){return hj.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function uj(t,e,n,r,i){if(t===F5.BAD_PREFIX||t===F5.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)s++;return s}return t===F5.OVERRUN?n.length-e-1:0}function vs0(t,e,n,r,i){return t===F5.OVERLONG?(r.push(i),0):(r.push(65533),uj(t,e,n,r,i))}function JA(t,e){e==null&&(e=Fg.error),t=P0(t);let n=[],r=0;for(;r<t.length;){let i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?r+=e(F5.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(F5.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(F5.OVERRUN,r-1,t,n);continue}let o=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[r];if((l&192)!=128){r+=e(F5.MISSING_CONTINUE,r,t,n),o=null;break}o=o<<6|l&63,r++}if(o!==null){if(o>1114111){r+=e(F5.OUT_OF_RANGE,r-1-s,t,n,o);continue}if(o>=55296&&o<=57343){r+=e(F5.UTF16_SURROGATE,r-1-s,t,n,o);continue}if(o<=a){r+=e(F5.OVERLONG,r-1-s,t,n,o);continue}n.push(o)}}return n}function Z2(t,e=X5.current){e!=X5.current&&(hj.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;let s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return P0(n)}function YA(t){let e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function XA(t,e){return'"'+JA(t,e).map(n=>{if(n<256){switch(n){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(n>=32&&n<127)return String.fromCharCode(n)}return n<=65535?YA(n):(n-=65536,YA((n>>10&1023)+55296)+YA((n&1023)+56320))}).join("")+'"'}function Hg(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function e6(t,e){return Hg(JA(t,e))}function lt(t,e=X5.current){return JA(Z2(t,e))}var hj,X5,F5,Fg,Vg=I0(()=>{"use strict";S2();Q1();lj();hj=new J(cj),X5=function(t){return t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",t}(X5||{}),F5=function(t){return t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation",t}(F5||{});Fg=Object.freeze({error:gs0,ignore:uj,replace:vs0})});function e_(t){let e=Z2(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Z0(y2([e,Rs]).slice(0,32))}function t_(t){let e=P0(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;e[n-1]===0;)n--;return e6(e.slice(0,n))}var dj=I0(()=>{"use strict";Kn();S2();Vg()});function bs0(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let n=0;n<t.length;n+=4)e.push(parseInt(t.substring(n,n+4),16));return e}function n_(t,e){e||(e=function(i){return[parseInt(i,16)]});let n=0,r={};return t.split(",").forEach(i=>{let s=i.split(":");n+=parseInt(s[0],16),r[n]=e(s[1])}),r}function pj(t){let e=0;return t.split(",").map(n=>{let r=n.split("-");r.length===1?r[1]="0":r[1]===""&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}})}function r_(t,e){let n=0;for(let r=0;r<e.length;r++){let i=e[r];if(n+=i.l,t>=n&&t<=n+i.h&&(t-n)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-n)!==-1)continue;return i}}return null}function _s0(t){return t.reduce((e,n)=>(n.forEach(r=>{e.push(r)}),e),[])}function Es0(t){return!!r_(t,xs0)}function Ss0(t){let e=r_(t,ys0);if(e)return[t+e.s];let n=zs0[t];if(n)return n;let r=Ms0[t];if(r)return[t+r[0]];let i=Cs0[t];return i||null}function ks0(t){return!!r_(t,As0)}function i_(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=lt(t);e=_s0(e.map(r=>{if(ws0.indexOf(r)>=0)return[];if(r>=65024&&r<=65039)return[];let i=Ss0(r);return i||[r]})),e=lt(Hg(e),X5.NFKC),e.forEach(r=>{if(ks0(r))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(r=>{if(Es0(r))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let n=Hg(e);if(n.substring(0,1)==="-"||n.substring(2,4)==="--"||n.substring(n.length-1)==="-")throw new Error("invalid hyphen");return n}var xs0,ws0,ys0,zs0,Ms0,Cs0,As0,mj=I0(()=>{"use strict";Vg();xs0=pj("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),ws0="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),ys0=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],zs0=n_("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ms0=n_("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Cs0=n_("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bs0),As0=pj("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001")});var H5=I0(()=>{"use strict";dj();mj();Vg()});var Rg,fj=I0(()=>{"use strict";H5();QA();Rg=class extends Pl{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Z2(n))}decode(e){return e6(super.decode(e))}}});var Qn,gj=I0(()=>{"use strict";n7();KA();Qn=class extends k4{constructor(e,n){let r=!1,i=[];e.forEach(a=>{a.dynamic&&(r=!0),i.push(a.type)});let s="tuple("+i.join(",")+")";super("tuple",s,n,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});let n=this.coders.reduce((r,i)=>{let s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,n){return WA(e,this.coders,n)}decode(e){return e.coerce(this.name,$A(e,this.coders))}}});var Ng,Ts0,Ps0,Ns,Il,s_=I0(()=>{"use strict";S2();f3();Q1();Ds();n7();WZ();KA();KZ();QA();QZ();YZ();oj();fj();gj();xg();Ng=new J(R8),Ts0=new RegExp(/^bytes([0-9]*)$/),Ps0=new RegExp(/^(u?int)([0-9]*)$/),Ns=class{constructor(e){w0(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Cg(e.name);case"bool":return new Eg(e.name);case"string":return new Rg(e.name);case"bytes":return new Sg(e.name);case"array":return new _g(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Qn((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new Tg(e.name)}let n=e.type.match(Ps0);if(n){let r=parseInt(n[2]||"256");return(r===0||r>256||r%8!==0)&&Ng.throwArgumentError("invalid "+n[1]+" bit length","param",e),new Og(r/8,n[1]==="int",e.name)}if(n=e.type.match(Ts0),n){let r=parseInt(n[1]);return(r===0||r>32)&&Ng.throwArgumentError("invalid bytes length","param",e),new kg(r,e.name)}return Ng.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new wg(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new Wn(this._getWordSize())}getDefaultValue(e){let n=e.map(i=>this._getCoder(e5.from(i)));return new Qn(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&Ng.throwError("types/values length mismatch",J.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});let r=e.map(a=>this._getCoder(e5.from(a))),i=new Qn(r,"_"),s=this._getWriter();return i.encode(s,n),s.data}decode(e,n,r){let i=e.map(a=>this._getCoder(e5.from(a)));return new Qn(i,"_").decode(this._getReader(P0(n),r))}},Il=new Ns});function A6(t){return z2(Z2(t))}var a_=I0(()=>{"use strict";C6();H5()});var Bg,o_=I0(()=>{"use strict";Bg="hash/5.7.0"});function Bs(t){t=atob(t);let e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return P0(e)}function Zs(t){t=P0(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}var vj=I0(()=>{"use strict";S2()});var c_={};M5(c_,{decode:()=>Bs,encode:()=>Zs});var Dl=I0(()=>{"use strict";vj()});function xj(t,e){e==null&&(e=1);let n=[],r=n.forEach,i=function(s,a){r.call(s,function(o){a>0&&Array.isArray(o)?i(o,a-1):n.push(o)})};return i(t,e),n}function Ls0(t){let e={};for(let n=0;n<t.length;n++){let r=t[n];e[r[0]]=r[1]}return e}function Is0(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let K=1;K<r;K++)s.push(i+=n());let a=n(),o=e;e+=a;let c=0,l=0;function h(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let u=31,p=Math.pow(2,u),g=p>>>1,f=g>>1,w=p-1,L=0;for(let K=0;K<u;K++)L=L<<1|h();let A=[],_=0,R=p;for(;;){let K=Math.floor(((L-_+1)*i-1)/R),Z=0,$=r;for(;$-Z>1;){let X=Z+$>>>1;K<s[X]?$=X:Z=X}if(Z==0)break;A.push(Z);let n0=_+Math.floor(R*s[Z]/i),h0=_+Math.floor(R*s[Z+1]/i)-1;for(;!((n0^h0)&g);)L=L<<1&w|h(),n0=n0<<1&w,h0=h0<<1&w|1;for(;n0&~h0&f;)L=L&g|L<<1&w>>>1|h(),n0=n0<<1^g,h0=(h0^g)<<1|g|1;_=n0,R=1+h0-n0}let G=r-4;return A.map(K=>{switch(K-G){case 3:return G+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return G+256+(t[o++]<<8|t[o++]);case 1:return G+t[o++];default:return K-1}})}function Ds0(t){let e=0;return()=>t[e++]}function wj(t){return Ds0(Is0(t))}function Os0(t){return t&1?~t>>1:t>>1}function Fs0(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function bj(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function Hs0(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=Os0(e());return n}function Ol(t,e){let n=bj(t(),t),r=t(),i=bj(r,t),s=Fs0(r,t);for(let a=0;a<r;a++)for(let o=0;o<s[a];o++)n.push(i[a]+o);return e?n.map(a=>e[a]):n}function yj(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Rs0(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Ns0(n,t))}return Ls0(xj(e))}function Vs0(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function zj(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Hs0(t,n).forEach((s,a)=>r[a].push(s));return r}function Rs0(t,e){let n=1+e(),r=e(),i=Vs0(e),s=zj(i.length,1+t,e);return xj(s.map((a,o)=>{let c=a[0],l=a.slice(1);return Array(i[o]).fill(void 0).map((h,u)=>{let p=u*r;return[c+u*n,l.map(g=>g+p)]})}))}function Ns0(t,e){let n=1+e();return zj(n,1+t,e).map(i=>[i[0],i.slice(1)])}function Mj(t){let e=Ol(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let l=Ol(t,e);if(l.length==0)break;r.push({set:new Set(l),node:n()})}r.sort((l,h)=>h.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let o=i==1,c=i==2;return{branches:r,valid:s,fe0f:a,save:o,check:c}}}var l_=I0(()=>{"use strict"});function Cj(){return wj(Bs("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var Aj=I0(()=>{"use strict";Dl();l_()});function Sj(t){return lt(t)}function Gs0(t){return t.filter(e=>e!=65039)}function kj(t){for(let e of t.split(".")){let n=Sj(e);try{for(let r=n.lastIndexOf(Ej)-1;r>=0;r--)if(n[r]!==Ej)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===_j&&n[3]===_j)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function Tj(t){return kj(qs0(t,Gs0))}function qs0(t,e){let n=Sj(t).reverse(),r=[];for(;n.length;){let i=$s0(n);if(i){r.push(...e(i));continue}let s=n.pop();if(Bs0.has(s)){r.push(s);continue}if(Zs0.has(s))continue;let a=js0[s];if(a){r.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return kj(Ws0(String.fromCodePoint(...r)))}function Ws0(t){return t.normalize("NFC")}function $s0(t,e){var n;let r=Us0,i,s,a=[],o=t.length;for(e&&(e.length=0);o;){let c=t[--o];if(r=(n=r.branches.find(l=>l.set.has(c)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=c;else if(r.check&&c===s)break;a.push(c),r.fe0f&&(a.push(65039),o>0&&t[o-1]==65039&&o--),r.valid&&(i=a.slice(),r.valid==2&&i.splice(1,1),e&&e.push(...t.slice(o).reverse()),t.length=o)}return i}var Zg,Bs0,Zs0,js0,Us0,_j,Ej,Pj=I0(()=>{"use strict";H5();Aj();l_();Zg=Cj(),Bs0=new Set(Ol(Zg)),Zs0=new Set(Ol(Zg)),js0=yj(Zg),Us0=Mj(Zg),_j=45,Ej=95});function Lj(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function h_(t){let e=Z2(Tj(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(Lj(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(Lj(e.slice(r))),n}function u_(t){try{return h_(t).length!==0}catch{}return!1}function ht(t){typeof t!="string"&&Ks0.throwArgumentError("invalid ENS name; not a string","name",t);let e=Ij,n=h_(t);for(;n.length;)e=z2(y2([e,z2(n.pop())]));return Z0(e)}function Fl(t){return Z0(y2(h_(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var Ks0,Ij,Dj=I0(()=>{"use strict";S2();H5();C6();Q1();o_();Pj();Ks0=new J(Bg),Ij=new Uint8Array(32);Ij.fill(0)});function js(t){return typeof t=="string"&&(t=Z2(t)),z2(y2([Z2(Oj),Z2(String(t.length)),t]))}var Oj,Fj=I0(()=>{"use strict";S2();C6();H5();Oj=`Ethereum Signed Message:
`});function Xs0(t){let e=P0(t),n=e.length%32;return n?E4([e,Nj.slice(n)]):Z0(e)}function Vj(t){return function(e){return typeof e!="string"&&e4.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}function p_(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&e4.throwArgumentError("invalid numeric width","type",t);let i=Js0.mask(n?r-1:r),s=n?i.add(Zj).mul(Ys0):Bj;return function(a){let o=j0.from(a);return(o.lt(s)||o.gt(i))&&e4.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),P2(o.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&e4.throwArgumentError("invalid bytes width","type",t),function(r){return P0(r).length!==n&&e4.throwArgumentError(`invalid length for ${t}`,"value",r),Xs0(r)}}}switch(t){case"address":return function(e){return P2(M2(e),32)};case"bool":return function(e){return e?ea0:ta0};case"bytes":return function(e){return z2(e)};case"string":return function(e){return A6(e)}}return null}function Rj(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}var Qs0,e4,Nj,Ys0,Bj,Zj,Js0,ea0,ta0,Hj,d_,na0,i7,jj=I0(()=>{"use strict";r7();S4();S2();C6();f3();Q1();o_();a_();Qs0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},e4=new J(Bg),Nj=new Uint8Array(32);Nj.fill(0);Ys0=j0.from(-1),Bj=j0.from(0),Zj=j0.from(1),Js0=j0.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");ea0=P2(Zj.toHexString(),32),ta0=P2(Bj.toHexString(),32),Hj={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},d_=["name","version","chainId","verifyingContract","salt"];na0={name:Vj("name"),version:Vj("version"),chainId:function(t){try{return j0.from(t).toString()}catch{}return e4.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return M2(t).toLowerCase()}catch{}return e4.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let e=P0(t);if(e.length!==32)throw new Error("bad length");return Z0(e)}catch{}return e4.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};i7=class t{constructor(e){w0(this,"types",Object.freeze(J3(e))),w0(this,"_encoderCache",{}),w0(this,"_types",{});let n={},r={},i={};Object.keys(e).forEach(o=>{n[o]={},r[o]=[],i[o]={}});for(let o in e){let c={};e[o].forEach(l=>{c[l.name]&&e4.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(o)}`,"types",e),c[l.name]=!0;let h=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];h===o&&e4.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",e),!p_(h)&&(r[h]||e4.throwArgumentError(`unknown type ${JSON.stringify(h)}`,"types",e),r[h].push(o),n[o][h]=!0)})}let s=Object.keys(r).filter(o=>r[o].length===0);s.length===0?e4.throwArgumentError("missing primary type","types",e):s.length>1&&e4.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),w0(this,"primaryType",s[0]);function a(o,c){c[o]&&e4.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),c[o]=!0,Object.keys(n[o]).forEach(l=>{r[l]&&(a(l,c),Object.keys(c).forEach(h=>{i[h][l]=!0}))}),delete c[o]}a(this.primaryType,{});for(let o in i){let c=Object.keys(i[o]);c.sort(),this._types[o]=Rj(o,e[o])+c.map(l=>Rj(l,e[l])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{let i=p_(e);if(i)return i}let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let i=n[1],s=this.getEncoder(i),a=parseInt(n[3]);return o=>{a>=0&&o.length!==a&&e4.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let c=o.map(s);return this._types[i]&&(c=c.map(z2)),z2(E4(c))}}let r=this.types[e];if(r){let i=A6(this._types[e]);return s=>{let a=r.map(({name:o,type:c})=>{let l=this.getEncoder(c)(s[o]);return this._types[c]?z2(l):l});return a.unshift(i),E4(a)}}return e4.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let n=this._types[e];return n||e4.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return z2(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(p_(e))return r(e,n);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let a=i[1],o=parseInt(i[3]);return o>=0&&n.length!==o&&e4.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(c=>this._visit(a,c,r))}let s=this.types[e];return s?s.reduce((a,{name:o,type:c})=>(a[o]=this._visit(c,n[o],r),a),{}):e4.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,n,r){return t.from(n).hashStruct(e,r)}static hashDomain(e){let n=[];for(let r in e){let i=Hj[r];i||e4.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>d_.indexOf(r.name)-d_.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return E4(["0x1901",t.hashDomain(e),t.from(n).hash(r)])}static hash(e,n,r){return z2(t.encode(e,n,r))}static resolveNames(e,n,r,i){return Qs0(this,void 0,void 0,function*(){e=$2(e);let s={};e.verifyingContract&&!F1(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let a=t.from(n);a.visit(r,(o,c)=>(o==="address"&&!F1(c,20)&&(s[c]="0x"),c));for(let o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=a.visit(r,(o,c)=>o==="address"&&s[c]?s[c]:c),{domain:e,value:r}})}static getPayload(e,n,r){t.hashDomain(e);let i={},s=[];d_.forEach(c=>{let l=e[c];l!=null&&(i[c]=na0[c](l),s.push({name:c,type:Hj[c]}))});let a=t.from(n),o=$2(n);return o.EIP712Domain?e4.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):o.EIP712Domain=s,a.encode(r),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return Z0(P0(l));if(c.match(/^u?int/))return j0.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&e4.throwArgumentError("invalid string","value",l),l}return e4.throwArgumentError("unsupported type","type",c)})}}}});var Yn=I0(()=>{"use strict";a_();Dj();Fj();jj()});function Uj(t,e){let n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}var t4,Us,Gs,m_,$e,ra0,ut,Gj=I0(()=>{"use strict";r7();S4();S2();Yn();C6();f3();s_();n7();xg();Q1();Ds();t4=new J(R8),Us=class extends M6{},Gs=class extends M6{},m_=class extends M6{},$e=class extends M6{static isIndexed(e){return!!(e&&e._isIndexed)}},ra0={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};ut=class{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,w0(this,"fragments",n.map(r=>N8.from(r)).filter(r=>r!=null)),w0(this,"_abiCoder",X3(new.target,"getAbiCoder")()),w0(this,"functions",{}),w0(this,"errors",{}),w0(this,"events",{}),w0(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){t4.warn("duplicate definition - constructor");return}w0(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=r.format();if(i[s]){t4.warn("duplicate definition - "+s);return}i[s]=r}),this.deploy||w0(this,"deploy",B8.from({payable:!1,type:"constructor"})),w0(this,"_isInterface",!0)}format(e){e||(e=N2.full),e===N2.sighash&&t4.throwArgumentError("interface does not support formatting sighash","format",e);let n=this.fragments.map(r=>r.format(e));return e===N2.json?JSON.stringify(n.map(r=>JSON.parse(r))):n}static getAbiCoder(){return Il}static getAddress(e){return M2(e)}static getSighash(e){return x3(A6(e.format()),0,4)}static getEventTopic(e){return A6(e.format())}getFunction(e){if(F1(e)){for(let r in this.functions)if(e===this.getSighash(r))return this.functions[r];t4.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){let r=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===r);return i.length===0?t4.throwArgumentError("no matching function","name",r):i.length>1&&t4.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}let n=this.functions[Z8.fromString(e).format()];return n||t4.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(F1(e)){let r=e.toLowerCase();for(let i in this.events)if(r===this.getEventTopic(i))return this.events[i];t4.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){let r=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===r);return i.length===0?t4.throwArgumentError("no matching event","name",r):i.length>1&&t4.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}let n=this.events[qe.fromString(e).format()];return n||t4.throwArgumentError("no matching event","signature",e),n}getError(e){if(F1(e)){let r=X3(this.constructor,"getSighash");for(let i in this.errors){let s=this.errors[i];if(e===r(s))return this.errors[i]}t4.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){let r=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===r);return i.length===0?t4.throwArgumentError("no matching error","name",r):i.length>1&&t4.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}let n=this.errors[Z8.fromString(e).format()];return n||t4.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return X3(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),X3(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));let r=P0(n);return Z0(r.slice(0,4))!==this.getSighash(e)&&t4.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Z0(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),Z0(y2([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=P0(n);return Z0(r.slice(0,4))!==this.getSighash(e)&&t4.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Z0(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Z0(y2([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=P0(n),i=null,s="",a=null,o=null,c=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{let l=Z0(r.slice(0,4)),h=ra0[l];if(h)a=this._abiCoder.decode(h.inputs,r.slice(4)),o=h.name,c=h.signature,h.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{let u=this.getError(l);a=this._abiCoder.decode(u.inputs,r.slice(4)),o=u.name,c=u.format()}catch{}break}}return t4.throwError("call revert exception"+s,J.errors.CALL_EXCEPTION,{method:e.format(),data:Z0(n),errorArgs:a,errorName:o,errorSignature:c,reason:i})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Z0(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&t4.throwError("too many arguments for "+e.format(),J.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let r=[];e.anonymous||r.push(this.getEventTopic(e));let i=(s,a)=>s.type==="string"?A6(a):s.type==="bytes"?z2(Z0(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=j0.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),P2(Z0(a),32));for(n.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&t4.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?t4.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?r.push(s.map(c=>i(o,c))):r.push(i(o,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));let r=[],i=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),n.length!==e.inputs.length&&t4.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{let c=n[o];if(a.indexed)if(a.type==="string")r.push(A6(c));else if(a.type==="bytes")r.push(z2(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([a.type],[c]))}else i.push(a),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let p=this.getEventTopic(e);(!F1(r[0],32)||r[0].toLowerCase()!==p)&&t4.throwError("fragment/topic mismatch",J.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:p,value:r[0]}),r=r.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(e5.fromObject({type:"bytes32",name:p.name})),a.push(!0)):(i.push(p),a.push(!1)):(s.push(p),a.push(!1))});let o=r!=null?this._abiCoder.decode(i,y2(r)):null,c=this._abiCoder.decode(s,n,!0),l=[],h=0,u=0;e.inputs.forEach((p,g)=>{if(p.indexed)if(o==null)l[g]=new $e({_isIndexed:!0,hash:null});else if(a[g])l[g]=new $e({_isIndexed:!0,hash:o[u++]});else try{l[g]=o[u++]}catch(f){l[g]=f}else try{l[g]=c[h++]}catch(f){l[g]=f}if(p.name&&l[p.name]==null){let f=l[g];f instanceof Error?Object.defineProperty(l,p.name,{enumerable:!0,get:()=>{throw Uj(`property ${JSON.stringify(p.name)}`,f)}}):l[p.name]=f}});for(let p=0;p<l.length;p++){let g=l[p];g instanceof Error&&Object.defineProperty(l,p,{enumerable:!0,get:()=>{throw Uj(`index ${p}`,g)}})}return Object.freeze(l)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new Gs({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:j0.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Us({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){let n=Z0(e),r=this.getError(n.substring(0,10).toLowerCase());return r?new m_({args:this._abiCoder.decode(r.inputs,"0x"+n.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}});var f_=I0(()=>{"use strict";xg();s_();Gj()});var qj,Wj=I0(()=>{"use strict";qj="abstract-provider/5.7.0"});var ia0,sa0,jg,s7,qs=I0(()=>{"use strict";S4();f3();Q1();Wj();ia0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},sa0=new J(qj),jg=class extends M6{static isForkEvent(e){return!!(e&&e._isForkEvent)}},s7=class t{constructor(){sa0.checkAbstract(new.target,t),w0(this,"_isProvider",!0)}getFeeData(){return ia0(this,void 0,void 0,function*(){let{block:e,gasPrice:n}=yield w3({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=j0.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}});var $j,Kj=I0(()=>{"use strict";$j="abstract-signer/5.7.0"});var Z7,a7,aa0,oa0,t6,dt,Hl=I0(()=>{"use strict";f3();Q1();Kj();Z7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},a7=new J($j),aa0=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],oa0=[J.errors.INSUFFICIENT_FUNDS,J.errors.NONCE_EXPIRED,J.errors.REPLACEMENT_UNDERPRICED],t6=class t{constructor(){a7.checkAbstract(new.target,t),w0(this,"_isSigner",!0)}getBalance(e){return Z7(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Z7(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Z7(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let n=yield w3(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return Z7(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield w3(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return Z7(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return Z7(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Z7(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Z7(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Z7(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let r in e)aa0.indexOf(r)===-1&&a7.throwArgumentError("invalid transaction key: "+r,"transaction",e);let n=$2(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&a7.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return Z7(this,void 0,void 0,function*(){let n=yield w3(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>Z7(this,void 0,void 0,function*(){if(i==null)return null;let s=yield this.resolveName(i);return s==null&&a7.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));let r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?a7.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&a7.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){let s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&a7.throwError("network does not support EIP-1559",J.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):a7.throwError("failed to get consistent fee data",J.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(oa0.indexOf(i.code)>=0)throw i;return a7.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&a7.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield w3(n)})}_checkProvider(e){this.provider||a7.throwError("missing provider",J.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},dt=class t extends t6{constructor(e,n){super(),w0(this,"address",e),w0(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{a7.throwError(e,J.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}}});var Ws=c1((jG0,Yj)=>{"use strict";Yj.exports=Qj;function Qj(t,e){if(!t)throw new Error(e||"Assertion failed")}Qj.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)}});var Jj=c1((UG0,g_)=>{"use strict";typeof Object.create=="function"?g_.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:g_.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}});var j7=c1(F3=>{"use strict";var ca0=Ws(),la0=Jj();F3.inherits=la0;function ha0(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function ua0(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):ha0(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}F3.toArray=ua0;function da0(t){for(var e="",n=0;n<t.length;n++)e+=eU(t[n].toString(16));return e}F3.toHex=da0;function Xj(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}F3.htonl=Xj;function pa0(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=Xj(i)),n+=tU(i.toString(16))}return n}F3.toHex32=pa0;function eU(t){return t.length===1?"0"+t:t}F3.zero2=eU;function tU(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}F3.zero8=tU;function ma0(t,e,n,r){var i=n-e;ca0(i%4===0);for(var s=new Array(i/4),a=0,o=e;a<s.length;a++,o+=4){var c;r==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=c>>>0}return s}F3.join32=ma0;function fa0(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}F3.split32=fa0;function ga0(t,e){return t>>>e|t<<32-e}F3.rotr32=ga0;function va0(t,e){return t<<e|t>>>32-e}F3.rotl32=va0;function ba0(t,e){return t+e>>>0}F3.sum32=ba0;function xa0(t,e,n){return t+e+n>>>0}F3.sum32_3=xa0;function wa0(t,e,n,r){return t+e+n+r>>>0}F3.sum32_4=wa0;function ya0(t,e,n,r,i){return t+e+n+r+i>>>0}F3.sum32_5=ya0;function za0(t,e,n,r){var i=t[e],s=t[e+1],a=r+s>>>0,o=(a<r?1:0)+n+i;t[e]=o>>>0,t[e+1]=a}F3.sum64=za0;function Ma0(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}F3.sum64_hi=Ma0;function Ca0(t,e,n,r){var i=e+r;return i>>>0}F3.sum64_lo=Ca0;function Aa0(t,e,n,r,i,s,a,o){var c=0,l=e;l=l+r>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+o>>>0,c+=l<o?1:0;var h=t+n+i+a+c;return h>>>0}F3.sum64_4_hi=Aa0;function _a0(t,e,n,r,i,s,a,o){var c=e+r+s+o;return c>>>0}F3.sum64_4_lo=_a0;function Ea0(t,e,n,r,i,s,a,o,c,l){var h=0,u=e;u=u+r>>>0,h+=u<e?1:0,u=u+s>>>0,h+=u<s?1:0,u=u+o>>>0,h+=u<o?1:0,u=u+l>>>0,h+=u<l?1:0;var p=t+n+i+a+c+h;return p>>>0}F3.sum64_5_hi=Ea0;function Sa0(t,e,n,r,i,s,a,o,c,l){var h=e+r+s+o+l;return h>>>0}F3.sum64_5_lo=Sa0;function ka0(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}F3.rotr64_hi=ka0;function Ta0(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}F3.rotr64_lo=Ta0;function Pa0(t,e,n){return t>>>n}F3.shr64_hi=Pa0;function La0(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}F3.shr64_lo=La0});var $s=c1(rU=>{"use strict";var nU=j7(),Ia0=Ws();function Ug(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}rU.BlockHash=Ug;Ug.prototype.update=function(e,n){if(e=nU.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=nU.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Ug.prototype.digest=function(e){return this.update(this._pad()),Ia0(this.pending===null),this._digest(e)};Ug.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i}});var v_=c1(Ke=>{"use strict";var Da0=j7(),U8=Da0.rotr32;function Oa0(t,e,n,r){if(t===0)return iU(e,n,r);if(t===1||t===3)return aU(e,n,r);if(t===2)return sU(e,n,r)}Ke.ft_1=Oa0;function iU(t,e,n){return t&e^~t&n}Ke.ch32=iU;function sU(t,e,n){return t&e^t&n^e&n}Ke.maj32=sU;function aU(t,e,n){return t^e^n}Ke.p32=aU;function Fa0(t){return U8(t,2)^U8(t,13)^U8(t,22)}Ke.s0_256=Fa0;function Ha0(t){return U8(t,6)^U8(t,11)^U8(t,25)}Ke.s1_256=Ha0;function Va0(t){return U8(t,7)^U8(t,18)^t>>>3}Ke.g0_256=Va0;function Ra0(t){return U8(t,17)^U8(t,19)^t>>>10}Ke.g1_256=Ra0});var lU=c1(($G0,cU)=>{"use strict";var Ks=j7(),Na0=$s(),Ba0=v_(),b_=Ks.rotl32,Vl=Ks.sum32,Za0=Ks.sum32_5,ja0=Ba0.ft_1,oU=Na0.BlockHash,Ua0=[1518500249,1859775393,2400959708,3395469782];function G8(){if(!(this instanceof G8))return new G8;oU.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ks.inherits(G8,oU);cU.exports=G8;G8.blockSize=512;G8.outSize=160;G8.hmacStrength=80;G8.padLength=64;G8.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=b_(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var h=~~(i/20),u=Za0(b_(s,5),ja0(h,a,o,c),l,r[i],Ua0[h]);l=c,c=o,o=b_(a,30),a=s,s=u}this.h[0]=Vl(this.h[0],s),this.h[1]=Vl(this.h[1],a),this.h[2]=Vl(this.h[2],o),this.h[3]=Vl(this.h[3],c),this.h[4]=Vl(this.h[4],l)};G8.prototype._digest=function(e){return e==="hex"?Ks.toHex32(this.h,"big"):Ks.split32(this.h,"big")}});var x_=c1((KG0,uU)=>{"use strict";var Qs=j7(),Ga0=$s(),Ys=v_(),qa0=Ws(),U7=Qs.sum32,Wa0=Qs.sum32_4,$a0=Qs.sum32_5,Ka0=Ys.ch32,Qa0=Ys.maj32,Ya0=Ys.s0_256,Ja0=Ys.s1_256,Xa0=Ys.g0_256,eo0=Ys.g1_256,hU=Ga0.BlockHash,to0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function q8(){if(!(this instanceof q8))return new q8;hU.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=to0,this.W=new Array(64)}Qs.inherits(q8,hU);uU.exports=q8;q8.blockSize=512;q8.outSize=256;q8.hmacStrength=192;q8.padLength=64;q8.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=Wa0(eo0(r[i-2]),r[i-7],Xa0(r[i-15]),r[i-16]);var s=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4],h=this.h[5],u=this.h[6],p=this.h[7];for(qa0(this.k.length===r.length),i=0;i<r.length;i++){var g=$a0(p,Ja0(l),Ka0(l,h,u),this.k[i],r[i]),f=U7(Ya0(s),Qa0(s,a,o));p=u,u=h,h=l,l=U7(c,g),c=o,o=a,a=s,s=U7(g,f)}this.h[0]=U7(this.h[0],s),this.h[1]=U7(this.h[1],a),this.h[2]=U7(this.h[2],o),this.h[3]=U7(this.h[3],c),this.h[4]=U7(this.h[4],l),this.h[5]=U7(this.h[5],h),this.h[6]=U7(this.h[6],u),this.h[7]=U7(this.h[7],p)};q8.prototype._digest=function(e){return e==="hex"?Qs.toHex32(this.h,"big"):Qs.split32(this.h,"big")}});var mU=c1((QG0,pU)=>{"use strict";var w_=j7(),dU=x_();function Qe(){if(!(this instanceof Qe))return new Qe;dU.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}w_.inherits(Qe,dU);pU.exports=Qe;Qe.blockSize=512;Qe.outSize=224;Qe.hmacStrength=192;Qe.padLength=64;Qe.prototype._digest=function(e){return e==="hex"?w_.toHex32(this.h.slice(0,7),"big"):w_.split32(this.h.slice(0,7),"big")}});var M_=c1((YG0,bU)=>{"use strict";var n6=j7(),no0=$s(),ro0=Ws(),W8=n6.rotr64_hi,$8=n6.rotr64_lo,fU=n6.shr64_hi,gU=n6.shr64_lo,pt=n6.sum64,y_=n6.sum64_hi,z_=n6.sum64_lo,io0=n6.sum64_4_hi,so0=n6.sum64_4_lo,ao0=n6.sum64_5_hi,oo0=n6.sum64_5_lo,vU=no0.BlockHash,co0=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G7(){if(!(this instanceof G7))return new G7;vU.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=co0,this.W=new Array(160)}n6.inherits(G7,vU);bU.exports=G7;G7.blockSize=1024;G7.outSize=512;G7.hmacStrength=192;G7.padLength=128;G7.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=xo0(r[i-4],r[i-3]),a=wo0(r[i-4],r[i-3]),o=r[i-14],c=r[i-13],l=vo0(r[i-30],r[i-29]),h=bo0(r[i-30],r[i-29]),u=r[i-32],p=r[i-31];r[i]=io0(s,a,o,c,l,h,u,p),r[i+1]=so0(s,a,o,c,l,h,u,p)}};G7.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],l=this.h[5],h=this.h[6],u=this.h[7],p=this.h[8],g=this.h[9],f=this.h[10],w=this.h[11],L=this.h[12],A=this.h[13],_=this.h[14],R=this.h[15];ro0(this.k.length===r.length);for(var G=0;G<r.length;G+=2){var K=_,Z=R,$=fo0(p,g),n0=go0(p,g),h0=lo0(p,g,f,w,L,A),X=ho0(p,g,f,w,L,A),H=this.k[G],U=this.k[G+1],P=r[G],d=r[G+1],y=ao0(K,Z,$,n0,h0,X,H,U,P,d),M=oo0(K,Z,$,n0,h0,X,H,U,P,d);K=po0(i,s),Z=mo0(i,s),$=uo0(i,s,a,o,c,l),n0=do0(i,s,a,o,c,l);var E=y_(K,Z,$,n0),O=z_(K,Z,$,n0);_=L,R=A,L=f,A=w,f=p,w=g,p=y_(h,u,y,M),g=z_(u,u,y,M),h=c,u=l,c=a,l=o,a=i,o=s,i=y_(y,M,E,O),s=z_(y,M,E,O)}pt(this.h,0,i,s),pt(this.h,2,a,o),pt(this.h,4,c,l),pt(this.h,6,h,u),pt(this.h,8,p,g),pt(this.h,10,f,w),pt(this.h,12,L,A),pt(this.h,14,_,R)};G7.prototype._digest=function(e){return e==="hex"?n6.toHex32(this.h,"big"):n6.split32(this.h,"big")};function lo0(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function ho0(t,e,n,r,i,s){var a=e&r^~e&s;return a<0&&(a+=4294967296),a}function uo0(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function do0(t,e,n,r,i,s){var a=e&r^e&s^r&s;return a<0&&(a+=4294967296),a}function po0(t,e){var n=W8(t,e,28),r=W8(e,t,2),i=W8(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function mo0(t,e){var n=$8(t,e,28),r=$8(e,t,2),i=$8(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function fo0(t,e){var n=W8(t,e,14),r=W8(t,e,18),i=W8(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function go0(t,e){var n=$8(t,e,14),r=$8(t,e,18),i=$8(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function vo0(t,e){var n=W8(t,e,1),r=W8(t,e,8),i=fU(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function bo0(t,e){var n=$8(t,e,1),r=$8(t,e,8),i=gU(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function xo0(t,e){var n=W8(t,e,19),r=W8(e,t,29),i=fU(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function wo0(t,e){var n=$8(t,e,19),r=$8(e,t,29),i=gU(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}});var yU=c1((JG0,wU)=>{"use strict";var C_=j7(),xU=M_();function Ye(){if(!(this instanceof Ye))return new Ye;xU.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}C_.inherits(Ye,xU);wU.exports=Ye;Ye.blockSize=1024;Ye.outSize=384;Ye.hmacStrength=192;Ye.padLength=128;Ye.prototype._digest=function(e){return e==="hex"?C_.toHex32(this.h.slice(0,12),"big"):C_.split32(this.h.slice(0,12),"big")}});var zU=c1(Js=>{"use strict";Js.sha1=lU();Js.sha224=mU();Js.sha256=x_();Js.sha384=yU();Js.sha512=M_()});var SU=c1(EU=>{"use strict";var Jn=j7(),yo0=$s(),Gg=Jn.rotl32,MU=Jn.sum32,Rl=Jn.sum32_3,CU=Jn.sum32_4,_U=yo0.BlockHash;function K8(){if(!(this instanceof K8))return new K8;_U.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Jn.inherits(K8,_U);EU.ripemd160=K8;K8.blockSize=512;K8.outSize=160;K8.hmacStrength=192;K8.padLength=64;K8.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],c=r,l=i,h=s,u=a,p=o,g=0;g<80;g++){var f=MU(Gg(CU(r,AU(g,i,s,a),e[Co0[g]+n],zo0(g)),_o0[g]),o);r=o,o=a,a=Gg(s,10),s=i,i=f,f=MU(Gg(CU(c,AU(79-g,l,h,u),e[Ao0[g]+n],Mo0(g)),Eo0[g]),p),c=p,p=u,u=Gg(h,10),h=l,l=f}f=Rl(this.h[1],s,u),this.h[1]=Rl(this.h[2],a,p),this.h[2]=Rl(this.h[3],o,c),this.h[3]=Rl(this.h[4],r,l),this.h[4]=Rl(this.h[0],i,h),this.h[0]=f};K8.prototype._digest=function(e){return e==="hex"?Jn.toHex32(this.h,"little"):Jn.split32(this.h,"little")};function AU(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function zo0(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Mo0(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Co0=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ao0=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_o0=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Eo0=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var TU=c1((tq0,kU)=>{"use strict";var So0=j7(),ko0=Ws();function Xs(t,e,n){if(!(this instanceof Xs))return new Xs(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(So0.toArray(e,n))}kU.exports=Xs;Xs.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ko0(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Xs.prototype.update=function(e,n){return this.inner.update(e,n),this};Xs.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var A_=c1(PU=>{"use strict";var t5=PU;t5.utils=j7();t5.common=$s();t5.sha=zU();t5.ripemd=SU();t5.hmac=TU();t5.sha1=t5.sha.sha1;t5.sha256=t5.sha.sha256;t5.sha224=t5.sha.sha224;t5.sha384=t5.sha.sha384;t5.sha512=t5.sha.sha512;t5.ripemd160=t5.ripemd.ripemd160});function ea(t,e,n){return n={path:e,exports:{},require:function(r,i){return To0(r,i??n.path)}},t(n,n.exports),n.exports}function To0(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function IU(t,e){if(!t)throw new Error(e||"Assertion failed")}function ft(t,e){this.type=t,this.p=new c2.default(e.p,16),this.red=e.prime?c2.default.red(e.prime):c2.default.mont(this.p),this.zero=new c2.default(0).toRed(this.red),this.one=new c2.default(1).toRed(this.red),this.two=new c2.default(2).toRed(this.red),this.n=e.n&&new c2.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c7(t,e){this.curve=t,this.type=e,this.precomputed=null}function l7(t){Xn.call(this,"short",t),this.a=new c2.default(t.a,16).toRed(this.red),this.b=new c2.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function W4(t,e,n,r){Xn.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new c2.default(e,16),this.y=new c2.default(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function n5(t,e,n,r){Xn.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new c2.default(0)):(this.x=new c2.default(e,16),this.y=new c2.default(n,16),this.z=new c2.default(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function mt(t){if(!(this instanceof mt))return new mt(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=q7.toArray(t.entropy,t.entropyEnc||"hex"),n=q7.toArray(t.nonce,t.nonceEnc||"hex"),r=q7.toArray(t.pers,t.persEnc||"hex");k_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}function v5(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}function Qg(t,e){if(t instanceof Qg)return t;this._importDER(t,e)||(Do0(t.r&&t.s,"Signature without r or s"),this.r=new c2.default(t.r,16),this.s=new c2.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function Oo0(){this.place=0}function __(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4)return!1;for(var i=0,s=0,a=e.place;s<r;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function LU(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}function E_(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}function o7(t){if(!(this instanceof o7))return new o7(t);typeof t=="string"&&(OU(Object.prototype.hasOwnProperty.call(Wg,t),"Unknown curve "+t),t=Wg[t]),t instanceof Wg.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var c2,Q8,k_,q7,_6,$g,Po0,Kg,Xn,T_,Lo0,Io0,qg,Wg,DU,S_,P_,Do0,Yg,Fo0,OU,Ho0,Vo0,FU,HU=I0(()=>{"use strict";c2=a4(FA()),Q8=a4(A_());k_=IU;IU.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};q7=ea(function(t,e){"use strict";var n=e;function r(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var l=0;l<a.length;l++)c[l]=a[l]|0;return c}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var l=0;l<a.length;l+=2)c.push(parseInt(a[l]+a[l+1],16))}else for(var l=0;l<a.length;l++){var h=a.charCodeAt(l),u=h>>8,p=h&255;u?c.push(u,p):c.push(p)}return c}n.toArray=r;function i(a){return a.length===1?"0"+a:a}n.zero2=i;function s(a){for(var o="",c=0;c<a.length;c++)o+=i(a[c].toString(16));return o}n.toHex=s,n.encode=function(o,c){return c==="hex"?s(o):o}}),_6=ea(function(t,e){"use strict";var n=e;n.assert=k_,n.toArray=q7.toArray,n.zero2=q7.zero2,n.toHex=q7.toHex,n.encode=q7.encode;function r(c,l,h){var u=new Array(Math.max(c.bitLength(),h)+1);u.fill(0);for(var p=1<<l+1,g=c.clone(),f=0;f<u.length;f++){var w,L=g.andln(p-1);g.isOdd()?(L>(p>>1)-1?w=(p>>1)-L:w=L,g.isubn(w)):w=0,u[f]=w,g.iushrn(1)}return u}n.getNAF=r;function i(c,l){var h=[[],[]];c=c.clone(),l=l.clone();for(var u=0,p=0,g;c.cmpn(-u)>0||l.cmpn(-p)>0;){var f=c.andln(3)+u&3,w=l.andln(3)+p&3;f===3&&(f=-1),w===3&&(w=-1);var L;f&1?(g=c.andln(7)+u&7,(g===3||g===5)&&w===2?L=-f:L=f):L=0,h[0].push(L);var A;w&1?(g=l.andln(7)+p&7,(g===3||g===5)&&f===2?A=-w:A=w):A=0,h[1].push(A),2*u===L+1&&(u=1-u),2*p===A+1&&(p=1-p),c.iushrn(1),l.iushrn(1)}return h}n.getJSF=i;function s(c,l,h){var u="_"+l;c.prototype[l]=function(){return this[u]!==void 0?this[u]:this[u]=h.call(this)}}n.cachedProperty=s;function a(c){return typeof c=="string"?n.toArray(c,"hex"):c}n.parseBytes=a;function o(c){return new c2.default(c,"hex","le")}n.intFromLE=o}),$g=_6.getNAF,Po0=_6.getJSF,Kg=_6.assert;Xn=ft;ft.prototype.point=function(){throw new Error("Not implemented")};ft.prototype.validate=function(){throw new Error("Not implemented")};ft.prototype._fixedNafMul=function(e,n){Kg(e.precomputed);var r=e._getDoubles(),i=$g(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var a=[],o,c;for(o=0;o<i.length;o+=r.step){c=0;for(var l=o+r.step-1;l>=o;l--)c=(c<<1)+i[l];a.push(c)}for(var h=this.jpoint(null,null,null),u=this.jpoint(null,null,null),p=s;p>0;p--){for(o=0;o<a.length;o++)c=a[o],c===p?u=u.mixedAdd(r.points[o]):c===-p&&(u=u.mixedAdd(r.points[o].neg()));h=h.add(u)}return h.toP()};ft.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,a=$g(n,r,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,o=o.dblp(l),c<0)break;var h=a[c];Kg(h!==0),e.type==="affine"?h>0?o=o.mixedAdd(s[h-1>>1]):o=o.mixedAdd(s[-h-1>>1].neg()):h>0?o=o.add(s[h-1>>1]):o=o.add(s[-h-1>>1].neg())}return e.type==="affine"?o.toP():o};ft.prototype._wnafMulAdd=function(e,n,r,i,s){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,l=0,h,u,p;for(h=0;h<i;h++){p=n[h];var g=p._getNAFPoints(e);a[h]=g.wnd,o[h]=g.points}for(h=i-1;h>=1;h-=2){var f=h-1,w=h;if(a[f]!==1||a[w]!==1){c[f]=$g(r[f],a[f],this._bitLength),c[w]=$g(r[w],a[w],this._bitLength),l=Math.max(c[f].length,l),l=Math.max(c[w].length,l);continue}var L=[n[f],null,null,n[w]];n[f].y.cmp(n[w].y)===0?(L[1]=n[f].add(n[w]),L[2]=n[f].toJ().mixedAdd(n[w].neg())):n[f].y.cmp(n[w].y.redNeg())===0?(L[1]=n[f].toJ().mixedAdd(n[w]),L[2]=n[f].add(n[w].neg())):(L[1]=n[f].toJ().mixedAdd(n[w]),L[2]=n[f].toJ().mixedAdd(n[w].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],_=Po0(r[f],r[w]);for(l=Math.max(_[0].length,l),c[f]=new Array(l),c[w]=new Array(l),u=0;u<l;u++){var R=_[0][u]|0,G=_[1][u]|0;c[f][u]=A[(R+1)*3+(G+1)],c[w][u]=0,o[f]=L}}var K=this.jpoint(null,null,null),Z=this._wnafT4;for(h=l;h>=0;h--){for(var $=0;h>=0;){var n0=!0;for(u=0;u<i;u++)Z[u]=c[u][h]|0,Z[u]!==0&&(n0=!1);if(!n0)break;$++,h--}if(h>=0&&$++,K=K.dblp($),h<0)break;for(u=0;u<i;u++){var h0=Z[u];h0!==0&&(h0>0?p=o[u][h0-1>>1]:h0<0&&(p=o[u][-h0-1>>1].neg()),p.type==="affine"?K=K.mixedAdd(p):K=K.add(p))}}for(h=0;h<i;h++)o[h]=null;return s?K:K.toP()};ft.BasePoint=c7;c7.prototype.eq=function(){throw new Error("Not implemented")};c7.prototype.validate=function(){return this.curve.validate(this)};ft.prototype.decodePoint=function(e,n){e=_6.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Kg(e[e.length-1]%2===0):e[0]===7&&Kg(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};c7.prototype.encodeCompressed=function(e){return this.encode(e,!0)};c7.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};c7.prototype.encode=function(e,n){return _6.encode(this._encode(n),e)};c7.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};c7.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};c7.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}};c7.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}};c7.prototype._getBeta=function(){return null};c7.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};T_=ea(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),Lo0=_6.assert;T_(l7,Xn);Io0=l7;l7.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new c2.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new c2.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],Lo0(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new c2.default(o.a,16),b:new c2.default(o.b,16)}}):a=this._getEndoBasis(r),{beta:n,lambda:r,basis:a}}};l7.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:c2.default.mont(e),r=new c2.default(2).toRed(n).redInvm(),i=r.redNeg(),s=new c2.default(3).toRed(n).redNeg().redSqrt().redMul(r),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]};l7.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new c2.default(1),a=new c2.default(0),o=new c2.default(0),c=new c2.default(1),l,h,u,p,g,f,w,L=0,A,_;r.cmpn(0)!==0;){var R=i.div(r);A=i.sub(R.mul(r)),_=o.sub(R.mul(s));var G=c.sub(R.mul(a));if(!u&&A.cmp(n)<0)l=w.neg(),h=s,u=A.neg(),p=_;else if(u&&++L===2)break;w=A,i=r,r=A,o=s,s=_,c=a,a=G}g=A.neg(),f=_;var K=u.sqr().add(p.sqr()),Z=g.sqr().add(f.sqr());return Z.cmp(K)>=0&&(g=l,f=h),u.negative&&(u=u.neg(),p=p.neg()),g.negative&&(g=g.neg(),f=f.neg()),[{a:u,b:p},{a:g,b:f}]};l7.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=s.mul(r.a),c=a.mul(i.a),l=s.mul(r.b),h=a.mul(i.b),u=e.sub(o).sub(c),p=l.add(h).neg();return{k1:u,k2:p}};l7.prototype.pointFromX=function(e,n){e=new c2.default(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)};l7.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};l7.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(n[a]),c=e[a],l=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),i[a*2]=c,i[a*2+1]=l,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var h=this._wnafMulAdd(1,i,s,a*2,r),u=0;u<a*2;u++)i[u]=null,s[u]=null;return h};T_(W4,Xn.BasePoint);l7.prototype.point=function(e,n,r){return new W4(this,e,n,r)};l7.prototype.pointFromJSON=function(e,n){return W4.fromJSON(this,e,n)};W4.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};W4.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};W4.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(o){return e.point(o[0],o[1],r)}var a=n[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};W4.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};W4.prototype.isInfinity=function(){return this.inf};W4.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};W4.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};W4.prototype.getX=function(){return this.x.fromRed()};W4.prototype.getY=function(){return this.y.fromRed()};W4.prototype.mul=function(e){return e=new c2.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};W4.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};W4.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};W4.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};W4.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};W4.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};T_(n5,Xn.BasePoint);l7.prototype.jpoint=function(e,n,r){return new n5(this,e,n,r)};n5.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};n5.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};n5.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),a=this.y.redMul(n.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),c=i.redSub(s),l=a.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),u=h.redMul(c),p=i.redMul(h),g=l.redSqr().redIAdd(u).redISub(p).redISub(p),f=l.redMul(p.redISub(g)).redISub(a.redMul(u)),w=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,f,w)};n5.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,a=e.y.redMul(n).redMul(this.z),o=r.redSub(i),c=s.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),h=l.redMul(o),u=r.redMul(l),p=c.redSqr().redIAdd(h).redISub(u).redISub(u),g=c.redMul(u.redISub(p)).redISub(s.redMul(h)),f=this.z.redMul(o);return this.curve.jpoint(p,g,f)};n5.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,c=this.z,l=c.redSqr().redSqr(),h=o.redAdd(o);for(n=0;n<e;n++){var u=a.redSqr(),p=h.redSqr(),g=p.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(l)),w=a.redMul(p),L=f.redSqr().redISub(w.redAdd(w)),A=w.redISub(L),_=f.redMul(A);_=_.redIAdd(_).redISub(g);var R=h.redMul(c);n+1<e&&(l=l.redMul(g)),a=L,c=R,h=_}return this.curve.jpoint(a,h.redMul(s),c)};n5.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};n5.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(o).redISub(o),h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),e=l,n=c.redMul(o.redISub(l)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),f=this.x.redAdd(p).redSqr().redISub(u).redISub(g);f=f.redIAdd(f);var w=u.redAdd(u).redIAdd(u),L=w.redSqr(),A=g.redIAdd(g);A=A.redIAdd(A),A=A.redIAdd(A),e=L.redISub(f).redISub(f),n=w.redMul(f.redISub(e)).redISub(A),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};n5.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(o).redISub(o);e=l;var h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),n=c.redMul(o.redISub(l)).redISub(h),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),p=this.y.redSqr(),g=this.x.redMul(p),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var w=g.redIAdd(g);w=w.redIAdd(w);var L=w.redAdd(w);e=f.redSqr().redISub(L),r=this.y.redAdd(this.z).redSqr().redISub(p).redISub(u);var A=p.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),n=f.redMul(w.redISub(e)).redISub(A)}return this.curve.jpoint(e,n,r)};n5.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),a=n.redSqr(),o=r.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),l=n.redAdd(n);l=l.redIAdd(l);var h=l.redMul(o),u=c.redSqr().redISub(h.redAdd(h)),p=h.redISub(u),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var f=c.redMul(p).redISub(g),w=r.redAdd(r).redMul(i);return this.curve.jpoint(u,f,w)};n5.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(n).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var h=s.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(l),u=n.redMul(h);u=u.redIAdd(u),u=u.redIAdd(u);var p=this.x.redMul(c).redISub(u);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.y.redMul(h.redMul(l.redISub(h)).redISub(o.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(c);return this.curve.jpoint(p,g,f)};n5.prototype.mul=function(e,n){return e=new c2.default(e,n),this.curve._wnafMul(this,e)};n5.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};n5.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};n5.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};n5.prototype.isInfinity=function(){return this.z.cmpn(0)===0};qg=ea(function(t,e){"use strict";var n=e;n.base=Xn,n.short=Io0,n.mont=null,n.edwards=null}),Wg=ea(function(t,e){"use strict";var n=e,r=_6.assert;function i(o){o.type==="short"?this.curve=new qg.short(o):o.type==="edwards"?this.curve=new qg.edwards(o):this.curve=new qg.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(o,c){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Q8.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Q8.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Q8.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Q8.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Q8.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Q8.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Q8.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Q8.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});DU=mt;mt.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};mt.prototype._hmac=function(){return new Q8.default.hmac(this.hash,this.K)};mt.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};mt.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=q7.toArray(e,n),r=q7.toArray(r,i),k_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};mt.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=q7.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(r),this._reseed++,q7.encode(a,n)};S_=_6.assert;P_=v5;v5.fromPublic=function(e,n,r){return n instanceof v5?n:new v5(e,{pub:n,pubEnc:r})};v5.fromPrivate=function(e,n,r){return n instanceof v5?n:new v5(e,{priv:n,privEnc:r})};v5.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};v5.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};v5.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};v5.prototype._importPrivate=function(e,n){this.priv=new c2.default(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};v5.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?S_(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&S_(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};v5.prototype.derive=function(e){return e.validate()||S_(e.validate(),"public point not validated"),e.mul(this.priv).getX()};v5.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};v5.prototype.verify=function(e,n){return this.ec.verify(e,n,this)};v5.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};Do0=_6.assert;Yg=Qg;Qg.prototype._importDER=function(e,n){e=_6.toArray(e,n);var r=new Oo0;if(e[r.place++]!==48)return!1;var i=__(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=__(e,r);if(s===!1)return!1;var a=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var o=__(e,r);if(o===!1||e.length!==o+r.place)return!1;var c=e.slice(r.place,o+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new c2.default(a),this.s=new c2.default(c),this.recoveryParam=null,!0};Qg.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=LU(n),r=LU(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];E_(i,n.length),i=i.concat(n),i.push(2),E_(i,r.length);var s=i.concat(r),a=[48];return E_(a,s.length),a=a.concat(s),_6.encode(a,e)};Fo0=function(){throw new Error("unsupported")},OU=_6.assert;Ho0=o7;o7.prototype.keyPair=function(e){return new P_(this,e)};o7.prototype.keyFromPrivate=function(e,n){return P_.fromPrivate(this,e,n)};o7.prototype.keyFromPublic=function(e,n){return P_.fromPublic(this,e,n)};o7.prototype.genKeyPair=function(e){e||(e={});for(var n=new DU({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Fo0(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new c2.default(2));;){var s=new c2.default(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};o7.prototype._truncateToN=function(e,n){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};o7.prototype.sign=function(e,n,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),n=this.keyFromPrivate(n,r),e=this._truncateToN(new c2.default(e,16));for(var s=this.n.byteLength(),a=n.getPrivate().toArray("be",s),o=e.toArray("be",s),c=new DU({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new c2.default(1)),h=0;;h++){var u=i.k?i.k(h):new c2.default(c.generate(this.n.byteLength()));if(u=this._truncateToN(u,!0),!(u.cmpn(1)<=0||u.cmp(l)>=0)){var p=this.g.mul(u);if(!p.isInfinity()){var g=p.getX(),f=g.umod(this.n);if(f.cmpn(0)!==0){var w=u.invm(this.n).mul(f.mul(n.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var L=(p.getY().isOdd()?1:0)|(g.cmp(f)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),L^=1),new Yg({r:f,s:w,recoveryParam:L})}}}}}};o7.prototype.verify=function(e,n,r,i){e=this._truncateToN(new c2.default(e,16)),r=this.keyFromPublic(r,i),n=new Yg(n,"hex");var s=n.r,a=n.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),l=o.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,r.getPublic(),l),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(c,r.getPublic(),l),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)};o7.prototype.recoverPubKey=function(t,e,n,r){OU((3&n)===n,"The recovery param is more than two bits"),e=new Yg(e,r);var i=this.n,s=new c2.default(t),a=e.r,o=e.s,c=n&1,l=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var h=e.r.invm(i),u=i.sub(s).mul(h).umod(i),p=o.mul(h).umod(i);return this.g.mulAdd(u,a,p)};o7.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new Yg(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};Vo0=ea(function(t,e){"use strict";var n=e;n.version="6.5.4",n.utils=_6,n.rand=function(){throw new Error("unsupported")},n.curve=qg,n.curves=Wg,n.ec=Ho0,n.eddsa=null}),FU=Vo0.ec});var VU,RU=I0(()=>{"use strict";VU="signing-key/5.7.0"});function Y8(){return L_||(L_=new FU("secp256k1")),L_}function Jg(t,e){let n=V8(e),r={r:P0(n.r),s:P0(n.s)};return"0x"+Y8().recoverPubKey(P0(t),r,n.recoveryParam).encode("hex",!1)}function Nl(t,e){let n=P0(t);if(n.length===32){let r=new h7(n);return e?"0x"+Y8().keyFromPrivate(n).getPublic(!0,"hex"):r.publicKey}else{if(n.length===33)return e?Z0(n):"0x"+Y8().keyFromPublic(n).getPublic(!1,"hex");if(n.length===65)return e?"0x"+Y8().keyFromPublic(n).getPublic(!0,"hex"):Z0(n)}return I_.throwArgumentError("invalid public or private key","key","[REDACTED]")}var I_,L_,h7,Bl=I0(()=>{"use strict";HU();S2();f3();Q1();RU();I_=new J(VU),L_=null;h7=class{constructor(e){w0(this,"curve","secp256k1"),w0(this,"privateKey",Z0(e)),g5(this.privateKey)!==32&&I_.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let n=Y8().keyFromPrivate(P0(this.privateKey));w0(this,"publicKey","0x"+n.getPublic(!1,"hex")),w0(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),w0(this,"_isSigningKey",!0)}_addPoint(e){let n=Y8().keyFromPublic(P0(this.publicKey)),r=Y8().keyFromPublic(P0(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let n=Y8().keyFromPrivate(P0(this.privateKey)),r=P0(e);r.length!==32&&I_.throwArgumentError("bad digest length","digest",e);let i=n.sign(r,{canonical:!0});return V8({recoveryParam:i.recoveryParam,r:P2("0x"+i.r.toString(16),32),s:P2("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let n=Y8().keyFromPrivate(P0(this.privateKey)),r=Y8().keyFromPublic(P0(Nl(e)));return P2("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}});var NU,BU=I0(()=>{"use strict";NU="transactions/5.7.0"});function F_(t){return t==="0x"?null:M2(t)}function b5(t){return t==="0x"?Vs:j0.from(t)}function u7(t){let e=Nl(t);return M2(x3(z2(x3(e,1)),12))}function er(t,e){return u7(Jg(P0(t),e))}function E6(t,e){let n=z6(j0.from(t).toHexString());return n.length>32&&x5.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function D_(t,e){return{address:M2(t),storageKeys:(e||[]).map((n,r)=>(g5(n)!==32&&x5.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function S6(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&x5.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),D_(n[0],n[1])):D_(n.address,n.storageKeys));let e=Object.keys(t).map(n=>{let r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return D_(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function ZU(t){return S6(t).map(e=>[e.address,e.storageKeys])}function jU(t,e){if(t.gasPrice!=null){let r=j0.from(t.gasPrice),i=j0.from(t.maxFeePerGas||0);r.eq(i)||x5.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}let n=[E6(t.chainId||0,"chainId"),E6(t.nonce||0,"nonce"),E6(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),E6(t.maxFeePerGas||0,"maxFeePerGas"),E6(t.gasLimit||0,"gasLimit"),t.to!=null?M2(t.to):"0x",E6(t.value||0,"value"),t.data||"0x",ZU(t.accessList||[])];if(e){let r=V8(e);n.push(E6(r.recoveryParam,"recoveryParam")),n.push(z6(r.r)),n.push(z6(r.s))}return E4(["0x02",We(n)])}function UU(t,e){let n=[E6(t.chainId||0,"chainId"),E6(t.nonce||0,"nonce"),E6(t.gasPrice||0,"gasPrice"),E6(t.gasLimit||0,"gasLimit"),t.to!=null?M2(t.to):"0x",E6(t.value||0,"value"),t.data||"0x",ZU(t.accessList||[])];if(e){let r=V8(e);n.push(E6(r.recoveryParam,"recoveryParam")),n.push(z6(r.r)),n.push(z6(r.s))}return E4(["0x01",We(n)])}function Bo0(t,e){Is(t,No0);let n=[];Ro0.forEach(function(a){let o=t[a.name]||[],c={};a.numeric&&(c.hexPad="left"),o=P0(Z0(o,c)),a.length&&o.length!==a.length&&o.length>0&&x5.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=z6(o),o.length>a.maxLength&&x5.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),n.push(Z0(o))});let r=0;if(t.chainId!=null?(r=t.chainId,typeof r!="number"&&x5.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!je(e)&&e.v>28&&(r=Math.floor((e.v-35)/2)),r!==0&&(n.push(Z0(r)),n.push("0x"),n.push("0x")),!e)return We(n);let i=V8(e),s=27+i.recoveryParam;return r!==0?(n.pop(),n.pop(),n.pop(),s+=r*2+8,i.v>28&&i.v!==s&&x5.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&x5.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(Z0(s)),n.push(z6(P0(i.r))),n.push(z6(P0(i.s))),We(n)}function Zl(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&x5.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Bo0(t,e);switch(t.type){case 1:return UU(t,e);case 2:return jU(t,e);default:break}return x5.throwError(`unsupported transaction type: ${t.type}`,J.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function GU(t,e,n){try{let r=b5(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{x5.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=P2(e[1],32),t.s=P2(e[2],32);try{let r=z2(n(t));t.from=er(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Zo0(t){let e=Tl(t.slice(1));e.length!==9&&e.length!==12&&x5.throwArgumentError("invalid component count for transaction type: 2","payload",Z0(t));let n=b5(e[2]),r=b5(e[3]),i={type:2,chainId:b5(e[0]).toNumber(),nonce:b5(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:b5(e[4]),to:F_(e[5]),value:b5(e[6]),data:e[7],accessList:S6(e[8])};return e.length===9||(i.hash=z2(t),GU(i,e.slice(9),jU)),i}function jo0(t){let e=Tl(t.slice(1));e.length!==8&&e.length!==11&&x5.throwArgumentError("invalid component count for transaction type: 1","payload",Z0(t));let n={type:1,chainId:b5(e[0]).toNumber(),nonce:b5(e[1]).toNumber(),gasPrice:b5(e[2]),gasLimit:b5(e[3]),to:F_(e[4]),value:b5(e[5]),data:e[6],accessList:S6(e[7])};return e.length===8||(n.hash=z2(t),GU(n,e.slice(8),UU)),n}function Uo0(t){let e=Tl(t);e.length!==9&&e.length!==6&&x5.throwArgumentError("invalid raw transaction","rawTransaction",t);let n={nonce:b5(e[0]).toNumber(),gasPrice:b5(e[1]),gasLimit:b5(e[2]),to:F_(e[3]),value:b5(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=j0.from(e[6]).toNumber()}catch{return n}if(n.r=P2(e[7],32),n.s=P2(e[8],32),j0.from(n.r).isZero()&&j0.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27,i=e.slice(0,6);n.chainId!==0&&(i.push(Z0(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);let s=z2(We(i));try{n.from=er(s,{r:Z0(n.r),s:Z0(n.s),recoveryParam:r})}catch{}n.hash=z2(t)}return n.type=null,n}function Xg(t){let e=P0(t);if(e[0]>127)return Uo0(e);switch(e[0]){case 1:return jo0(e);case 2:return Zo0(e);default:break}return x5.throwError(`unsupported transaction type: ${e[0]}`,J.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}var x5,O_,Ro0,No0,Je=I0(()=>{"use strict";r7();S4();S2();Kn();C6();f3();Mg();Bl();Q1();BU();x5=new J(NU),O_=function(t){return t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559",t}(O_||{});Ro0=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],No0={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0}});var qU,WU=I0(()=>{"use strict";qU="contracts/5.7.0"});function ev(t,e){return gt(this,void 0,void 0,function*(){let n=yield e;typeof n!="string"&&S3.throwArgumentError("invalid address or ENS name","name",n);try{return M2(n)}catch{}t||S3.throwError("a provider or signer is needed to resolve ENS names",J.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let r=yield t.resolveName(n);return r==null&&S3.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r})}function jl(t,e,n){return gt(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((r,i)=>jl(t,Array.isArray(e)?e[i]:e[r.name],r))):n.type==="address"?yield ev(t,e):n.type==="tuple"?yield jl(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>jl(t,r,n.arrayChildren))):Promise.reject(S3.makeError("invalid value for array",J.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function rv(t,e,n){return gt(this,void 0,void 0,function*(){let r={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(r=$2(n.pop())),S3.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?r.from?r.from=w3({override:ev(t.signer,r.from),signer:t.signer.getAddress()}).then(l=>gt(this,void 0,void 0,function*(){return M2(l.signer)!==l.override&&S3.throwError("Contract with a Signer cannot override from",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):r.from=t.signer.getAddress():r.from&&(r.from=ev(t.provider,r.from));let i=yield w3({args:jl(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:w3(r)||{}}),s=t.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=j0.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=j0.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=j0.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=j0.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=j0.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=S6(o.accessList)),a.gasLimit==null&&e.gas!=null){let l=21e3,h=P0(s);for(let u=0;u<h.length;u++)l+=4,h[u]&&(l+=64);a.gasLimit=j0.from(e.gas).add(l)}if(o.value){let l=j0.from(o.value);!l.isZero()&&!e.payable&&S3.throwError("non-payable method cannot override value",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),a.value=l}o.customData&&(a.customData=$2(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;let c=Object.keys(r).filter(l=>r[l]!=null);return c.length&&S3.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,J.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),a})}function qo0(t,e){return function(...n){return rv(t,e,n)}}function Wo0(t,e){let n=t.signer||t.provider;return function(...r){return gt(this,void 0,void 0,function*(){n||S3.throwError("estimate require a provider or signer",J.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield rv(t,e,r);return yield n.estimateGas(i)})}}function KU(t,e){let n=e.wait.bind(e);e.wait=r=>n(r).then(i=>(i.events=i.logs.map(s=>{let a=J3(s),o=null;try{o=t.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(c,l)=>t.interface.decodeEventLog(o.eventFragment,c,l),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>t.provider,a.getBlock=()=>t.provider.getBlock(i.blockHash),a.getTransaction=()=>t.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function QU(t,e,n){let r=t.signer||t.provider;return function(...i){return gt(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){let c=$2(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));let a=yield rv(t,e,i),o=yield r.call(a,s);try{let c=t.interface.decodeFunctionResult(e,o);return n&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===J.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=a),c}})}}function $o0(t,e){return function(...n){return gt(this,void 0,void 0,function*(){t.signer||S3.throwError("sending a transaction requires a signer",J.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());let r=yield rv(t,e,n),i=yield t.signer.sendTransaction(r);return KU(t,i),i})}}function $U(t,e,n){return e.constant?QU(t,e,n):$o0(t,e)}function YU(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}var gt,S3,Go0,tr,H_,tv,nv,nr,vt,ta,JU=I0(()=>{"use strict";f_();qs();Hl();r7();S4();S2();f3();Je();Q1();WU();gt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},S3=new J(qU),Go0={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};tr=class{constructor(e,n){w0(this,"tag",e),w0(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(r=>n||r.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let n=this.listenerCount();return this._listeners=this._listeners.filter(r=>{let i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),n}prepareEvent(e){}getEmit(e){return[e]}},H_=class extends tr{constructor(){super("error",null)}},tv=class extends tr{constructor(e,n,r,i){let s={address:e},a=n.getEventTopic(r);i?(a!==i[0]&&S3.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(YU(s),s),w0(this,"address",e),w0(this,"interface",n),w0(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,r)=>this.interface.decodeEventLog(this.fragment,n,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){let n=Fs(e.args);if(n.length)throw n[0].error;let r=(e.args||[]).slice();return r.push(e),r}},nv=class extends tr{constructor(e,n){super("*",{address:e}),w0(this,"address",e),w0(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{let n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(r,i)=>this.interface.decodeEventLog(n.eventFragment,r,i),e.args=n.args}catch{}}},nr=class{constructor(e,n,r){w0(this,"interface",X3(new.target,"getInterface")(n)),r==null?(w0(this,"provider",null),w0(this,"signer",null)):t6.isSigner(r)?(w0(this,"provider",r.provider||null),w0(this,"signer",r)):s7.isProvider(r)?(w0(this,"provider",r),w0(this,"signer",null)):S3.throwArgumentError("invalid signer or provider","signerOrProvider",r),w0(this,"callStatic",{}),w0(this,"estimateGas",{}),w0(this,"functions",{}),w0(this,"populateTransaction",{}),w0(this,"filters",{});{let a={};Object.keys(this.interface.events).forEach(o=>{let c=this.interface.events[o];w0(this.filters,o,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),a[c.name]||(a[c.name]=[]),a[c.name].push(o)}),Object.keys(a).forEach(o=>{let c=a[o];c.length===1?w0(this.filters,o,this.filters[c[0]]):S3.warn(`Duplicate definition of ${o} (${c.join(", ")})`)})}if(w0(this,"_runningEvents",{}),w0(this,"_wrappedEmits",{}),e==null&&S3.throwArgumentError("invalid contract address or ENS name","addressOrName",e),w0(this,"address",e),this.provider)w0(this,"resolvedAddress",ev(this.provider,e));else try{w0(this,"resolvedAddress",Promise.resolve(M2(e)))}catch{S3.throwError("provider is required to use ENS name as contract address",J.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});let i={},s={};Object.keys(this.interface.functions).forEach(a=>{let o=this.interface.functions[a];if(s[a]){S3.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{let c=o.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(a)}this[a]==null&&w0(this,a,$U(this,o,!0)),this.functions[a]==null&&w0(this.functions,a,$U(this,o,!1)),this.callStatic[a]==null&&w0(this.callStatic,a,QU(this,o,!0)),this.populateTransaction[a]==null&&w0(this.populateTransaction,a,qo0(this,o)),this.estimateGas[a]==null&&w0(this.estimateGas,a,Wo0(this,o))}),Object.keys(i).forEach(a=>{let o=i[a];if(o.length>1)return;a=a.substring(1);let c=o[0];try{this[a]==null&&w0(this,a,this[c])}catch{}this.functions[a]==null&&w0(this.functions,a,this.functions[c]),this.callStatic[a]==null&&w0(this.callStatic,a,this.callStatic[c]),this.populateTransaction[a]==null&&w0(this.populateTransaction,a,this.populateTransaction[c]),this.estimateGas[a]==null&&w0(this.estimateGas,a,this.estimateGas[c])})}static getContractAddress(e){return $n(e)}static getInterface(e){return ut.isInterface(e)?e:new ut(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&S3.throwError("contract not deployed",J.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||S3.throwError("sending a transactions require a signer",J.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let n=$2(e||{});return["from","to"].forEach(function(r){n[r]!=null&&S3.throwError("cannot override "+r,J.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new dt(e,this.provider));let n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&w0(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return $e.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new H_);if(e==="event")return this._normalizeRunningEvent(new tr("event",null));if(e==="*")return this._normalizeRunningEvent(new nv(this.address,this.interface));let n=this.interface.getEvent(e);return this._normalizeRunningEvent(new tv(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{let r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");let i=this.interface.getEvent(r);return this._normalizeRunningEvent(new tv(this.address,this.interface,i,e.topics))}catch{}let n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new tr(YU(n),n))}return this._normalizeRunningEvent(new nv(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];let n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,r){let i=J3(n);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(n.blockHash),i.getTransaction=()=>this.provider.getTransaction(n.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(i),i}_addEventListener(e,n,r){if(this.provider||S3.throwError("events require a provider or a signer with a provider",J.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let i=s=>{let a=this._wrapEvent(e,s,n);if(a.decodeError==null)try{let o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,n,r){let i=this._getRunningEvent(e),s=$2(i.filter);return typeof n=="string"&&F1(n,32)?(r!=null&&S3.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),s.blockHash=n):(s.fromBlock=n??0,s.toBlock=r??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;let r=this._getRunningEvent(e),i=r.run(n)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,r)=>n+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){let n=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{n.push(i)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(let r in this._runningEvents){let i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}let n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(n),this._checkRunningEvents(r),this}removeListener(e,n){return this.off(e,n)}},vt=class extends nr{},ta=class{constructor(e,n,r){let i=null;typeof n=="string"?i=n:X6(n)?i=Z0(n):n&&typeof n.object=="string"?i=n.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!F1(i)||i.length%2)&&S3.throwArgumentError("invalid bytecode","bytecode",n),r&&!t6.isSigner(r)&&S3.throwArgumentError("invalid signer","signer",r),w0(this,"bytecode",i),w0(this,"interface",X3(new.target,"getInterface")(e)),w0(this,"signer",r||null)}getDeployTransaction(...e){let n={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){n=$2(e.pop());for(let r in n)if(!Go0[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{n[r]!=null&&S3.throwError("cannot override "+r,J.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.value&&!j0.from(n.value).isZero()&&!this.interface.deploy.payable&&S3.throwError("non-payable constructor cannot override value",J.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),S3.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),n.data=Z0(y2([this.bytecode,this.interface.encodeDeploy(e)])),n}deploy(...e){return gt(this,void 0,void 0,function*(){let n={};e.length===this.interface.deploy.inputs.length+1&&(n=e.pop()),S3.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");let r=yield jl(this.signer,e,this.interface.deploy.inputs);r.push(n);let i=this.getDeployTransaction(...r),s=yield this.signer.sendTransaction(i),a=X3(this.constructor,"getContractAddress")(s),o=X3(this.constructor,"getContract")(a,this.interface,this.signer);return KU(o,s),w0(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,n){e==null&&S3.throwError("missing compiler output",J.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));let r=e.abi,i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,n)}static getInterface(e){return vt.getInterface(e)}static getContractAddress(e){return $n(e)}static getContract(e,n,r){return new vt(e,n,r)}}});var iv,Fq0,Xe,sv=I0(()=>{"use strict";S2();f3();iv=class{constructor(e){w0(this,"alphabet",e),w0(this,"base",e.length),w0(this,"_alphabetMap",{}),w0(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=P0(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let a=n[s];for(let o=0;o<r.length;++o)a+=r[o]<<8,r[o]=a%this.base,a=a/this.base|0;for(;a>0;)r.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<n.length;++a)s+=n[a]*this.base,n[a]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return P0(new Uint8Array(n.reverse()))}},Fq0=new iv("abcdefghijklmnopqrstuvwxyz234567"),Xe=new iv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")});var e9,V_=I0(()=>{"use strict";e9=function(t){return t.sha256="sha256",t.sha512="sha512",t}(e9||{})});var XU,eG=I0(()=>{"use strict";XU="sha2/5.7.0"});function Ul(t){return"0x"+na.default.ripemd160().update(P0(t)).digest("hex")}function r6(t){return"0x"+na.default.sha256().update(P0(t)).digest("hex")}function R_(t){return"0x"+na.default.sha512().update(P0(t)).digest("hex")}function t9(t,e,n){return e9[t]||Ko0.throwError("unsupported algorithm "+t,J.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+na.default.hmac(na.default[t],P0(e)).update(P0(n)).digest("hex")}var na,Ko0,tG=I0(()=>{"use strict";na=a4(A_());S2();V_();Q1();eG();Ko0=new J(XU)});var rr=I0(()=>{"use strict";tG();V_()});function ir(t,e,n,r,i){t=P0(t),e=P0(e);let s,a=1,o=new Uint8Array(r),c=new Uint8Array(e.length+4);c.set(e);let l,h;for(let u=1;u<=a;u++){c[e.length]=u>>24&255,c[e.length+1]=u>>16&255,c[e.length+2]=u>>8&255,c[e.length+3]=u&255;let p=P0(t9(i,t,c));s||(s=p.length,h=new Uint8Array(s),a=Math.ceil(r/s),l=r-(a-1)*s),h.set(p);for(let w=1;w<n;w++){p=P0(t9(i,t,p));for(let L=0;L<s;L++)h[L]^=p[L]}let g=(u-1)*s,f=u===a?l:s;o.set(P0(h).slice(0,f),g)}return Z0(o)}var nG=I0(()=>{"use strict";S2();rr()});var av=I0(()=>{"use strict";nG()});var rG,iG=I0(()=>{"use strict";rG="wordlists/5.7.0"});var Qo0,sG,W7,N_=I0(()=>{"use strict";Yn();f3();Q1();iG();Qo0=!1,sG=new J(rG),W7=class t{constructor(e){sG.checkAbstract(new.target,t),w0(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let n=[];for(let r=0;r<2048;r++){let i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";n.push(i)}return A6(n.join(`
`)+`
`)}static register(e,n){if(n||(n=e.locale),Qo0)try{let r=window;r._ethers&&r._ethers.wordlists&&(r._ethers.wordlists[n]||w0(r._ethers.wordlists,n,e))}catch{}}}});function aG(t){if(Gl==null&&(Gl=Yo0.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),W7.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Gl=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Yo0,Gl,B_,Z_,oG=I0(()=>{"use strict";N_();Yo0="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",Gl=null;B_=class extends W7{constructor(){super("en")}getWord(e){return aG(this),Gl[e]}getWordIndex(e){return aG(this),Gl.indexOf(e)}},Z_=new B_;W7.register(Z_)});var bt,cG=I0(()=>{"use strict";oG();bt={en:Z_}});var j_=I0(()=>{"use strict";N_();cG()});var lG,hG=I0(()=>{"use strict";lG="hdnode/5.7.0"});function dG(t){return(1<<t)-1<<8-t}function ec0(t){return(1<<t)-1}function ov(t){return P2(Z0(t),32)}function uG(t){return Xe.encode(y2([t,x3(r6(r6(t)),0,4)]))}function U_(t){if(t==null)return bt.en;if(typeof t=="string"){let e=bt[t];return e==null&&ql.throwArgumentError("unknown locale","wordlist",t),e}return t}function G_(t,e){e||(e="");let n=Z2("mnemonic"+e,X5.NFKD);return ir(Z2(t,X5.NFKD),n,2048,64,"sha512")}function sa(t,e){e=U_(e),ql.checkNormalize();let n=e.split(t);if(n.length%3!==0)throw new Error("invalid mnemonic");let r=P0(new Uint8Array(Math.ceil(11*n.length/8))),i=0;for(let l=0;l<n.length;l++){let h=e.getWordIndex(n[l].normalize("NFKD"));if(h===-1)throw new Error("invalid mnemonic");for(let u=0;u<11;u++)h&1<<10-u&&(r[i>>3]|=1<<7-i%8),i++}let s=32*n.length/3,a=n.length/3,o=dG(a);if((P0(r6(r.slice(0,s/8)))[0]&o)!==(r[r.length-1]&o))throw new Error("invalid checksum");return Z0(r.slice(0,s/8))}function sr(t,e){if(e=U_(e),t=P0(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let n=[0],r=11;for(let a=0;a<t.length;a++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=t[a],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=t[a]>>8-r,n.push(t[a]&ec0(8-r)),r+=3);let i=t.length/4,s=P0(r6(t))[0]&dG(i);return n[n.length-1]<<=i,n[n.length-1]|=s>>8-i,e.join(n.map(a=>e.getWord(a)))}function pG(t,e){try{return sa(t,e),!0}catch{}return!1}function mG(t){return(typeof t!="number"||t<0||t>=ia||t%1)&&ql.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}var ql,Jo0,Xo0,ia,ra,n9,J8,cv=I0(()=>{"use strict";sv();S2();S4();H5();av();f3();Bl();rr();Je();j_();Q1();hG();ql=new J(lG),Jo0=j0.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xo0=Z2("Bitcoin seed"),ia=2147483648;ra={},n9="m/44'/60'/0'/0/0",J8=class t{constructor(e,n,r,i,s,a,o,c){if(e!==ra)throw new Error("HDNode constructor cannot be called directly");if(n){let l=new h7(n);w0(this,"privateKey",l.privateKey),w0(this,"publicKey",l.compressedPublicKey)}else w0(this,"privateKey",null),w0(this,"publicKey",Z0(r));w0(this,"parentFingerprint",i),w0(this,"fingerprint",x3(Ul(r6(this.publicKey)),0,4)),w0(this,"address",u7(this.publicKey)),w0(this,"chainCode",s),w0(this,"index",a),w0(this,"depth",o),c==null?(w0(this,"mnemonic",null),w0(this,"path",null)):typeof c=="string"?(w0(this,"mnemonic",null),w0(this,"path",c)):(w0(this,"mnemonic",c),w0(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return uG(y2([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Z0(this.depth),this.parentFingerprint,P2(Z0(this.index),4),this.chainCode,this.privateKey!=null?y2(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(ra,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let n=this.path;n&&(n+="/"+(e&~ia));let r=new Uint8Array(37);if(e&ia){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(P0(this.privateKey),1),n&&(n+="'")}else r.set(P0(this.publicKey));for(let u=24;u>=0;u-=8)r[33+(u>>3)]=e>>24-u&255;let i=P0(t9(e9.sha512,this.chainCode,r)),s=i.slice(0,32),a=i.slice(32),o=null,c=null;this.privateKey?o=ov(j0.from(s).add(this.privateKey).mod(Jo0)):c=new h7(Z0(s))._addPoint(this.publicKey);let l=n,h=this.mnemonic;return h&&(l=Object.freeze({phrase:h.phrase,path:n,locale:h.locale||"en"})),new t(ra,o,c,this.fingerprint,ov(a),e,this.depth+1,l)}derivePath(e){let n=e.split("/");if(n.length===0||n[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);n[0]==="m"&&n.shift();let r=this;for(let i=0;i<n.length;i++){let s=n[i];if(s.match(/^[0-9]+'$/)){let a=parseInt(s.substring(0,s.length-1));if(a>=ia)throw new Error("invalid path index - "+s);r=r._derive(ia+a)}else if(s.match(/^[0-9]+$/)){let a=parseInt(s);if(a>=ia)throw new Error("invalid path index - "+s);r=r._derive(a)}else throw new Error("invalid path component - "+s)}return r}static _fromSeed(e,n){let r=P0(e);if(r.length<16||r.length>64)throw new Error("invalid seed");let i=P0(t9(e9.sha512,Xo0,r));return new t(ra,ov(i.slice(0,32)),null,"0x00000000",ov(i.slice(32)),0,0,n)}static fromMnemonic(e,n,r){return r=U_(r),e=sr(sa(e,r),r),t._fromSeed(G_(e,n),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let n=Xe.decode(e);(n.length!==82||uG(n.slice(0,78))!==e)&&ql.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let r=n[4],i=Z0(n.slice(5,9)),s=parseInt(Z0(n.slice(9,13)).substring(2),16),a=Z0(n.slice(13,45)),o=n.slice(45,78);switch(Z0(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(ra,null,Z0(o),i,a,s,r,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new t(ra,Z0(o.slice(1)),null,i,a,s,r,null)}return ql.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}});var fG,gG=I0(()=>{"use strict";fG="random/5.7.0"});function tc0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}function X8(t){(t<=0||t>1024||t%1||t!=t)&&q_.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return lv.getRandomValues(e),P0(e)}var q_,vG,lv,bG=I0(()=>{"use strict";S2();Q1();gG();q_=new J(fG);vG=tc0(),lv=vG.crypto||vG.msCrypto;(!lv||!lv.getRandomValues)&&(q_.warn("WARNING: Missing strong random number source"),lv={getRandomValues:function(t){return q_.throwError("no secure random source avaialble",J.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})});function Wl(t){t=t.slice();for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}var xG=I0(()=>{"use strict"});var $l=I0(()=>{"use strict";bG();xG()});var $_=c1((W_,wG)=>{"use strict";(function(t){function e(S){return parseInt(S)===S}function n(S){if(!e(S.length))return!1;for(var D=0;D<S.length;D++)if(!e(S[D])||S[D]<0||S[D]>255)return!1;return!0}function r(S,D){if(S.buffer&&ArrayBuffer.isView(S)&&S.name==="Uint8Array")return D&&(S.slice?S=S.slice():S=Array.prototype.slice.call(S)),S;if(Array.isArray(S)){if(!n(S))throw new Error("Array contains invalid value: "+S);return new Uint8Array(S)}if(e(S.length)&&n(S))return new Uint8Array(S);throw new Error("unsupported array-like object")}function i(S){return new Uint8Array(S)}function s(S,D,I,m,z){(m!=null||z!=null)&&(S.slice?S=S.slice(m,z):S=Array.prototype.slice.call(S,m,z)),D.set(S,I)}var a=function(){function S(I){var m=[],z=0;for(I=encodeURI(I);z<I.length;){var r0=I.charCodeAt(z++);r0===37?(m.push(parseInt(I.substr(z,2),16)),z+=2):m.push(r0)}return r(m)}function D(I){for(var m=[],z=0;z<I.length;){var r0=I[z];r0<128?(m.push(String.fromCharCode(r0)),z++):r0>191&&r0<224?(m.push(String.fromCharCode((r0&31)<<6|I[z+1]&63)),z+=2):(m.push(String.fromCharCode((r0&15)<<12|(I[z+1]&63)<<6|I[z+2]&63)),z+=3)}return m.join("")}return{toBytes:S,fromBytes:D}}(),o=function(){function S(m){for(var z=[],r0=0;r0<m.length;r0+=2)z.push(parseInt(m.substr(r0,2),16));return z}var D="0123456789abcdef";function I(m){for(var z=[],r0=0;r0<m.length;r0++){var T=m[r0];z.push(D[(T&240)>>4]+D[T&15])}return z.join("")}return{toBytes:S,fromBytes:I}}(),c={16:10,24:12,32:14},l=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],u=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],f=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],w=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],L=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],A=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],R=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],G=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],K=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Z=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],$=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function n0(S){for(var D=[],I=0;I<S.length;I+=4)D.push(S[I]<<24|S[I+1]<<16|S[I+2]<<8|S[I+3]);return D}var h0=function(S){if(!(this instanceof h0))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:r(S,!0)}),this._prepare()};h0.prototype._prepare=function(){var S=c[this.key.length];if(S==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var D=0;D<=S;D++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var I=(S+1)*4,m=this.key.length/4,z=n0(this.key),r0,D=0;D<m;D++)r0=D>>2,this._Ke[r0][D%4]=z[D],this._Kd[S-r0][D%4]=z[D];for(var T=0,s0=m,i0;s0<I;){if(i0=z[m-1],z[0]^=h[i0>>16&255]<<24^h[i0>>8&255]<<16^h[i0&255]<<8^h[i0>>24&255]^l[T]<<24,T+=1,m!=8)for(var D=1;D<m;D++)z[D]^=z[D-1];else{for(var D=1;D<m/2;D++)z[D]^=z[D-1];i0=z[m/2-1],z[m/2]^=h[i0&255]^h[i0>>8&255]<<8^h[i0>>16&255]<<16^h[i0>>24&255]<<24;for(var D=m/2+1;D<m;D++)z[D]^=z[D-1]}for(var D=0,W,q;D<m&&s0<I;)W=s0>>2,q=s0%4,this._Ke[W][q]=z[D],this._Kd[S-W][q]=z[D++],s0++}for(var W=1;W<S;W++)for(var q=0;q<4;q++)i0=this._Kd[W][q],this._Kd[W][q]=G[i0>>24&255]^K[i0>>16&255]^Z[i0>>8&255]^$[i0&255]},h0.prototype.encrypt=function(S){if(S.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var D=this._Ke.length-1,I=[0,0,0,0],m=n0(S),z=0;z<4;z++)m[z]^=this._Ke[0][z];for(var r0=1;r0<D;r0++){for(var z=0;z<4;z++)I[z]=p[m[z]>>24&255]^g[m[(z+1)%4]>>16&255]^f[m[(z+2)%4]>>8&255]^w[m[(z+3)%4]&255]^this._Ke[r0][z];m=I.slice()}for(var T=i(16),s0,z=0;z<4;z++)s0=this._Ke[D][z],T[4*z]=(h[m[z]>>24&255]^s0>>24)&255,T[4*z+1]=(h[m[(z+1)%4]>>16&255]^s0>>16)&255,T[4*z+2]=(h[m[(z+2)%4]>>8&255]^s0>>8)&255,T[4*z+3]=(h[m[(z+3)%4]&255]^s0)&255;return T},h0.prototype.decrypt=function(S){if(S.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var D=this._Kd.length-1,I=[0,0,0,0],m=n0(S),z=0;z<4;z++)m[z]^=this._Kd[0][z];for(var r0=1;r0<D;r0++){for(var z=0;z<4;z++)I[z]=L[m[z]>>24&255]^A[m[(z+3)%4]>>16&255]^_[m[(z+2)%4]>>8&255]^R[m[(z+1)%4]&255]^this._Kd[r0][z];m=I.slice()}for(var T=i(16),s0,z=0;z<4;z++)s0=this._Kd[D][z],T[4*z]=(u[m[z]>>24&255]^s0>>24)&255,T[4*z+1]=(u[m[(z+3)%4]>>16&255]^s0>>16)&255,T[4*z+2]=(u[m[(z+2)%4]>>8&255]^s0>>8)&255,T[4*z+3]=(u[m[(z+1)%4]&255]^s0)&255;return T};var X=function(S){if(!(this instanceof X))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new h0(S)};X.prototype.encrypt=function(S){if(S=r(S),S.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var D=i(S.length),I=i(16),m=0;m<S.length;m+=16)s(S,I,0,m,m+16),I=this._aes.encrypt(I),s(I,D,m);return D},X.prototype.decrypt=function(S){if(S=r(S),S.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var D=i(S.length),I=i(16),m=0;m<S.length;m+=16)s(S,I,0,m,m+16),I=this._aes.decrypt(I),s(I,D,m);return D};var H=function(S,D){if(!(this instanceof H))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!D)D=i(16);else if(D.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=r(D,!0),this._aes=new h0(S)};H.prototype.encrypt=function(S){if(S=r(S),S.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var D=i(S.length),I=i(16),m=0;m<S.length;m+=16){s(S,I,0,m,m+16);for(var z=0;z<16;z++)I[z]^=this._lastCipherblock[z];this._lastCipherblock=this._aes.encrypt(I),s(this._lastCipherblock,D,m)}return D},H.prototype.decrypt=function(S){if(S=r(S),S.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var D=i(S.length),I=i(16),m=0;m<S.length;m+=16){s(S,I,0,m,m+16),I=this._aes.decrypt(I);for(var z=0;z<16;z++)D[m+z]=I[z]^this._lastCipherblock[z];s(S,this._lastCipherblock,0,m,m+16)}return D};var U=function(S,D,I){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!D)D=i(16);else if(D.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");I||(I=1),this.segmentSize=I,this._shiftRegister=r(D,!0),this._aes=new h0(S)};U.prototype.encrypt=function(S){if(S.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var D=r(S,!0),I,m=0;m<D.length;m+=this.segmentSize){I=this._aes.encrypt(this._shiftRegister);for(var z=0;z<this.segmentSize;z++)D[m+z]^=I[z];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(D,this._shiftRegister,16-this.segmentSize,m,m+this.segmentSize)}return D},U.prototype.decrypt=function(S){if(S.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var D=r(S,!0),I,m=0;m<D.length;m+=this.segmentSize){I=this._aes.encrypt(this._shiftRegister);for(var z=0;z<this.segmentSize;z++)D[m+z]^=I[z];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(S,this._shiftRegister,16-this.segmentSize,m,m+this.segmentSize)}return D};var P=function(S,D){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!D)D=i(16);else if(D.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=r(D,!0),this._lastPrecipherIndex=16,this._aes=new h0(S)};P.prototype.encrypt=function(S){for(var D=r(S,!0),I=0;I<D.length;I++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),D[I]^=this._lastPrecipher[this._lastPrecipherIndex++];return D},P.prototype.decrypt=P.prototype.encrypt;var d=function(S){if(!(this instanceof d))throw Error("Counter must be instanitated with `new`");S!==0&&!S&&(S=1),typeof S=="number"?(this._counter=i(16),this.setValue(S)):this.setBytes(S)};d.prototype.setValue=function(S){if(typeof S!="number"||parseInt(S)!=S)throw new Error("invalid counter value (must be an integer)");for(var D=15;D>=0;--D)this._counter[D]=S%256,S=S>>8},d.prototype.setBytes=function(S){if(S=r(S,!0),S.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=S},d.prototype.increment=function(){for(var S=15;S>=0;S--)if(this._counter[S]===255)this._counter[S]=0;else{this._counter[S]++;break}};var y=function(S,D){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",D instanceof d||(D=new d(D)),this._counter=D,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new h0(S)};y.prototype.encrypt=function(S){for(var D=r(S,!0),I=0;I<D.length;I++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),D[I]^=this._remainingCounter[this._remainingCounterIndex++];return D},y.prototype.decrypt=y.prototype.encrypt;function M(S){S=r(S,!0);var D=16-S.length%16,I=i(S.length+D);s(S,I);for(var m=S.length;m<I.length;m++)I[m]=D;return I}function E(S){if(S=r(S,!0),S.length<16)throw new Error("PKCS#7 invalid length");var D=S[S.length-1];if(D>16)throw new Error("PKCS#7 padding byte out of range");for(var I=S.length-D,m=0;m<D;m++)if(S[I+m]!==D)throw new Error("PKCS#7 invalid padding byte");var z=i(I);return s(S,z,0,0,I),z}var O={AES:h0,Counter:d,ModeOfOperation:{ecb:X,cbc:H,cfb:U,ofb:P,ctr:y},utils:{hex:o,utf8:a},padding:{pkcs7:{pad:M,strip:E}},_arrayTest:{coerceArray:r,createArray:i,copyArray:s}};typeof W_<"u"?wG.exports=O:typeof define=="function"&&define.amd?define(O):(t.aesjs&&(O._aesjs=t.aesjs),t.aesjs=O)})(W_)});var hv,K_=I0(()=>{"use strict";hv="json-wallets/5.7.0"});function r9(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),P0(t)}function aa(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Kl(t){return typeof t=="string"?Z2(t,X5.NFKC):P0(t)}function n4(t,e){let n=t,r=e.toLowerCase().split("/");for(let i=0;i<r.length;i++){let s=null;for(let a in n)if(a.toLowerCase()===r[i]){s=n[a];break}if(s===null)return null;n=s}return n}function yG(t){let e=P0(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let n=Z0(e);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}var Q_=I0(()=>{"use strict";S2();H5()});function X_(t,e){let n=JSON.parse(t);e=Kl(e);let r=M2(n4(n,"ethaddr")),i=r9(n4(n,"encseed"));(!i||i.length%16!==0)&&nc0.throwArgumentError("invalid encseed","json",t);let s=P0(ir(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),c=new Y_.default.ModeOfOperation.cbc(s,a),l=Y_.default.padding.pkcs7.strip(P0(c.decrypt(o))),h="";for(let g=0;g<l.length;g++)h+=String.fromCharCode(l[g]);let u=Z2(h),p=z2(u);return new J_({_isCrowdsaleAccount:!0,address:r,privateKey:p})}var Y_,nc0,J_,zG=I0(()=>{"use strict";Y_=a4($_());r7();S2();C6();av();H5();f3();Q1();K_();Q_();nc0=new J(hv),J_=class extends M6{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}});function uv(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function dv(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function eE(t){if(uv(t))try{return M2(JSON.parse(t).ethaddr)}catch{return null}if(dv(t))try{return M2(JSON.parse(t).address)}catch{return null}return null}var MG=I0(()=>{"use strict";r7()});var AG=c1((tE,CG)=>{"use strict";(function(t){function n(g){let f=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),w=1779033703,L=3144134277,A=1013904242,_=2773480762,R=1359893119,G=2600822924,K=528734635,Z=1541459225,$=new Uint32Array(64);function n0(y){let M=0,E=y.length;for(;E>=64;){let O=w,S=L,D=A,I=_,m=R,z=G,r0=K,T=Z,s0,i0,W,q,a0;for(i0=0;i0<16;i0++)W=M+i0*4,$[i0]=(y[W]&255)<<24|(y[W+1]&255)<<16|(y[W+2]&255)<<8|y[W+3]&255;for(i0=16;i0<64;i0++)s0=$[i0-2],q=(s0>>>17|s0<<32-17)^(s0>>>19|s0<<32-19)^s0>>>10,s0=$[i0-15],a0=(s0>>>7|s0<<32-7)^(s0>>>18|s0<<32-18)^s0>>>3,$[i0]=(q+$[i0-7]|0)+(a0+$[i0-16]|0)|0;for(i0=0;i0<64;i0++)q=(((m>>>6|m<<32-6)^(m>>>11|m<<32-11)^(m>>>25|m<<32-25))+(m&z^~m&r0)|0)+(T+(f[i0]+$[i0]|0)|0)|0,a0=((O>>>2|O<<32-2)^(O>>>13|O<<32-13)^(O>>>22|O<<32-22))+(O&S^O&D^S&D)|0,T=r0,r0=z,z=m,m=I+q|0,I=D,D=S,S=O,O=q+a0|0;w=w+O|0,L=L+S|0,A=A+D|0,_=_+I|0,R=R+m|0,G=G+z|0,K=K+r0|0,Z=Z+T|0,M+=64,E-=64}}n0(g);let h0,X=g.length%64,H=g.length/536870912|0,U=g.length<<3,P=X<56?56:120,d=g.slice(g.length-X,g.length);for(d.push(128),h0=X+1;h0<P;h0++)d.push(0);return d.push(H>>>24&255),d.push(H>>>16&255),d.push(H>>>8&255),d.push(H>>>0&255),d.push(U>>>24&255),d.push(U>>>16&255),d.push(U>>>8&255),d.push(U>>>0&255),n0(d),[w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,K>>>24&255,K>>>16&255,K>>>8&255,K>>>0&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z>>>0&255]}function r(g,f,w){g=g.length<=64?g:n(g);let L=64+f.length+4,A=new Array(L),_=new Array(64),R,G=[];for(R=0;R<64;R++)A[R]=54;for(R=0;R<g.length;R++)A[R]^=g[R];for(R=0;R<f.length;R++)A[64+R]=f[R];for(R=L-4;R<L;R++)A[R]=0;for(R=0;R<64;R++)_[R]=92;for(R=0;R<g.length;R++)_[R]^=g[R];function K(){for(let Z=L-1;Z>=L-4;Z--){if(A[Z]++,A[Z]<=255)return;A[Z]=0}}for(;w>=32;)K(),G=G.concat(n(_.concat(n(A)))),w-=32;return w>0&&(K(),G=G.concat(n(_.concat(n(A))).slice(0,w))),G}function i(g,f,w,L,A){let _;for(c(g,(2*w-1)*16,A,0,16),_=0;_<2*w;_++)o(g,_*16,A,16),a(A,L),c(A,0,g,f+_*16,16);for(_=0;_<w;_++)c(g,f+_*2*16,g,_*16,16);for(_=0;_<w;_++)c(g,f+(_*2+1)*16,g,(_+w)*16,16)}function s(g,f){return g<<f|g>>>32-f}function a(g,f){c(g,0,f,0,16);for(let w=8;w>0;w-=2)f[4]^=s(f[0]+f[12],7),f[8]^=s(f[4]+f[0],9),f[12]^=s(f[8]+f[4],13),f[0]^=s(f[12]+f[8],18),f[9]^=s(f[5]+f[1],7),f[13]^=s(f[9]+f[5],9),f[1]^=s(f[13]+f[9],13),f[5]^=s(f[1]+f[13],18),f[14]^=s(f[10]+f[6],7),f[2]^=s(f[14]+f[10],9),f[6]^=s(f[2]+f[14],13),f[10]^=s(f[6]+f[2],18),f[3]^=s(f[15]+f[11],7),f[7]^=s(f[3]+f[15],9),f[11]^=s(f[7]+f[3],13),f[15]^=s(f[11]+f[7],18),f[1]^=s(f[0]+f[3],7),f[2]^=s(f[1]+f[0],9),f[3]^=s(f[2]+f[1],13),f[0]^=s(f[3]+f[2],18),f[6]^=s(f[5]+f[4],7),f[7]^=s(f[6]+f[5],9),f[4]^=s(f[7]+f[6],13),f[5]^=s(f[4]+f[7],18),f[11]^=s(f[10]+f[9],7),f[8]^=s(f[11]+f[10],9),f[9]^=s(f[8]+f[11],13),f[10]^=s(f[9]+f[8],18),f[12]^=s(f[15]+f[14],7),f[13]^=s(f[12]+f[15],9),f[14]^=s(f[13]+f[12],13),f[15]^=s(f[14]+f[13],18);for(let w=0;w<16;++w)g[w]+=f[w]}function o(g,f,w,L){for(let A=0;A<L;A++)w[A]^=g[f+A]}function c(g,f,w,L,A){for(;A--;)w[L++]=g[f++]}function l(g){if(!g||typeof g.length!="number")return!1;for(let f=0;f<g.length;f++){let w=g[f];if(typeof w!="number"||w%1||w<0||w>=256)return!1}return!0}function h(g,f){if(typeof g!="number"||g%1)throw new Error("invalid "+f);return g}function u(g,f,w,L,A,_,R){if(w=h(w,"N"),L=h(L,"r"),A=h(A,"p"),_=h(_,"dkLen"),w===0||w&w-1)throw new Error("N must be power of 2");if(w>2147483647/128/L)throw new Error("N too large");if(L>2147483647/128/A)throw new Error("r too large");if(!l(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!l(f))throw new Error("salt must be an array or buffer");f=Array.prototype.slice.call(f);let G=r(g,f,A*128*L),K=new Uint32Array(A*32*L);for(let m=0;m<K.length;m++){let z=m*4;K[m]=(G[z+3]&255)<<24|(G[z+2]&255)<<16|(G[z+1]&255)<<8|(G[z+0]&255)<<0}let Z=new Uint32Array(64*L),$=new Uint32Array(32*L*w),n0=32*L,h0=new Uint32Array(16),X=new Uint32Array(16),H=A*w*2,U=0,P=null,d=!1,y=0,M=0,E,O,S=R?parseInt(1e3/L):4294967295,D=typeof setImmediate<"u"?setImmediate:setTimeout,I=function(){if(d)return R(new Error("cancelled"),U/H);let m;switch(y){case 0:O=M*32*L,c(K,O,Z,0,n0),y=1,E=0;case 1:m=w-E,m>S&&(m=S);for(let r0=0;r0<m;r0++)c(Z,0,$,(E+r0)*n0,n0),i(Z,n0,L,h0,X);if(E+=m,U+=m,R){let r0=parseInt(1e3*U/H);if(r0!==P){if(d=R(null,U/H),d)break;P=r0}}if(E<w)break;E=0,y=2;case 2:m=w-E,m>S&&(m=S);for(let r0=0;r0<m;r0++){let T=(2*L-1)*16,s0=Z[T]&w-1;o($,s0*n0,Z,n0),i(Z,n0,L,h0,X)}if(E+=m,U+=m,R){let r0=parseInt(1e3*U/H);if(r0!==P){if(d=R(null,U/H),d)break;P=r0}}if(E<w)break;if(c(Z,0,K,O,n0),M++,M<A){y=0;break}G=[];for(let r0=0;r0<K.length;r0++)G.push(K[r0]>>0&255),G.push(K[r0]>>8&255),G.push(K[r0]>>16&255),G.push(K[r0]>>24&255);let z=r(g,G,_);return R&&R(null,1,z),z}R&&D(I)};if(!R)for(;;){let m=I();if(m!=null)return m}I()}let p={scrypt:function(g,f,w,L,A,_,R){return new Promise(function(G,K){let Z=0;R&&R(0),u(g,f,w,L,A,_,function($,n0,h0){if($)K($);else if(h0)R&&Z!==1&&R(1),G(new Uint8Array(h0));else if(R&&n0!==Z)return Z=n0,R(n0)})})},syncScrypt:function(g,f,w,L,A,_){return new Uint8Array(u(g,f,w,L,A,_))}};typeof tE<"u"?CG.exports=p:typeof define=="function"&&define.amd?define(p):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=p)})(tE)});function _G(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}function ic0(t,e,n){if(n4(t,"crypto/cipher")==="aes-128-ctr"){let i=r9(n4(t,"crypto/cipherparams/iv")),s=new i9.default.Counter(i),a=new i9.default.ModeOfOperation.ctr(e,s);return P0(a.decrypt(n))}return null}function EG(t,e){let n=r9(n4(t,"crypto/ciphertext"));if(Z0(z2(y2([e.slice(16,32),n]))).substring(2)!==n4(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=ic0(t,e.slice(0,16),n);i||nE.throwError("unsupported cipher",J.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=e.slice(32,64),a=u7(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),M2(c)!==a)throw new Error("address mismatch")}let o={_isKeystoreAccount:!0,address:a,privateKey:Z0(i)};if(n4(t,"x-ethers/version")==="0.1"){let c=r9(n4(t,"x-ethers/mnemonicCiphertext")),l=r9(n4(t,"x-ethers/mnemonicCounter")),h=new i9.default.Counter(l),u=new i9.default.ModeOfOperation.ctr(s,h),p=n4(t,"x-ethers/path")||n9,g=n4(t,"x-ethers/locale")||"en",f=P0(u.decrypt(c));try{let w=sr(f,g),L=J8.fromMnemonic(w,null,g).derivePath(p);if(L.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=L.mnemonic}catch(w){if(w.code!==J.errors.INVALID_ARGUMENT||w.argument!=="wordlist")throw w}}return new rE(o)}function SG(t,e,n,r,i){return P0(ir(t,e,n,r,i))}function sc0(t,e,n,r,i){return Promise.resolve(SG(t,e,n,r,i))}function kG(t,e,n,r,i){let s=Kl(e),a=n4(t,"crypto/kdf");if(a&&typeof a=="string"){let o=function(c,l){return nE.throwArgumentError("invalid key-derivation function parameters",c,l)};if(a.toLowerCase()==="scrypt"){let c=r9(n4(t,"crypto/kdfparams/salt")),l=parseInt(n4(t,"crypto/kdfparams/n")),h=parseInt(n4(t,"crypto/kdfparams/r")),u=parseInt(n4(t,"crypto/kdfparams/p"));(!l||!h||!u)&&o("kdf",a),l&l-1&&o("N",l);let p=parseInt(n4(t,"crypto/kdfparams/dklen"));return p!==32&&o("dklen",p),r(s,c,l,h,u,64,i)}else if(a.toLowerCase()==="pbkdf2"){let c=r9(n4(t,"crypto/kdfparams/salt")),l=null,h=n4(t,"crypto/kdfparams/prf");h==="hmac-sha256"?l="sha256":h==="hmac-sha512"?l="sha512":o("prf",h);let u=parseInt(n4(t,"crypto/kdfparams/c")),p=parseInt(n4(t,"crypto/kdfparams/dklen"));return p!==32&&o("dklen",p),n(s,c,u,p,l)}}return nE.throwArgumentError("unsupported key-derivation function","kdf",a)}function TG(t,e){let n=JSON.parse(t),r=kG(n,e,SG,pv.default.syncScrypt);return EG(n,r)}function PG(t,e,n){return rc0(this,void 0,void 0,function*(){let r=JSON.parse(t),i=yield kG(r,e,sc0,pv.default.scrypt,n);return EG(r,i)})}function iE(t,e,n,r){try{if(M2(t.address)!==u7(t.privateKey))throw new Error("address/privateKey mismatch");if(_G(t)){let L=t.mnemonic;if(J8.fromMnemonic(L.phrase,null,L.locale).derivePath(L.path||n9).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(L){return Promise.reject(L)}typeof n=="function"&&!r&&(r=n,n={}),n||(n={});let i=P0(t.privateKey),s=Kl(e),a=null,o=null,c=null;if(_G(t)){let L=t.mnemonic;a=P0(sa(L.phrase,L.locale||"en")),o=L.path||n9,c=L.locale||"en"}let l=n.client;l||(l="ethers.js");let h=null;n.salt?h=P0(n.salt):h=X8(32);let u=null;if(n.iv){if(u=P0(n.iv),u.length!==16)throw new Error("invalid iv")}else u=X8(16);let p=null;if(n.uuid){if(p=P0(n.uuid),p.length!==16)throw new Error("invalid uuid")}else p=X8(16);let g=1<<17,f=8,w=1;return n.scrypt&&(n.scrypt.N&&(g=n.scrypt.N),n.scrypt.r&&(f=n.scrypt.r),n.scrypt.p&&(w=n.scrypt.p)),pv.default.scrypt(s,h,g,f,w,64,r).then(L=>{L=P0(L);let A=L.slice(0,16),_=L.slice(16,32),R=L.slice(32,64),G=new i9.default.Counter(u),K=new i9.default.ModeOfOperation.ctr(A,G),Z=P0(K.encrypt(i)),$=z2(y2([_,Z])),n0={address:t.address.substring(2).toLowerCase(),id:yG(p),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Z0(u).substring(2)},ciphertext:Z0(Z).substring(2),kdf:"scrypt",kdfparams:{salt:Z0(h).substring(2),n:g,dklen:32,p:w,r:f},mac:$.substring(2)}};if(a){let h0=X8(16),X=new i9.default.Counter(h0),H=new i9.default.ModeOfOperation.ctr(R,X),U=P0(H.encrypt(a)),P=new Date,d=P.getUTCFullYear()+"-"+aa(P.getUTCMonth()+1,2)+"-"+aa(P.getUTCDate(),2)+"T"+aa(P.getUTCHours(),2)+"-"+aa(P.getUTCMinutes(),2)+"-"+aa(P.getUTCSeconds(),2)+".0Z";n0["x-ethers"]={client:l,gethFilename:"UTC--"+d+"--"+n0.address,mnemonicCounter:Z0(h0).substring(2),mnemonicCiphertext:Z0(U).substring(2),path:o,locale:c,version:"0.1"}}return JSON.stringify(n0)})}var i9,pv,rc0,nE,rE,LG=I0(()=>{"use strict";i9=a4($_()),pv=a4(AG());r7();S2();cv();C6();av();$l();f3();Je();Q_();Q1();K_();rc0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},nE=new J(hv);rE=class extends M6{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}});function IG(t,e,n){if(uv(t)){n&&n(0);let r=X_(t,e);return n&&n(1),Promise.resolve(r)}return dv(t)?PG(t,e,n):Promise.reject(new Error("invalid JSON wallet"))}function DG(t,e){if(uv(t))return X_(t,e);if(dv(t))return TG(t,e);throw new Error("invalid JSON wallet")}var sE=I0(()=>{"use strict";zG();MG();LG()});var OG,FG=I0(()=>{"use strict";OG="wallet/5.7.0"});function ac0(t){return t!=null&&F1(t.privateKey,32)&&t.address!=null}function oc0(t){let e=t.mnemonic;return e&&e.phrase}function VG(t,e){return er(js(t),e)}function RG(t,e,n,r){return er(i7.hash(t,e,n),r)}var HG,oa,ca,aE=I0(()=>{"use strict";r7();qs();Hl();S2();Yn();cv();C6();f3();$l();Bl();sE();Je();Q1();FG();HG=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},oa=new J(OG);ca=class t extends t6{constructor(e,n){if(super(),ac0(e)){let r=new h7(e.privateKey);if(w0(this,"_signingKey",()=>r),w0(this,"address",u7(this.publicKey)),this.address!==M2(e.address)&&oa.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),oc0(e)){let i=e.mnemonic;w0(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||n9,locale:i.locale||"en"}));let s=this.mnemonic,a=J8.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);u7(a.privateKey)!==this.address&&oa.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else w0(this,"_mnemonic",()=>null)}else{if(h7.isSigningKey(e))e.curve!=="secp256k1"&&oa.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),w0(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let r=new h7(e);w0(this,"_signingKey",()=>r)}w0(this,"_mnemonic",()=>null),w0(this,"address",u7(this.publicKey))}n&&!s7.isProvider(n)&&oa.throwArgumentError("invalid provider","provider",n),w0(this,"provider",n||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return w3(e).then(n=>{n.from!=null&&(M2(n.from)!==this.address&&oa.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete n.from);let r=this._signingKey().signDigest(z2(Zl(n)));return Zl(n,r)})}signMessage(e){return HG(this,void 0,void 0,function*(){return zl(this._signingKey().signDigest(js(e)))})}_signTypedData(e,n,r){return HG(this,void 0,void 0,function*(){let i=yield i7.resolveNames(e,n,r,s=>(this.provider==null&&oa.throwError("cannot resolve ENS names without a provider",J.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return zl(this._signingKey().signDigest(i7.hash(i.domain,n,i.value)))})}encrypt(e,n,r){if(typeof n=="function"&&!r&&(r=n,n={}),r&&typeof r!="function")throw new Error("invalid callback");return n||(n={}),iE(this,e,n,r)}static createRandom(e){let n=X8(16);e||(e={}),e.extraEntropy&&(n=P0(x3(z2(y2([n,e.extraEntropy])),0,16)));let r=sr(n,e.locale);return t.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,n,r){return IG(e,n,r).then(i=>new t(i))}static fromEncryptedJsonSync(e,n){return new t(DG(e,n))}static fromMnemonic(e,n,r){return n||(n=n9),new t(J8.fromMnemonic(e,null,r).derivePath(n))}}});var NG,BG=I0(()=>{"use strict";NG="networks/5.7.1"});function cc0(t){return t&&typeof t.renetwork=="function"}function s9(t){let e=function(n,r){r==null&&(r={});let i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){let s=["goerli","ropsten","rinkeby","sepolia"];try{let a=new n.PocketProvider(t,r.pocket);a.network&&s.indexOf(a.network.name)===-1&&i.push(a)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{let s=["ropsten"],a=new n.AnkrProvider(t,r.ankr);a.network&&s.indexOf(a.network.name)===-1&&i.push(a)}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return s9(n)},e}function fv(t,e){let n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return fv(t,r)},n}function Ql(t){if(t==null)return null;if(typeof t=="number"){for(let r in mv){let i=mv[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){let r=mv[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}let e=mv[t.name];if(!e)return typeof t.chainId!="number"&&ZG.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&ZG.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(cc0(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}var ZG,jG,UG,GG,mv,oE=I0(()=>{"use strict";Q1();BG();ZG=new J(NG);jG={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:s9("homestead")},UG={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:s9("ropsten")},GG={chainId:63,name:"classicMordor",_defaultProvider:fv("https://www.ethercluster.com/mordor","classicMordor")},mv={unspecified:{chainId:0,name:"unspecified"},homestead:jG,mainnet:jG,morden:{chainId:2,name:"morden"},ropsten:UG,testnet:UG,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:s9("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:s9("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:s9("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:s9("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:fv("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:GG,classicTestnet:GG,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:fv("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:s9("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:s9("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}}});var qG,WG=I0(()=>{"use strict";qG="web/5.7.1"});function $G(t,e){return lc0(this,void 0,void 0,function*(){e==null&&(e={});let n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){let a=e.fetchOptions;a.mode&&(n.mode=a.mode),a.cache&&(n.cache=a.cache),a.credentials&&(n.credentials=a.credentials),a.redirect&&(n.redirect=a.redirect),a.referrer&&(n.referrer=a.referrer)}let r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((a,o)=>{s[o.toLowerCase()]=a}):r.headers.keys().forEach(a=>{s[a.toLowerCase()]=r.headers.get(a)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:P0(new Uint8Array(i))}})}var lc0,KG=I0(()=>{"use strict";S2();lc0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}});function QG(t){return new Promise(e=>{setTimeout(e,t)})}function xt(t,e){if(t==null)return null;if(typeof t=="string")return t;if(je(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return e6(t)}catch{}return Z0(t)}return t}function uc0(t){return Z2(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function cE(t,e,n){let r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;$7.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);let i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;$7.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);let a=typeof t=="object"?!!t.errorPassThrough:!1,o={},c=null,l={method:"GET"},h=!1,u=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&$7.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(u=t.timeout),t.headers)for(let A in t.headers)o[A.toLowerCase()]={key:A,value:String(t.headers[A])},["if-none-match","if-modified-since"].indexOf(A.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&$7.throwError("basic authentication requires a secure https url",J.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});let A=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+Zs(Z2(A))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=$2(t.fetchOptions))}let p=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(p):null;if(g)try{let A={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?Bs(g[3]):uc0(g[3])},_=A.body;return n&&(_=n(A.body,A)),Promise.resolve(_)}catch(A){$7.throwError("processing response error",J.errors.SERVER_ERROR,{body:xt(g[1],g[2]),error:A,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));let f={};Object.keys(o).forEach(A=>{let _=o[A];f[_.key]=_.value}),l.headers=f;let w=function(){let A=null;return{promise:new Promise(function(G,K){u&&(A=setTimeout(()=>{A!=null&&(A=null,K($7.makeError("timeout",J.errors.TIMEOUT,{requestBody:xt(l.body,f["content-type"]),requestMethod:l.method,timeout:u,url:c})))},u))}),cancel:function(){A!=null&&(clearTimeout(A),A=null)}}}(),L=function(){return hc0(this,void 0,void 0,function*(){for(let A=0;A<r;A++){let _=null;try{if(_=yield $G(c,l),A<r){if(_.statusCode===301||_.statusCode===302){let G=_.headers.location||"";if(l.method==="GET"&&G.match(/^https:/)){c=_.headers.location;continue}}else if(_.statusCode===429){let G=!0;if(i&&(G=yield i(A,c)),G){let K=0,Z=_.headers["retry-after"];typeof Z=="string"&&Z.match(/^[1-9][0-9]*$/)?K=parseInt(Z)*1e3:K=s*parseInt(String(Math.random()*Math.pow(2,A))),yield QG(K);continue}}}}catch(G){_=G.response,_==null&&(w.cancel(),$7.throwError("missing response",J.errors.SERVER_ERROR,{requestBody:xt(l.body,f["content-type"]),requestMethod:l.method,serverError:G,url:c}))}let R=_.body;if(h&&_.statusCode===304?R=null:!a&&(_.statusCode<200||_.statusCode>=300)&&(w.cancel(),$7.throwError("bad response",J.errors.SERVER_ERROR,{status:_.statusCode,headers:_.headers,body:xt(R,_.headers?_.headers["content-type"]:null),requestBody:xt(l.body,f["content-type"]),requestMethod:l.method,url:c})),n)try{let G=yield n(R,_);return w.cancel(),G}catch(G){if(G.throttleRetry&&A<r){let K=!0;if(i&&(K=yield i(A,c)),K){let Z=s*parseInt(String(Math.random()*Math.pow(2,A)));yield QG(Z);continue}}w.cancel(),$7.throwError("processing response error",J.errors.SERVER_ERROR,{body:xt(R,_.headers?_.headers["content-type"]:null),error:G,requestBody:xt(l.body,f["content-type"]),requestMethod:l.method,url:c})}return w.cancel(),R}return $7.throwError("failed response",J.errors.SERVER_ERROR,{requestBody:xt(l.body,f["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([w.promise,L])}function K7(t,e,n){let r=(s,a)=>{let o=null;if(s!=null)try{o=JSON.parse(e6(s))}catch(c){$7.throwError("invalid JSON",J.errors.SERVER_ERROR,{body:s,error:c})}return n&&(o=n(o,a)),o},i=null;if(e!=null){i=Z2(e);let s=typeof t=="string"?{url:t}:$2(t);s.headers?Object.keys(s.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(s.headers=$2(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return cE(t,i,r)}function Q7(t,e){return e||(e={}),e=$2(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1,a=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{a()&&r(new Error("timeout"))},e.timeout));let o=e.retryLimit,c=0;function l(){return t().then(function(h){if(h!==void 0)a()&&n(h);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>o){a()&&r(new Error("retry limit reached"));return}let u=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));u<e.floor&&(u=e.floor),u>e.ceiling&&(u=e.ceiling),setTimeout(l,u)}return null},function(h){a()&&r(h)})}l()})}var hc0,$7,ar=I0(()=>{"use strict";Dl();S2();f3();H5();Q1();WG();KG();hc0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},$7=new J(qG)});var eq=c1((U$0,XG)=>{"use strict";var vv="qpzry9x8gf2tvdw0s3jn54khce6mua7l",lE={};for(Yl=0;Yl<vv.length;Yl++){if(gv=vv.charAt(Yl),lE[gv]!==void 0)throw new TypeError(gv+" is ambiguous");lE[gv]=Yl}var gv,Yl;function la(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function YG(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=la(e)^r>>5}for(e=la(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=la(e)^i&31}return e}function dc0(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=YG(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var a=e[s];if(a>>5)throw new Error("Non 5-bit word");r=la(r)^a,i+=vv.charAt(a)}for(s=0;s<6;++s)r=la(r);for(r^=1,s=0;s<6;++s){var o=r>>(5-s)*5&31;i+=vv.charAt(o)}return i}function JG(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),a=t.slice(i+1);if(a.length<6)return"Data too short";var o=YG(s);if(typeof o=="string")return o;for(var c=[],l=0;l<a.length;++l){var h=a.charAt(l),u=lE[h];if(u===void 0)return"Unknown character "+h;o=la(o)^u,!(l+6>=a.length)&&c.push(u)}return o!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function pc0(){var t=JG.apply(null,arguments);if(typeof t=="object")return t}function mc0(t){var e=JG.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function bv(t,e,n,r){for(var i=0,s=0,a=(1<<n)-1,o=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=n;)s-=n,o.push(i>>s&a);if(r)s>0&&o.push(i<<n-s&a);else{if(s>=e)return"Excess padding";if(i<<n-s&a)return"Non-zero padding"}return o}function fc0(t){var e=bv(t,8,5,!0);if(Array.isArray(e))return e}function gc0(t){var e=bv(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function vc0(t){var e=bv(t,5,8,!1);if(Array.isArray(e))return e}function bc0(t){var e=bv(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}XG.exports={decodeUnsafe:pc0,decode:mc0,encode:dc0,toWordsUnsafe:fc0,toWords:gc0,fromWordsUnsafe:vc0,fromWords:bc0}});var c3,r5=I0(()=>{"use strict";c3="providers/5.7.2"});function hE(t){return t&&typeof t.isCommunityResource=="function"}function Xl(t){return hE(t)&&t.isCommunityResource()}function ee(){tq||(tq=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Jl,or,tq,wt=I0(()=>{"use strict";r7();S4();S2();Kn();f3();Je();Q1();r5();Jl=new J(c3),or=class t{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),h=u=>this.data(u,!0);return e.transaction={hash:a,type:l,accessList:t.allowNull(this.accessList.bind(this),null),blockHash:t.allowNull(a,null),blockNumber:t.allowNull(c,null),transactionIndex:t.allowNull(c,null),confirmations:t.allowNull(c,null),from:n,gasPrice:t.allowNull(r),maxPriorityFeePerGas:t.allowNull(r),maxFeePerGas:t.allowNull(r),gasLimit:r,to:t.allowNull(n,null),value:r,nonce:c,data:s,r:t.allowNull(this.uint256),s:t.allowNull(this.uint256),v:t.allowNull(c),creates:t.allowNull(n,null),raw:t.allowNull(s)},e.transactionRequest={from:t.allowNull(n),nonce:t.allowNull(c),gasLimit:t.allowNull(r),gasPrice:t.allowNull(r),maxPriorityFeePerGas:t.allowNull(r),maxFeePerGas:t.allowNull(r),to:t.allowNull(n),value:t.allowNull(r),data:t.allowNull(h),type:t.allowNull(c),accessList:t.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:a,address:n,topics:t.arrayOf(a),data:s,logIndex:c,blockHash:a},e.receipt={to:t.allowNull(this.address,null),from:t.allowNull(this.address,null),contractAddress:t.allowNull(n,null),transactionIndex:c,root:t.allowNull(o),gasUsed:r,logsBloom:t.allowNull(s),blockHash:a,transactionHash:a,logs:t.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:t.allowNull(c,null),cumulativeGasUsed:r,effectiveGasPrice:t.allowNull(r),status:t.allowNull(c),type:l},e.block={hash:t.allowNull(a),parentHash:a,number:c,timestamp:c,nonce:t.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:t.allowNull(n),extraData:s,transactions:t.allowNull(t.arrayOf(a)),baseFeePerGas:t.allowNull(r)},e.blockWithTransactions=$2(e.block),e.blockWithTransactions.transactions=t.allowNull(t.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:t.allowNull(i,void 0),toBlock:t.allowNull(i,void 0),blockHash:t.allowNull(a,void 0),address:t.allowNull(n,void 0),topics:t.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:t.allowNull(c),blockHash:t.allowNull(a),transactionIndex:c,removed:t.allowNull(this.boolean.bind(this)),address:n,data:t.allowFalsish(s,"0x"),topics:t.arrayOf(a),transactionHash:a,logIndex:c},e}accessList(e){return S6(e||[])}number(e){return e==="0x"?0:j0.from(e).toNumber()}type(e){return e==="0x"||e==null?0:j0.from(e).toNumber()}bigNumber(e){return j0.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),F1(e))?e.toLowerCase():Jl.throwArgumentError("invalid hash","value",e)}data(e,n){let r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return M2(e)}callAddress(e){if(!F1(e,32))return null;let n=M2(x3(e,12));return n===Pg?null:n}contractAddress(e){return $n(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||F1(e))return H8(e);throw new Error("invalid blockTag")}hash(e,n){let r=this.hex(e,n);return g5(r)!==32?Jl.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;let n=j0.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!F1(e))throw new Error("invalid uint256");return P2(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);let r=e._difficulty!=null?e._difficulty:e.difficulty,i=t.check(n,e);return i._difficulty=r==null?null:j0.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return t.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&j0.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);let n=t.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;F1(r)&&(r=j0.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),F1(r)&&(r=j0.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return Xg(e)}receiptLog(e){return t.check(this.formats.receiptLog,e)}receipt(e){let n=t.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){let r=j0.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&Jl.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):Jl.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&Jl.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return t.check(this.formats.filter,e)}filterLog(e){return t.check(this.formats.filterLog,e)}static check(e,n){let r={};for(let i in e)try{let s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");let r=[];return n.forEach(function(i){r.push(e(i))}),r}}};tq=!1});function nq(t){return t==null?"null":(g5(t)!==32&&L2.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function rq(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){let n={};e.forEach(i=>{n[nq(i)]=!0});let r=Object.keys(n);return r.sort(),r.join("|")}else return nq(e)}).join("&")}function wc0(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];let n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function ha(t){if(typeof t=="string"){if(t=t.toLowerCase(),g5(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+rq(t);if(jg.isForkEvent(t))throw L2.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+rq(t.topics||[])}throw new Error("invalid event - "+t)}function eh(){return new Date().getTime()}function iq(t){return new Promise(e=>{setTimeout(e,t)})}function uE(t){return P2(j0.from(t).toHexString(),32)}function sq(t){return Xe.encode(y2([t,x3(r6(r6(t)),0,4)]))}function xv(t,e){try{return e6(th(t,e))}catch{}return null}function th(t,e){if(t==="0x")return null;let n=j0.from(x3(t,e,e+32)).toNumber(),r=j0.from(x3(t,n,n+32)).toNumber();return x3(t,n+32,n+32+r)}function dE(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):L2.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function oq(t){let e=P0(t);if(e.length>32)throw new Error("internal; should not happen");let n=new Uint8Array(32);return n.set(e,32-e.length),n}function Mc0(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function lq(t){let e=[],n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){let i=P0(t[r]);e[r]=oq(n),e.push(oq(i.length)),e.push(Mc0(i)),n+=32+Math.ceil(i.length/32)*32}return E4(e)}var mE,a2,L2,xc0,yc0,fE,zc0,cq,aq,ua,pE,Cc0,te,nh=I0(()=>{"use strict";qs();Dl();sv();S4();S2();Kn();Yn();oE();f3();rr();H5();ar();mE=a4(eq());Q1();r5();wt();a2=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},L2=new J(c3),xc0=10;yc0=["block","network","pending","poll"],fE=class{constructor(e,n,r){w0(this,"tag",e),w0(this,"listener",n),w0(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){let e=this.tag.split(":");if(e[0]!=="filter")return null;let n=e[1],r=wc0(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||yc0.indexOf(this.tag)>=0}},zc0={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};cq=new RegExp("^(ipfs)://(.*)$","i"),aq=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),cq,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];ua=class{constructor(e,n,r,i){w0(this,"provider",e),w0(this,"name",r),w0(this,"address",e.formatter.address(n)),w0(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>j0.from(e).eq(1)).catch(e=>{if(e.code===J.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return a2(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:E4([e,ht(this.name),n||"0x"])},i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=E4(["0x9061b923",lq([Fl(this.name),r.data])]));try{let s=yield this.provider.call(r);return P0(s).length%32===4&&L2.throwError("resolver threw error",J.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=th(s,0)),s}catch(s){if(s.code===J.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return a2(this,void 0,void 0,function*(){let r=yield this._fetch(e,n);return r!=null?th(r,0):null})}_getAddress(e,n){let r=zc0[String(e)];if(r==null&&L2.throwError(`unsupported coin type: ${e}`,J.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);let i=P0(n);if(r.p2pkh!=null){let s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){let a=parseInt(s[1],16);if(s[2].length===a*2&&a>=1&&a<=75)return sq(y2([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){let s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){let a=parseInt(s[1],16);if(s[2].length===a*2&&a>=1&&a<=75)return sq(y2([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){let s=i[1],a=i[0];if(a===0?s!==20&&s!==32&&(a=-1):a=-1,a>=0&&i.length===2+s&&s>=1&&s<=75){let o=mE.default.toWords(i.slice(2));return o.unshift(a),mE.default.encode(r.prefix,o)}}return null}getAddress(e){return a2(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{let i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Rs?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===J.errors.CALL_EXCEPTION)return null;throw i}let n=yield this._fetchBytes("0xf1cb7e06",uE(e));if(n==null||n==="0x")return null;let r=this._getAddress(e,n);return r==null&&L2.throwError("invalid or unsupported coin data",J.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return a2(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<aq.length;r++){let i=n.match(aq[r]);if(i==null)continue;let s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:dE(n)};case"erc721":case"erc1155":{let a=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});let o=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;let l=yield this.provider.formatter.address(c[0]),h=P2(j0.from(c[1]).toHexString(),32);if(s==="erc721"){let w=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:E4(["0x6352211e",h])}));if(o!==w)return null;e.push({type:"owner",content:w})}else if(s==="erc1155"){let w=j0.from(yield this.provider.call({to:l,data:E4(["0x00fdd58e",P2(o,32),h])}));if(w.isZero())return null;e.push({type:"balance",content:w.toString()})}let u={to:this.provider.formatter.address(c[0]),data:E4([a,h])},p=xv(yield this.provider.call(u),0);if(p==null)return null;e.push({type:"metadata-url-base",content:p}),s==="erc1155"&&(p=p.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=dE(p)),e.push({type:"metadata-url",content:p});let g=yield K7(p);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let f=g.image;if(typeof f!="string")return null;if(!f.match(/^(https:\/\/|data:)/i)){if(f.match(cq)==null)return null;e.push({type:"url-ipfs",content:f}),f=dE(f)}return e.push({type:"url",content:f}),{linkage:e,url:f}}}}}catch{}return null})}getContentHash(){return a2(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;let n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let a=parseInt(n[3],16);if(n[4].length===a*2)return"ipfs://"+Xe.encode("0x"+n[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let a=parseInt(r[3],16);if(r[4].length===a*2)return"ipns://"+Xe.encode("0x"+r[1])}let i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];let s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){let a={"=":"","+":"-","/":"_"};return"sia://"+Zs("0x"+s[1]).replace(/[=+\/]/g,c=>a[c])}return L2.throwError("invalid or unsupported content hash data",J.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return a2(this,void 0,void 0,function*(){let n=Z2(e);n=y2([uE(64),uE(n.length),n]),n.length%32!==0&&(n=y2([n,P2("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",Z0(n));return r==null||r==="0x"?null:e6(r)})}},pE=null,Cc0=1,te=class extends s7{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),w0(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{let n=X3(new.target,"getNetwork")(e);n?(w0(this,"_network",n),this.emit("network",n,null)):L2.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return a2(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||L2.throwError("no network detected",J.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:w0(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Q7(()=>this._ready().then(e=>e,e=>{if(!(e.code===J.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return pE==null&&(pE=new or),pE}static getNetwork(e){return Ql(e??"homestead")}ccipReadFetch(e,n,r){return a2(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;let i=e.to.toLowerCase(),s=n.toLowerCase(),a=[];for(let o=0;o<r.length;o++){let c=r[o],l=c.replace("{sender}",i).replace("{data}",s),h=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),u=yield K7({url:l,errorPassThrough:!0},h,(g,f)=>(g.status=f.statusCode,g));if(u.data)return u.data;let p=u.message||"unknown error";if(u.status>=400&&u.status<500)return L2.throwError(`response not found during CCIP fetch: ${p}`,J.errors.SERVER_ERROR,{url:c,errorMessage:p});a.push(p)}return L2.throwError(`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,J.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return a2(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let i=this._internalBlockNumber;try{let s=yield i;if(eh()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}let n=eh(),r=w3({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;let a=eh();return i=j0.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:a}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return a2(this,void 0,void 0,function*(){let e=Cc0++,n=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)L2.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",L2.makeError("network block skew detected",J.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;let s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{let s=i.hash,a=this.getTransactionReceipt(s).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+s]=o.blockNumber,this.emit(s,o)),null)).catch(o=>{this.emit("error",o)});n.push(a);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);let s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;let a=s.toBlock-this._maxFilterBlockRange;a>s.fromBlock&&(s.fromBlock=a),s.fromBlock<0&&(s.fromBlock=0);let o=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});n.push(o)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return a2(this,void 0,void 0,function*(){return L2.throwError("provider does not support network detection",J.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return a2(this,void 0,void 0,function*(){let e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield iq(0),this._network;let r=L2.makeError("underlying network changed",J.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=eh();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=eh(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return a2(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return a2(this,void 0,void 0,function*(){let s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((a,o)=>{let c=[],l=!1,h=function(){return l?!0:(l=!0,c.forEach(p=>{p()}),!1)},u=p=>{p.confirmations<n||h()||a(p)};if(this.on(e,u),c.push(()=>{this.removeListener(e,u)}),i){let p=i.startBlock,g=null,f=w=>a2(this,void 0,void 0,function*(){l||(yield iq(1e3),this.getTransactionCount(i.from).then(L=>a2(this,void 0,void 0,function*(){if(!l){if(L<=i.nonce)p=w;else{{let A=yield this.getTransaction(e);if(A&&A.blockNumber!=null)return}for(g==null&&(g=p-3,g<i.startBlock&&(g=i.startBlock));g<=w;){if(l)return;let A=yield this.getBlockWithTransactions(g);for(let _=0;_<A.transactions.length;_++){let R=A.transactions[_];if(R.hash===e)return;if(R.from===i.from&&R.nonce===i.nonce){if(l)return;let G=yield this.waitForTransaction(R.hash,n);if(h())return;let K="replaced";R.data===i.data&&R.to===i.to&&R.value.eq(i.value)?K="repriced":R.data==="0x"&&R.from===R.to&&R.value.isZero()&&(K="cancelled"),o(L2.makeError("transaction was replaced",J.errors.TRANSACTION_REPLACED,{cancelled:K==="replaced"||K==="cancelled",reason:K,replacement:this._wrapTransaction(R),hash:e,receipt:G}));return}}g++}}l||this.once("block",f)}}),L=>{l||this.once("block",f)}))});if(l)return;this.once("block",f),c.push(()=>{this.removeListener("block",f)})}if(typeof r=="number"&&r>0){let p=setTimeout(()=>{h()||o(L2.makeError("timeout exceeded",J.errors.TIMEOUT,{timeout:r}))},r);p.unref&&p.unref(),c.push(()=>{clearTimeout(p)})}})})}getBlockNumber(){return a2(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return j0.from(e)}catch(n){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield w3({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return j0.from(i)}catch(s){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield w3({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return j0.from(i).toNumber()}catch(s){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield w3({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return Z0(i)}catch(s){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield w3({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(a=>H8(a))}),s=yield this.perform("getStorageAt",i);try{return Z0(s)}catch(a){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:a})}})}_wrapTransaction(e,n,r){if(n!=null&&g5(n)!==32)throw new Error("invalid response - sendTransaction");let i=e;return n!=null&&e.hash!==n&&L2.throwError("Transaction hash mismatch from Provider.sendTransaction.",J.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,a)=>a2(this,void 0,void 0,function*(){s==null&&(s=1),a==null&&(a=0);let o;s!==0&&r!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let c=yield this._waitForTransaction(e.hash,s,a,o);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&L2.throwError("transaction failed",J.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Promise.resolve(e).then(s=>Z0(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return a2(this,void 0,void 0,function*(){let n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?j0.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?Z0(s):null))}),this.formatter.transactionRequest(yield w3(r))})}_getFilter(e){return a2(this,void 0,void 0,function*(){e=yield e;let n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield w3(n))})}_call(e,n,r){return a2(this,void 0,void 0,function*(){r>=xc0&&L2.throwError("CCIP read exceeded maximum redirections",J.errors.SERVER_ERROR,{redirects:r,transaction:e});let i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&g5(s)%32===4)try{let a=x3(s,4),o=x3(a,0,32);j0.from(o).eq(i)||L2.throwError("CCIP Read sender did not match",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});let c=[],l=j0.from(x3(a,32,64)).toNumber(),h=j0.from(x3(a,l,l+32)).toNumber(),u=x3(a,l+32);for(let A=0;A<h;A++){let _=xv(u,A*32);_==null&&L2.throwError("CCIP Read contained corrupt URL string",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(_)}let p=th(a,64);j0.from(x3(a,100,128)).isZero()||L2.throwError("CCIP Read callback selector included junk",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});let g=x3(a,96,100),f=th(a,128),w=yield this.ccipReadFetch(e,p,c);w==null&&L2.throwError("CCIP Read disabled or provided no URLs",J.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});let L={to:i,data:E4([g,lq([w,f])])};return this._call(L,n,r+1)}catch(a){if(a.code===J.errors.SERVER_ERROR)throw a}try{return Z0(s)}catch(a){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:a})}})}call(e,n){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield w3({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield w3({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return j0.from(r)}catch(i){return L2.throwError("bad result from backend",J.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return a2(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&L2.throwArgumentError("invalid address or ENS name","name",e);let n=yield this.resolveName(e);return n==null&&L2.throwError("ENS name not configured",J.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return a2(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,i={includeTransactions:!!n};if(F1(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),F1(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{L2.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Q7(()=>a2(this,void 0,void 0,function*(){let s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let a=null;for(let c=0;c<s.transactions.length;c++){let l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){a==null&&(a=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=a-l.blockNumber+1;h<=0&&(h=1),l.confirmations=h}}let o=this.formatter.blockWithTransactions(s);return o.transactions=o.transactions.map(c=>this._wrapTransaction(c)),o}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return a2(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n={transactionHash:this.formatter.hash(e,!0)};return Q7(()=>a2(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;let i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;a<=0&&(a=1),i.confirmations=a}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return a2(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n={transactionHash:this.formatter.hash(e,!0)};return Q7(()=>a2(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;let i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;a<=0&&(a=1),i.confirmations=a}return i}),{oncePoll:this})})}getLogs(e){return a2(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield w3({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),or.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return a2(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return a2(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&L2.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return a2(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;let r=yield this._getResolver(n,"getResolver");if(r!=null){let i=new ua(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return a2(this,void 0,void 0,function*(){n==null&&(n="ENS");let r=yield this.getNetwork();r.ensAddress||L2.throwError("network does not support ENS",J.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{let i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+ht(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return a2(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(F1(e))throw r}typeof e!="string"&&L2.throwArgumentError("invalid ENS name","name",e);let n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return a2(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;let i=xv(yield this.call({to:r,data:"0x691f3431"+ht(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return a2(this,void 0,void 0,function*(){let n=null;if(F1(e)){let s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(s,"getAvatar");if(!a)return null;n=new ua(this,a,s);try{let o=yield n.getAvatar();if(o)return o.url}catch(o){if(o.code!==J.errors.CALL_EXCEPTION)throw o}try{let o=xv(yield this.call({to:a,data:"0x691f3431"+ht(s).substring(2)}),0);n=yield this.getResolver(o)}catch(o){if(o.code!==J.errors.CALL_EXCEPTION)throw o;return null}}else if(n=yield this.getResolver(e),!n)return null;let r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return L2.throwError(e+" not implemented",J.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){let i=new fE(ha(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=ha(e);return this._events=this._events.filter(a=>a.tag!==s?!0:(setTimeout(()=>{a.listener.apply(this,n)},0),r=!0,a.once?(i.push(a),!1):!0)),i.forEach(a=>{this._stopEvent(a)}),r}listenerCount(e){if(!e)return this._events.length;let n=ha(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=ha(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);let r=[],i=!1,s=ha(e);return this._events=this._events.filter(a=>a.tag!==s||a.listener!=n||i?!0:(i=!0,r.push(a),!1)),r.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{let r=ha(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}});function ih(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){let n=F1(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(let n in t){let r=ih(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return ih(JSON.parse(t),e)}catch{}return null}function uq(t,e,n){let r=n.transaction||n.signedTransaction;if(t==="call"){let s=ih(e,!0);if(s)return s.data;T4.throwError("missing revert data in call exception; Transaction reverted without a reason string",J.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=ih(e.body,!1);s==null&&(s=ih(e,!1)),s&&T4.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===J.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&T4.throwError("insufficient funds for intrinsic transaction cost",J.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&T4.throwError("nonce has already been used",J.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&T4.throwError("replacement fee too low",J.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&T4.throwError("legacy pre-eip-155 transactions not supported",J.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),Ac0.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&T4.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function hq(t){return new Promise(function(e){setTimeout(e,t)})}function _c0(t){if(t.error){let e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function rh(t){return t&&t.toLowerCase()}var a9,T4,Ac0,gE,da,vE,Ec0,i6,pa=I0(()=>{"use strict";Hl();S4();S2();Yn();f3();H5();Je();ar();Q1();r5();nh();a9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},T4=new J(c3),Ac0=["call","estimateGas"];gE={},da=class extends t6{constructor(e,n,r){if(super(),e!==gE)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");w0(this,"provider",n),r==null&&(r=0),typeof r=="string"?(w0(this,"_address",this.provider.formatter.address(r)),w0(this,"_index",null)):typeof r=="number"?(w0(this,"_index",r),w0(this,"_address",null)):T4.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return T4.throwError("cannot alter JSON-RPC Signer connection",J.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new vE(gE,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&T4.throwError("unknown account #"+this._index,J.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=$2(e);let n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){let r=$2(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>a9(this,void 0,void 0,function*(){if(r==null)return null;let i=yield this.provider.resolveName(r);return i==null&&T4.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),w3({tx:w3(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&T4.throwArgumentError("from address mismatch","transaction",e):r.from=i;let s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(a=>a,a=>(typeof a.message=="string"&&a.message.match(/user denied/i)&&T4.throwError("user rejected transaction",J.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),uq("sendTransaction",a,s)))})}signTransaction(e){return T4.throwError("signing transactions is unsupported",J.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return a9(this,void 0,void 0,function*(){let n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield Q7(()=>a9(this,void 0,void 0,function*(){let i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return a9(this,void 0,void 0,function*(){let n=typeof e=="string"?Z2(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Z0(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&T4.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return a9(this,void 0,void 0,function*(){let n=typeof e=="string"?Z2(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Z0(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&T4.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return a9(this,void 0,void 0,function*(){let i=yield i7.resolveNames(e,n,r,a=>this.provider.resolveName(a)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(i7.getPayload(i.domain,n,i.value))])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&T4.throwError("user rejected signing",J.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),a}})}unlock(e){return a9(this,void 0,void 0,function*(){let n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}},vE=class extends da{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}},Ec0={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},i6=class extends te{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(a=>{i(a)},a=>{s(a)})},0)})),super(r),e||(e=X3(this.constructor,"defaultUrl")()),typeof e=="string"?w0(this,"connection",Object.freeze({url:e})):w0(this,"connection",Object.freeze($2(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return a9(this,void 0,void 0,function*(){yield hq(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){let n=X3(this.constructor,"getNetwork");try{return n(j0.from(e).toNumber())}catch(r){return T4.throwError("could not detect network",J.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return T4.throwError("could not detect network",J.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new da(gE,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){let r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:J3(r),provider:this});let i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];let s=K7(this.connection,JSON.stringify(r),_c0).then(a=>(this.emit("debug",{action:"response",request:r,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:r,provider:this}),a});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[rh(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[rh(n.address),n.blockTag]];case"getCode":return["eth_getCode",[rh(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[rh(n.address),P2(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[X3(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[X3(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=rh(n.filter.address)),["eth_getLogs",[n.filter]];default:break}return null}perform(e,n){return a9(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&j0.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){let s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=$2(n),n.transaction=$2(i),delete n.transaction.type)}}let r=this.prepareRequest(e,n);r==null&&T4.throwError(e+" not implemented",J.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return uq(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;let e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let a=Promise.resolve();return s.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",a=a.then(function(){return e.getTransaction(o).then(function(c){return e.emit("pending",c),null})})}),a.then(function(){return hq(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){let r=$2(Ec0);if(n)for(let s in n)n[s]&&(r[s]=!0);Is(e,r);let i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;let a=H8(j0.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=a}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Z0(e[s]))}),e.accessList&&(i.accessList=S6(e.accessList)),i}}});var ma,dq=I0(()=>{"use strict";Q1();r5();ma=null;try{if(ma=WebSocket,ma==null)throw new Error("inject please")}catch{let e=new J(c3);ma=function(){e.throwError("WebSockets not supported in this environment",J.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}});var bE,wv,Sc0,o9,yv=I0(()=>{"use strict";S4();f3();pa();dq();Q1();r5();bE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},wv=new J(c3),Sc0=1,o9=class extends i6{constructor(e,n){n==="any"&&wv.throwError("WebSocketProvider does not support 'any' network yet",J.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,n):super("_websocket",n),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?w0(this,"_websocket",new ma(this.connection.url)):w0(this,"_websocket",e),w0(this,"_requests",{}),w0(this,"_subs",{}),w0(this,"_subIds",{}),w0(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{let s=i.data,a=JSON.parse(s);if(a.id!=null){let o=String(a.id),c=this._requests[o];if(delete this._requests[o],a.result!==void 0)c.callback(null,a.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:a.result,provider:this});else{let l=null;a.error?(l=new Error(a.error.message||"unknown error"),w0(l,"code",a.error.code||null),w0(l,"response",s)):l=new Error("unknown error"),c.callback(l,void 0),this.emit("debug",{action:"response",error:l,request:JSON.parse(c.payload),provider:this})}}else if(a.method==="eth_subscription"){let o=this._subs[a.params.subscription];o&&o.processFunc(a.params.result)}else console.warn("this should not happen")};let r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){wv.throwError("cannot reset events block on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){wv.throwError("cannot set polling interval on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return bE(this,void 0,void 0,function*(){return null})}set polling(e){e&&wv.throwError("cannot set polling on WebSocketProvider",J.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,n){let r=Sc0++;return new Promise((i,s)=>{function a(c,l){return c?s(c):i(l)}let o=JSON.stringify({method:e,params:n,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:a,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,n,r){return bE(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(n).then(a=>this.send("eth_subscribe",a)),this._subIds[e]=i);let s=yield i;this._subs[s]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],n=>{let r=j0.from(n.number).toNumber();this._emitted.block=r,this.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],n=>{this.emit("pending",n)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],n=>{n.removed==null&&(n.removed=!1),this.emit(e.filter,this.formatter.filterLog(n))});break;case"tx":{let n=r=>{let i=r.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};n(e),this._subscribe("tx",["newHeads"],r=>{this._events.filter(i=>i.type==="tx").forEach(n)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let n=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;n="tx"}else if(this.listenerCount(e.event))return;let r=this._subIds[n];r&&(delete this._subIds[n],r.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return bE(this,void 0,void 0,function*(){this.websocket.readyState===ma.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}});var kc0,sh,ah,w5,yt=I0(()=>{"use strict";f3();Q1();r5();pa();kc0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},sh=new J(c3),ah=class extends i6{detectNetwork(){let e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return kc0(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||sh.throwError("no network detected",J.errors.UNKNOWN_ERROR,{}),this._network==null&&(w0(this,"_network",n),this.emit("network",n,null))),n})}},w5=class t extends ah{constructor(e,n){sh.checkAbstract(new.target,t),e=X3(new.target,"getNetwork")(e),n=X3(new.target,"getApiKey")(n);let r=X3(new.target,"getUrl")(e,n);super(r,e),typeof n=="string"?w0(this,"apiKey",n):n!=null&&Object.keys(n).forEach(i=>{w0(this,i,n[i])})}_startPending(){sh.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return sh.throwError("API provider does not support signing",J.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,n){return sh.throwError("not implemented; sub-classes must override getUrl",J.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}});var pq,zv,oh,fa,mq=I0(()=>{"use strict";f3();wt();yv();Q1();r5();yt();pq=new J(c3),zv="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",oh=class extends o9{constructor(e,n){let r=new fa(e,n),i=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,r.network),w0(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===zv}},fa=class extends w5{static getWebSocketProvider(e,n){return new oh(e,n)}static getApiKey(e){return e==null?zv:(e&&typeof e!="string"&&pq.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,n){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:pq.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+n,throttleCallback:(i,s)=>(n===zv&&ee(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===zv}}});function Pc0(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return Tc0.throwArgumentError("unsupported network","name",t)}var Tc0,Mv,ch,fq=I0(()=>{"use strict";wt();yt();Q1();r5();Tc0=new J(c3),Mv="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";ch=class extends w5{isCommunityResource(){return this.apiKey===Mv}static getApiKey(e){return e??Mv}static getUrl(e,n){n==null&&(n=Mv);let r={allowGzip:!0,url:"https://"+Pc0(e.name)+n,throttleCallback:(i,s)=>(n.apiKey===Mv&&ee(),Promise.resolve(!0))};return n.projectSecret!=null&&(r.user="",r.password=n.projectSecret),r}}});var Lc0,gq,lh,vq=I0(()=>{"use strict";yt();Q1();r5();Lc0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},gq=new J(c3),lh=class extends w5{static getApiKey(e){return e!=null&&gq.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,n){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:gq.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,n){let r=Object.create(null,{perform:{get:()=>super.perform}});return Lc0(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,n)})}}});function bq(t){let e={};for(let n in t){if(t[n]==null)continue;let r=t[n];n==="type"&&r===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n]?r=H8(Z0(r)):n==="accessList"?r="["+S6(r).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":r=Z0(r),e[n]=r)}return e}function Ic0(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){let e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function xq(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){let e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){let e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){let e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function wq(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function xE(t,e,n){if(t==="call"&&e.code===J.errors.SERVER_ERROR){let i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),F1(s))return s;zt.throwError("missing revert data in call exception",J.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let r=e.message;throw e.code===J.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&zt.throwError("insufficient funds for intrinsic transaction cost",J.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&zt.throwError("nonce has already been used",J.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),r.match(/another transaction with same nonce/)&&zt.throwError("replacement fee too low",J.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),r.match(/execution failed due to an exception|execution reverted/)&&zt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",J.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}var Cv,zt,hh,yq=I0(()=>{"use strict";S2();f3();Je();ar();wt();Q1();r5();nh();Cv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},zt=new J(c3);hh=class extends te{constructor(e,n){super(e),w0(this,"baseUrl",this.getBaseUrl()),w0(this,"apiKey",n||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}return zt.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,n){let r=Object.keys(n).reduce((s,a)=>{let o=n[a];return o!=null&&(s+=`&${a}=${o}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,n){return n.module=e,n.apikey=this.apiKey,n}fetch(e,n,r){return Cv(this,void 0,void 0,function*(){let i=r?this.getPostUrl():this.getUrl(e,n),s=r?this.getPostData(e,n):null,a=e==="proxy"?xq:Ic0;this.emit("debug",{action:"request",request:i,provider:this});let o={url:i,throttleSlotInterval:1e3,throttleCallback:(h,u)=>(this.isCommunityResource()&&ee(),Promise.resolve(!0))},c=null;s&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(s).map(h=>`${h}=${s[h]}`).join("&"));let l=yield K7(o,c,a||xq);return this.emit("debug",{action:"response",request:i,response:J3(l),provider:this}),l})}detectNetwork(){return Cv(this,void 0,void 0,function*(){return this.network})}perform(e,n){let r=Object.create(null,{perform:{get:()=>super.perform}});return Cv(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:n.address,tag:n.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:n.address,tag:n.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:n.address,tag:n.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:n.address,position:n.position,tag:n.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:n.signedTransaction},!0).catch(i=>xE("sendTransaction",i,n.signedTransaction));case"getBlock":if(n.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:n.blockTag,boolean:n.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:n.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:n.transactionHash});case"call":{if(n.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let i=bq(n.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return xE("call",s,n.transaction)}}case"estimateGas":{let i=bq(n.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return xE("estimateGas",s,n.transaction)}}case"getLogs":{let i={action:"getLogs"};if(n.filter.fromBlock&&(i.fromBlock=wq(n.filter.fromBlock)),n.filter.toBlock&&(i.toBlock=wq(n.filter.toBlock)),n.filter.address&&(i.address=n.filter.address),n.filter.topics&&n.filter.topics.length>0&&(n.filter.topics.length>1&&zt.throwError("unsupported topic count",J.errors.UNSUPPORTED_OPERATION,{topics:n.filter.topics}),n.filter.topics.length===1)){let o=n.filter.topics[0];(typeof o!="string"||o.length!==66)&&zt.throwError("unsupported topic format",J.errors.UNSUPPORTED_OPERATION,{topic0:o}),i.topic0=o}let s=yield this.fetch("logs",i),a={};for(let o=0;o<s.length;o++){let c=s[o];if(c.blockHash==null){if(a[c.blockNumber]==null){let l=yield this.getBlock(c.blockNumber);l&&(a[c.blockNumber]=l.hash)}c.blockHash=a[c.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd);default:break}return r.perform.call(this,e,n)})}getHistory(e,n,r){return Cv(this,void 0,void 0,function*(){let i={action:"txlist",address:yield this.resolveName(e),startblock:n??0,endblock:r??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(a=>{["contractAddress","to"].forEach(function(c){a[c]==""&&delete a[c]}),a.creates==null&&a.contractAddress!=null&&(a.creates=a.contractAddress);let o=this.formatter.transactionResponse(a);return a.timeStamp&&(o.timestamp=parseInt(a.timeStamp)),o})})}isCommunityResource(){return this.apiKey==null}}});function Av(){return new Date().getTime()}function zq(t){let e=null;for(let n=0;n<t.length;n++){let r=t[n];if(r==null)return null;e?e.name===r.name&&e.chainId===r.chainId&&(e.ensAddress===r.ensAddress||e.ensAddress==null&&r.ensAddress==null)||cr.throwArgumentError("provider mismatch","networks",t):e=r}return e}function Mq(t,e){t=t.slice().sort();let n=Math.floor(t.length/2);if(t.length%2)return t[n];let r=t[n-1],i=t[n];return e!=null&&Math.abs(r-i)>e?null:(r+i)/2}function ga(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(j0.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>ga(e)));if(typeof t=="object"){let e=Object.keys(t);return e.sort(),"{"+e.map(n=>{let r=t[n];return typeof r=="function"?r="[function]":r=ga(r),JSON.stringify(n)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}function Cq(t){let e=null,n=null,r=new Promise(a=>{e=function(){n&&(clearTimeout(n),n=null),a()},n=setTimeout(e,t)}),i=a=>(r=r.then(a),r);function s(){return r}return{cancel:e,getPromise:s,wait:i}}function _v(t,e){let n={weight:t.weight};return Object.defineProperty(n,"provider",{get:()=>t.provider}),t.start&&(n.start=t.start),e&&(n.duration=e-t.start),t.done&&(t.error?n.error=t.error:n.result=t.result||null),n}function Hc0(t,e){return function(n){let r={};n.forEach(s=>{let a=t(s.result);r[a]||(r[a]={count:0,result:s.result}),r[a].count++});let i=Object.keys(r);for(let s=0;s<i.length;s++){let a=r[i[s]];if(a.count>=e)return a.result}}}function Vc0(t,e,n){let r=ga;switch(e){case"getBlockNumber":return function(i){let s=i.map(o=>o.result),a=Mq(i.map(o=>o.result),2);if(a!=null)return a=Math.ceil(a),s.indexOf(a+1)>=0&&a++,a>=t._highestBlockNumber&&(t._highestBlockNumber=a),t._highestBlockNumber};case"getGasPrice":return function(i){let s=i.map(a=>a.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return Mq(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(i){return i==null?null:(i=$2(i),i.confirmations=-1,ga(i))};break;case"getBlock":n.includeTransactions?r=function(i){return i==null?null:(i=$2(i),i.transactions=i.transactions.map(s=>(s=$2(s),s.confirmations=-1,s)),ga(i))}:r=function(i){return i==null?null:ga(i)};break;default:throw new Error("unknown method: "+e)}return Hc0(r,t.quorum)}function uh(t,e){return Ev(this,void 0,void 0,function*(){let n=t.provider;return n.blockNumber!=null&&n.blockNumber>=e||e===-1?n:Q7(()=>new Promise((r,i)=>{setTimeout(function(){return n.blockNumber>=e?r(n):t.cancelled?r(null):r(void 0)},0)}),{oncePoll:n})})}function Rc0(t,e,n,r){return Ev(this,void 0,void 0,function*(){let i=t.provider;switch(n){case"getBlockNumber":case"getGasPrice":return i[n]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&F1(r.blockTag)&&(i=yield uh(t,e)),i[n](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&F1(r.blockTag)&&(i=yield uh(t,e)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&F1(r.blockTag)&&(i=yield uh(t,e)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&F1(r.blockTag)&&(i=yield uh(t,e)),n==="call"&&r.blockTag?i[n](r.transaction,r.blockTag):i[n](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[n](r.transactionHash);case"getLogs":{let s=r.filter;return(s.fromBlock&&F1(s.fromBlock)||s.toBlock&&F1(s.toBlock))&&(i=yield uh(t,e)),i.getLogs(s)}}return cr.throwError("unknown method error",J.errors.UNKNOWN_ERROR,{method:n,params:r})})}var Ev,cr,Dc0,Oc0,Fc0,dh,Aq=I0(()=>{"use strict";qs();S4();S2();f3();$l();ar();nh();wt();Q1();r5();Ev=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},cr=new J(c3);Dc0=1;Oc0=[J.errors.CALL_EXCEPTION,J.errors.INSUFFICIENT_FUNDS,J.errors.NONCE_EXPIRED,J.errors.REPLACEMENT_UNDERPRICED,J.errors.UNPREDICTABLE_GAS_LIMIT],Fc0=["address","args","errorArgs","errorSignature","method","transaction"];dh=class extends te{constructor(e,n){e.length===0&&cr.throwArgumentError("missing providers","providers",e);let r=e.map((a,o)=>{if(s7.isProvider(a)){let h=Xl(a)?2e3:750;return Object.freeze({provider:a,weight:1,stallTimeout:h,priority:1})}let c=$2(a);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=Xl(a)?2e3:750),c.weight==null&&(c.weight=1);let l=c.weight;return(l%1||l>512||l<1)&&cr.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${o}].weight`,l),Object.freeze(c)}),i=r.reduce((a,o)=>a+o.weight,0);n==null?n=i/2:n>i&&cr.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);let s=zq(r.map(a=>a.provider.network));s==null&&(s=new Promise((a,o)=>{setTimeout(()=>{this.detectNetwork().then(a,o)},0)})),super(s),w0(this,"providerConfigs",Object.freeze(r)),w0(this,"quorum",n),this._highestBlockNumber=-1}detectNetwork(){return Ev(this,void 0,void 0,function*(){let e=yield Promise.all(this.providerConfigs.map(n=>n.provider.getNetwork()));return zq(e)})}perform(e,n){return Ev(this,void 0,void 0,function*(){if(e==="sendTransaction"){let c=yield Promise.all(this.providerConfigs.map(l=>l.provider.sendTransaction(n.signedTransaction).then(h=>h.hash,h=>h)));for(let l=0;l<c.length;l++){let h=c[l];if(typeof h=="string")return h}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());let r=Vc0(this,e,n),i=Wl(this.providerConfigs.map($2));i.sort((c,l)=>c.priority-l.priority);let s=this._highestBlockNumber,a=0,o=!0;for(;;){let c=Av(),l=i.filter(g=>g.runner&&c-g.start<g.stallTimeout).reduce((g,f)=>g+f.weight,0);for(;l<this.quorum&&a<i.length;){let g=i[a++],f=Dc0++;g.start=Av(),g.staller=Cq(g.stallTimeout),g.staller.wait(()=>{g.staller=null}),g.runner=Rc0(g,s,e,n).then(w=>{g.done=!0,g.result=w,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:f,backend:_v(g,Av()),request:{method:e,params:J3(n)},provider:this})},w=>{g.done=!0,g.error=w,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:f,backend:_v(g,Av()),request:{method:e,params:J3(n)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:f,backend:_v(g,null),request:{method:e,params:J3(n)},provider:this}),l+=g.weight}let h=[];i.forEach(g=>{g.done||!g.runner||(h.push(g.runner),g.staller&&h.push(g.staller.getPromise()))}),h.length&&(yield Promise.race(h));let u=i.filter(g=>g.done&&g.error==null);if(u.length>=this.quorum){let g=r(u);if(g!==void 0)return i.forEach(f=>{f.staller&&f.staller.cancel(),f.cancelled=!0}),g;o||(yield Cq(100).getPromise()),o=!1}let p=i.reduce((g,f)=>{if(!f.done||f.error==null)return g;let w=f.error.code;return Oc0.indexOf(w)>=0&&(g[w]||(g[w]={error:f.error,weight:0}),g[w].weight+=f.weight),g},{});if(Object.keys(p).forEach(g=>{let f=p[g];if(f.weight<this.quorum)return;i.forEach(A=>{A.staller&&A.staller.cancel(),A.cancelled=!0});let w=f.error,L={};Fc0.forEach(A=>{w[A]!=null&&(L[A]=w[A])}),cr.throwError(w.reason||w.message,g,L)}),i.filter(g=>!g.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),cr.throwError("failed to meet quorum",J.errors.SERVER_ERROR,{method:e,params:n,results:i.map(c=>_v(c)),provider:this})})}}});var wE,_q=I0(()=>{"use strict";wE=null});var Sv,ph,mh,va,Eq=I0(()=>{"use strict";f3();yv();wt();Q1();r5();yt();Sv=new J(c3),ph="84842078b09946638c03157f83405213",mh=class extends o9{constructor(e,n){let r=new va(e,n),i=r.connection;i.password&&Sv.throwError("INFURA WebSocket project secrets unsupported",J.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});let s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),w0(this,"apiKey",r.projectId),w0(this,"projectId",r.projectId),w0(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===ph}},va=class extends w5{static getWebSocketProvider(e,n){return new mh(e,n)}static getApiKey(e){let n={apiKey:ph,projectId:ph,projectSecret:null};return e==null||(typeof e=="string"?n.projectId=e:e.projectSecret!=null?(Sv.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Sv.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),n.projectId=e.projectId,n.projectSecret=e.projectSecret):e.projectId&&(n.projectId=e.projectId),n.apiKey=n.projectId),n}static getUrl(e,n){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:Sv.throwError("unsupported network",J.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i={allowGzip:!0,url:"https://"+r+"/v3/"+n.projectId,throttleCallback:(s,a)=>(n.projectId===ph&&ee(),Promise.resolve(!0))};return n.projectSecret!=null&&(i.user="",i.password=n.projectSecret),i}isCommunityResource(){return this.projectId===ph}}});var kv,Sq=I0(()=>{"use strict";f3();ar();pa();kv=class extends i6{send(e,n){let r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);let i={request:r,resolve:null,reject:null},s=new Promise((a,o)=>{i.resolve=a,i.reject=o});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let a=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let o=a.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:J3(o),provider:this}),K7(this.connection,JSON.stringify(o)).then(c=>{this.emit("debug",{action:"response",request:o,response:c,provider:this}),a.forEach((l,h)=>{let u=c[h];if(u.error){let p=new Error(u.error.message);p.code=u.error.code,p.data=u.error.data,l.reject(p)}else l.resolve(u.result)})},c=>{this.emit("debug",{action:"response",error:c,request:o,provider:this}),a.forEach(l=>{l.reject(c)})})},10)),s}}});var yE,Nc0,fh,kq=I0(()=>{"use strict";yt();Q1();r5();yE=new J(c3),Nc0="ETHERS_JS_SHARED",fh=class extends w5{static getApiKey(e){return e&&typeof e!="string"&&yE.throwArgumentError("invalid apiKey","apiKey",e),e||Nc0}static getUrl(e,n){yE.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:yE.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+n}}});var Tq,Pq,gh,Lq=I0(()=>{"use strict";Q1();r5();yt();Tq=new J(c3),Pq="62e1ad51b37b8e00394bda3b",gh=class extends w5{static getApiKey(e){let n={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?n.applicationId=Pq:typeof e=="string"?n.applicationId=e:e.applicationSecretKey!=null?(n.applicationId=e.applicationId,n.applicationSecretKey=e.applicationSecretKey):e.applicationId?n.applicationId=e.applicationId:Tq.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),n}static getUrl(e,n){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Tq.throwError("unsupported network",J.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i=`https://${r}/v1/lb/${n.applicationId}`,s={headers:{},url:i};return n.applicationSecretKey!=null&&(s.user="",s.password=n.applicationSecretKey),s}isCommunityResource(){return this.applicationId===Pq}}});function Dq(t,e){let n="Web3LegacyFetcher";return function(r,i){let s={method:r,params:i,id:Bc0++,jsonrpc:"2.0"};return new Promise((a,o)=>{this.emit("debug",{action:"request",fetcher:n,request:J3(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:n,error:c,request:s,provider:this}),o(c);if(this.emit("debug",{action:"response",fetcher:n,request:s,response:l,provider:this}),l.error){let h=new Error(l.error.message);return h.code=l.error.code,h.data=l.error.data,o(h)}a(l.result)})})}}function Zc0(t){return function(e,n){n==null&&(n=[]);let r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:J3(r),provider:this}),t.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}var Iq,Bc0,vh,Oq=I0(()=>{"use strict";f3();Q1();r5();pa();Iq=new J(c3),Bc0=1;vh=class extends i6{constructor(e,n){e==null&&Iq.throwArgumentError("missing provider","provider",e);let r=null,i=null,s=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(r===""&&(r="eip-1193:"),i=Zc0(e)):e.sendAsync?i=Dq(e,e.sendAsync.bind(e)):e.send?i=Dq(e,e.send.bind(e)):Iq.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,n),w0(this,"jsonRpcFetchFunc",i),w0(this,"provider",s)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}});var xh={};M5(xh,{AlchemyProvider:()=>fa,AlchemyWebSocketProvider:()=>oh,AnkrProvider:()=>ch,BaseProvider:()=>te,CloudflareProvider:()=>lh,EtherscanProvider:()=>hh,FallbackProvider:()=>dh,Formatter:()=>or,InfuraProvider:()=>va,InfuraWebSocketProvider:()=>mh,IpcProvider:()=>wE,JsonRpcBatchProvider:()=>kv,JsonRpcProvider:()=>i6,JsonRpcSigner:()=>da,NodesmithProvider:()=>fh,PocketProvider:()=>gh,Provider:()=>s7,Resolver:()=>ua,StaticJsonRpcProvider:()=>ah,UrlJsonRpcProvider:()=>w5,Web3Provider:()=>vh,WebSocketProvider:()=>o9,getDefaultProvider:()=>bh,getNetwork:()=>Ql,isCommunityResourcable:()=>hE,isCommunityResource:()=>Xl,showThrottleMessage:()=>ee});function bh(t,e){if(t==null&&(t="homestead"),typeof t=="string"){let r=t.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new i6(t);case"ws":case"wss":return new o9(t);default:Fq.throwArgumentError("unsupported URL scheme","network",t)}}let n=Ql(t);return(!n||!n._defaultProvider)&&Fq.throwError("unsupported getDefaultProvider network",J.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),n._defaultProvider({FallbackProvider:dh,AlchemyProvider:fa,AnkrProvider:ch,CloudflareProvider:lh,EtherscanProvider:hh,InfuraProvider:va,JsonRpcProvider:i6,NodesmithProvider:fh,PocketProvider:gh,Web3Provider:vh,IpcProvider:null},e)}var Fq,zE=I0(()=>{"use strict";qs();oE();nh();mq();fq();vq();yq();Aq();_q();Eq();pa();Sq();kq();Lq();yt();Oq();yv();wt();Q1();r5();Fq=new J(c3)});var Hq,Vq=I0(()=>{"use strict";Hq="solidity/5.7.0"});function Rq(t,e,n){switch(t){case"address":return n?Un(e,32):P0(e);case"string":return Z2(e);case"bytes":return P0(e);case"bool":return e=e?"0x01":"0x00",n?Un(e,32):P0(e)}let r=t.match(Uc0);if(r){let i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!==0||i===0||i>256)&&ba.throwArgumentError("invalid number type","type",t),n&&(i=256),e=j0.from(e).toTwos(i),Un(e,i/8)}if(r=t.match(jc0),r){let i=parseInt(r[1]);return(String(i)!==r[1]||i===0||i>32)&&ba.throwArgumentError("invalid bytes type","type",t),P0(e).byteLength!==i&&ba.throwArgumentError(`invalid value for ${t}`,"value",e),n?P0((e+qc0).substring(0,66)):e}if(r=t.match(Gc0),r&&Array.isArray(e)){let i=r[1];parseInt(r[2]||String(e.length))!=e.length&&ba.throwArgumentError(`invalid array length for ${t}`,"value",e);let a=[];return e.forEach(function(o){a.push(Rq(i,o,!0))}),y2(a)}return ba.throwArgumentError("invalid type","type",t)}function Tv(t,e){t.length!=e.length&&ba.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);let n=[];return t.forEach(function(r,i){n.push(Rq(r,e[i]))}),Z0(y2(n))}function Nq(t,e){return z2(Tv(t,e))}function Bq(t,e){return r6(Tv(t,e))}var jc0,Uc0,Gc0,qc0,ba,Zq=I0(()=>{"use strict";S4();S2();C6();rr();H5();Q1();Vq();jc0=new RegExp("^bytes([0-9]+)$"),Uc0=new RegExp("^(u?int)([0-9]*)$"),Gc0=new RegExp("^(.*)\\[([0-9]*)\\]$"),qc0="0000000000000000000000000000000000000000000000000000000000000000",ba=new J(Hq)});var jq,Uq=I0(()=>{"use strict";jq="units/5.7.0"});function Wq(t){let e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&Gq.throwArgumentError("invalid value","value",t);let n=e[0],r="";for(n.substring(0,1)==="-"&&(r="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);let s=[];for(;n.length;)if(n.length<=3){s.unshift(n);break}else{let a=n.length-3;s.unshift(n.substring(a)),n=n.substring(0,a)}return r+s.join(",")+i}function ME(t,e){if(typeof e=="string"){let n=qq.indexOf(e);n!==-1&&(e=3*n)}return Ps(t,e??18)}function CE(t,e){if(typeof t!="string"&&Gq.throwArgumentError("value must be a string","value",t),typeof e=="string"){let n=qq.indexOf(e);n!==-1&&(e=3*n)}return t7(t,e??18)}function $q(t){return ME(t,18)}function Kq(t){return CE(t,18)}var Gq,qq,Qq=I0(()=>{"use strict";S4();Q1();Uq();Gq=new J(jq),qq=["wei","kwei","mwei","gwei","szabo","finney","ether"]});var wh={};M5(wh,{AbiCoder:()=>Ns,ConstructorFragment:()=>B8,ErrorFragment:()=>qn,EventFragment:()=>qe,FormatTypes:()=>N2,Fragment:()=>N8,FunctionFragment:()=>Z8,HDNode:()=>J8,Indexed:()=>$e,Interface:()=>ut,LogDescription:()=>Us,Logger:()=>J,ParamType:()=>e5,RLP:()=>zg,SigningKey:()=>h7,SupportedAlgorithm:()=>e9,TransactionDescription:()=>Gs,TransactionTypes:()=>O_,UnicodeNormalizationForm:()=>X5,Utf8ErrorFuncs:()=>Fg,Utf8ErrorReason:()=>F5,_TypedDataEncoder:()=>i7,_fetchData:()=>cE,_toEscapedUtf8String:()=>XA,accessListify:()=>S6,arrayify:()=>P0,base58:()=>Xe,base64:()=>c_,checkProperties:()=>Is,checkResultErrors:()=>Fs,commify:()=>Wq,computeAddress:()=>u7,computeHmac:()=>t9,computePublicKey:()=>Nl,concat:()=>y2,deepCopy:()=>J3,defaultAbiCoder:()=>Il,defaultPath:()=>n9,defineReadOnly:()=>w0,dnsEncode:()=>Fl,entropyToMnemonic:()=>sr,fetchJson:()=>K7,formatBytes32String:()=>e_,formatEther:()=>$q,formatUnits:()=>ME,getAccountPath:()=>mG,getAddress:()=>M2,getContractAddress:()=>$n,getCreate2Address:()=>qZ,getIcapAddress:()=>GZ,getJsonWalletAddress:()=>eE,getStatic:()=>X3,hashMessage:()=>js,hexConcat:()=>E4,hexDataLength:()=>g5,hexDataSlice:()=>x3,hexStripZeros:()=>RA,hexValue:()=>H8,hexZeroPad:()=>P2,hexlify:()=>Z0,id:()=>A6,isAddress:()=>UZ,isBytes:()=>X6,isBytesLike:()=>je,isHexString:()=>F1,isValidMnemonic:()=>pG,isValidName:()=>u_,joinSignature:()=>zl,keccak256:()=>z2,mnemonicToEntropy:()=>sa,mnemonicToSeed:()=>G_,namehash:()=>ht,nameprep:()=>i_,parseBytes32String:()=>t_,parseEther:()=>Kq,parseTransaction:()=>Xg,parseUnits:()=>CE,poll:()=>Q7,randomBytes:()=>X8,recoverAddress:()=>er,recoverPublicKey:()=>Jg,resolveProperties:()=>w3,ripemd160:()=>Ul,serializeTransaction:()=>Zl,sha256:()=>r6,sha512:()=>R_,shallowCopy:()=>$2,shuffled:()=>Wl,solidityKeccak256:()=>Nq,solidityPack:()=>Tv,soliditySha256:()=>Bq,splitSignature:()=>V8,stripZeros:()=>z6,toUtf8Bytes:()=>Z2,toUtf8CodePoints:()=>lt,toUtf8String:()=>e6,verifyMessage:()=>VG,verifyTypedData:()=>RG,zeroPad:()=>Un});var Yq=I0(()=>{"use strict";f_();r7();Dl();sv();S2();Yn();cv();sE();C6();Q1();rr();Zq();$l();f3();Mg();Bl();H5();Je();Qq();aE();ar();rr();H5()});var yh,Jq=I0(()=>{"use strict";yh="ethers/5.7.2"});var lr={};M5(lr,{BaseContract:()=>nr,BigNumber:()=>j0,Contract:()=>vt,ContractFactory:()=>ta,FixedNumber:()=>Ge,Signer:()=>t6,VoidSigner:()=>dt,Wallet:()=>ca,Wordlist:()=>W7,constants:()=>Ll,errors:()=>Y5,getDefaultProvider:()=>bh,logger:()=>AE,providers:()=>xh,utils:()=>wh,version:()=>yh,wordlists:()=>bt});var AE,_E=I0(()=>{"use strict";JU();S4();Hl();aE();Kn();zE();zE();j_();Yq();Q1();Jq();AE=new J(yh)});var EE={};M5(EE,{BaseContract:()=>nr,BigNumber:()=>j0,Contract:()=>vt,ContractFactory:()=>ta,FixedNumber:()=>Ge,Signer:()=>t6,VoidSigner:()=>dt,Wallet:()=>ca,Wordlist:()=>W7,constants:()=>Ll,errors:()=>Y5,ethers:()=>lr,getDefaultProvider:()=>bh,logger:()=>AE,providers:()=>xh,utils:()=>wh,version:()=>yh,wordlists:()=>bt});var Pv=I0(()=>{"use strict";_E();_E();try{let t=window;t._ethers==null&&(t._ethers=lr)}catch{}});var PE=c1(Mt=>{"use strict";var SE,kE,TE;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getAddress=Mt.hashMessage=Mt.verifyMessage=void 0;var d7=(Pv(),MS(EE));Mt.verifyMessage=(SE=d7.utils===null||d7.utils===void 0?void 0:d7.utils.verifyMessage)!==null&&SE!==void 0?SE:d7.verifyMessage;Mt.hashMessage=(kE=d7.utils===null||d7.utils===void 0?void 0:d7.utils.hashMessage)!==null&&kE!==void 0?kE:d7.hashMessage;Mt.getAddress=(TE=d7.utils===null||d7.utils===void 0?void 0:d7.utils.getAddress)!==null&&TE!==void 0?TE:d7.getAddress});var IE=c1(Y7=>{"use strict";Object.defineProperty(Y7,"__esModule",{value:!0});Y7.SiweErrorType=Y7.SiweError=Y7.VerifyOptsKeys=Y7.VerifyParamsKeys=void 0;Y7.VerifyParamsKeys=["signature","domain","nonce","time"];Y7.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"];var LE=class{constructor(e,n,r){this.type=e,this.expected=n,this.received=r}};Y7.SiweError=LE;var Wc0;(function(t){t.EXPIRED_MESSAGE="Expired message.",t.INVALID_DOMAIN="Invalid domain.",t.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",t.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",t.INVALID_ADDRESS="Invalid address.",t.INVALID_URI="URI does not conform to RFC 3986.",t.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",t.NOT_YET_VALID_MESSAGE="Message is not valid yet.",t.INVALID_SIGNATURE="Signature does not match address of the message.",t.INVALID_TIME_FORMAT="Invalid time format.",t.INVALID_MESSAGE_VERSION="Invalid message version.",t.UNABLE_TO_PARSE="Unable to parse the message."})(Wc0=Y7.SiweErrorType||(Y7.SiweErrorType={}))});var eW=c1(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.BrowserRandomSource=void 0;var Xq=65536,DE=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let n=new Uint8Array(e);for(let r=0;r<n.length;r+=Xq)this._crypto.getRandomValues(n.subarray(r,r+Math.min(n.length-r,Xq)));return n}};Lv.BrowserRandomSource=DE});var FE=c1(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});function $c0(t){for(var e=0;e<t.length;e++)t[e]=0;return t}OE.wipe=$c0});var tW=c1(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.NodeRandomSource=void 0;var Kc0=FE(),HE=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Dh<"u"){let e=dz();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=n[i];return(0,Kc0.wipe)(n),r}};Iv.NodeRandomSource=HE});var nW=c1(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.SystemRandomSource=void 0;var Qc0=eW(),Yc0=tW(),VE=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Qc0.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Yc0.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Dv.SystemRandomSource=VE});var rW=c1(k6=>{"use strict";Object.defineProperty(k6,"__esModule",{value:!0});function Jc0(t,e){var n=t>>>16&65535,r=t&65535,i=e>>>16&65535,s=e&65535;return r*s+(n*s+r*i<<16>>>0)|0}k6.mul=Math.imul||Jc0;function Xc0(t,e){return t+e|0}k6.add=Xc0;function el0(t,e){return t-e|0}k6.sub=el0;function tl0(t,e){return t<<e|t>>>32-e}k6.rotl=tl0;function nl0(t,e){return t<<32-e|t>>>e}k6.rotr=nl0;function rl0(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}k6.isInteger=Number.isInteger||rl0;k6.MAX_SAFE_INTEGER=9007199254740991;k6.isSafeInteger=function(t){return k6.isInteger(t)&&t>=-k6.MAX_SAFE_INTEGER&&t<=k6.MAX_SAFE_INTEGER}});var lW=c1(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});var iW=rW();function il0(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}I2.readInt16BE=il0;function sl0(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}I2.readUint16BE=sl0;function al0(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}I2.readInt16LE=al0;function ol0(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}I2.readUint16LE=ol0;function sW(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}I2.writeUint16BE=sW;I2.writeInt16BE=sW;function aW(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}I2.writeUint16LE=aW;I2.writeInt16LE=aW;function RE(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}I2.readInt32BE=RE;function NE(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}I2.readUint32BE=NE;function BE(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}I2.readInt32LE=BE;function ZE(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}I2.readUint32LE=ZE;function Ov(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}I2.writeUint32BE=Ov;I2.writeInt32BE=Ov;function Fv(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}I2.writeUint32LE=Fv;I2.writeInt32LE=Fv;function cl0(t,e){e===void 0&&(e=0);var n=RE(t,e),r=RE(t,e+4);return n*4294967296+r-(r>>31)*4294967296}I2.readInt64BE=cl0;function ll0(t,e){e===void 0&&(e=0);var n=NE(t,e),r=NE(t,e+4);return n*4294967296+r}I2.readUint64BE=ll0;function hl0(t,e){e===void 0&&(e=0);var n=BE(t,e),r=BE(t,e+4);return r*4294967296+n-(n>>31)*4294967296}I2.readInt64LE=hl0;function ul0(t,e){e===void 0&&(e=0);var n=ZE(t,e),r=ZE(t,e+4);return r*4294967296+n}I2.readUint64LE=ul0;function oW(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),Ov(t/4294967296>>>0,e,n),Ov(t>>>0,e,n+4),e}I2.writeUint64BE=oW;I2.writeInt64BE=oW;function cW(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),Fv(t>>>0,e,n),Fv(t/4294967296>>>0,e,n+4),e}I2.writeUint64LE=cW;I2.writeInt64LE=cW;function dl0(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,s=t/8+n-1;s>=n;s--)r+=e[s]*i,i*=256;return r}I2.readUintBE=dl0;function pl0(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,s=n;s<n+t/8;s++)r+=e[s]*i,i*=256;return r}I2.readUintLE=pl0;function ml0(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!iW.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+r-1;s>=r;s--)n[s]=e/i&255,i*=256;return n}I2.writeUintBE=ml0;function fl0(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!iW.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=r;s<r+t/8;s++)n[s]=e/i&255,i*=256;return n}I2.writeUintLE=fl0;function gl0(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e)}I2.readFloat32BE=gl0;function vl0(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e,!0)}I2.readFloat32LE=vl0;function bl0(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e)}I2.readFloat64BE=bl0;function xl0(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e,!0)}I2.readFloat64LE=xl0;function wl0(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t),e}I2.writeFloat32BE=wl0;function yl0(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t,!0),e}I2.writeFloat32LE=yl0;function zl0(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t),e}I2.writeFloat64BE=zl0;function Ml0(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t,!0),e}I2.writeFloat64LE=Ml0});var pW=c1(y5=>{"use strict";Object.defineProperty(y5,"__esModule",{value:!0});y5.randomStringForEntropy=y5.randomString=y5.randomUint32=y5.randomBytes=y5.defaultRandomSource=void 0;var Cl0=nW(),Al0=lW(),hW=FE();y5.defaultRandomSource=new Cl0.SystemRandomSource;function jE(t,e=y5.defaultRandomSource){return e.randomBytes(t)}y5.randomBytes=jE;function _l0(t=y5.defaultRandomSource){let e=jE(4,t),n=(0,Al0.readUint32LE)(e);return(0,hW.wipe)(e),n}y5.randomUint32=_l0;var uW="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function dW(t,e=uW,n=y5.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let r="",i=e.length,s=256-256%i;for(;t>0;){let a=jE(Math.ceil(t*256/s),n);for(let o=0;o<a.length&&t>0;o++){let c=a[o];c<s&&(r+=e.charAt(c%i),t--)}(0,hW.wipe)(a)}return r}y5.randomString=dW;function El0(t,e=uW,n=y5.defaultRandomSource){let r=Math.ceil(t/(Math.log(e.length)/Math.LN2));return dW(r,e,n)}y5.randomStringForEntropy=El0});var UE=c1(p7=>{"use strict";var Sl0=p7&&p7.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};Object.defineProperty(p7,"__esModule",{value:!0});p7.checkInvalidKeys=p7.isValidISO8601Date=p7.generateNonce=p7.checkContractWalletSignature=void 0;var kl0=pW(),Tl0=(Pv(),MS(EE)),Pl0=PE(),Ll0=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],Il0="0x1626ba7e",mW=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/,Dl0=(t,e,n)=>Sl0(void 0,void 0,void 0,function*(){if(!n)return!1;let r=new Tl0.Contract(t.address,Ll0,n),i=(0,Pl0.hashMessage)(t.prepareMessage());return(yield r.isValidSignature(i,e))==Il0});p7.checkContractWalletSignature=Dl0;var Ol0=()=>{let t=(0,kl0.randomStringForEntropy)(96);if(!t||t.length<8)throw new Error("Error during nonce creation.");return t};p7.generateNonce=Ol0;var Fl0=t=>{let e=mW.exec(t);if(!t)return!1;let n=new Date(e.groups.date).toISOString(),r=mW.exec(n);return e.groups.date===r.groups.date};p7.isValidISO8601Date=Fl0;var Hl0=(t,e)=>{let n=[];return Object.keys(t).forEach(r=>{e.includes(r)||n.push(r)}),n};p7.checkInvalidKeys=Hl0});var vW=c1(m7=>{"use strict";var Vl0=m7&&m7.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Rl0=m7&&m7.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nl0=m7&&m7.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Vl0(e,t,n);return Rl0(e,t),e},fW=m7&&m7.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};Object.defineProperty(m7,"__esModule",{value:!0});m7.SiweMessage=void 0;var GE=VB(),Bl0=Nl0(NB()),gW=PE(),H3=IE(),Ct=UE(),qE=class{constructor(e){if(typeof e=="string"){let n=new GE.ParsedMessage(e);this.domain=n.domain,this.address=n.address,this.statement=n.statement,this.uri=n.uri,this.version=n.version,this.nonce=n.nonce,this.issuedAt=n.issuedAt,this.expirationTime=n.expirationTime,this.notBefore=n.notBefore,this.requestId=n.requestId,this.chainId=n.chainId,this.resources=n.resources}else Object.assign(this,e),typeof this.chainId=="string"&&(this.chainId=(0,GE.parseIntegerNumber)(this.chainId));this.nonce=this.nonce||(0,Ct.generateNonce)(),this.validateMessage()}toMessage(){this.validateMessage();let e=`${this.domain} wants you to sign in with your Ethereum account:`,n=`URI: ${this.uri}`,r=[e,this.address].join(`
`),i=`Version: ${this.version}`;this.nonce||(this.nonce=(0,Ct.generateNonce)());let s="Chain ID: "+this.chainId||"1",a=`Nonce: ${this.nonce}`,o=[n,i,s,a];if(this.issuedAt=this.issuedAt||new Date().toISOString(),o.push(`Issued At: ${this.issuedAt}`),this.expirationTime){let l=`Expiration Time: ${this.expirationTime}`;o.push(l)}this.notBefore&&o.push(`Not Before: ${this.notBefore}`),this.requestId&&o.push(`Request ID: ${this.requestId}`),this.resources&&o.push(["Resources:",...this.resources.map(l=>`- ${l}`)].join(`
`));let c=o.join(`
`);return r=[r,this.statement].join(`

`),this.statement&&(r+=`
`),[r,c].join(`
`)}prepareMessage(){let e;switch(this.version){case"1":{e=this.toMessage();break}default:{e=this.toMessage();break}}return e}validate(e,n){return fW(this,void 0,void 0,function*(){return console.warn("validate() has been deprecated, please update your code to use verify(). validate() may be removed in future versions."),this.verify({signature:e},{provider:n,suppressExceptions:!1}).then(({data:r})=>r).catch(({error:r})=>{throw r})})}verify(e,n={suppressExceptions:!1}){return fW(this,void 0,void 0,function*(){return new Promise((r,i)=>{var s,a,o;let c=_=>n.suppressExceptions?r(_):i(_),l=(0,Ct.checkInvalidKeys)(e,H3.VerifyParamsKeys);l.length>0&&c({success:!1,data:this,error:new Error(`${l.join(", ")} is/are not valid key(s) for VerifyParams.`)});let h=(0,Ct.checkInvalidKeys)(n,H3.VerifyOptsKeys);l.length>0&&c({success:!1,data:this,error:new Error(`${h.join(", ")} is/are not valid key(s) for VerifyOpts.`)});let{signature:u,domain:p,nonce:g,time:f}=e;p&&p!==this.domain&&c({success:!1,data:this,error:new H3.SiweError(H3.SiweErrorType.DOMAIN_MISMATCH,p,this.domain)}),g&&g!==this.nonce&&c({success:!1,data:this,error:new H3.SiweError(H3.SiweErrorType.NONCE_MISMATCH,g,this.nonce)});let w=new Date(f||new Date);if(this.expirationTime){let _=new Date(this.expirationTime);w.getTime()>=_.getTime()&&c({success:!1,data:this,error:new H3.SiweError(H3.SiweErrorType.EXPIRED_MESSAGE,`${w.toISOString()} < ${_.toISOString()}`,`${w.toISOString()} >= ${_.toISOString()}`)})}if(this.notBefore){let _=new Date(this.notBefore);w.getTime()<_.getTime()&&c({success:!1,data:this,error:new H3.SiweError(H3.SiweErrorType.NOT_YET_VALID_MESSAGE,`${w.toISOString()} >= ${_.toISOString()}`,`${w.toISOString()} < ${_.toISOString()}`)})}let L;try{L=this.prepareMessage()}catch(_){c({success:!1,data:this,error:_})}let A;try{A=(0,gW.verifyMessage)(L,u)}catch(_){console.error(_)}if(A===this.address)return r({success:!0,data:this});{let _=(0,Ct.checkContractWalletSignature)(this,u,n.provider).then(R=>R?{success:!0,data:this}:{success:!1,data:this,error:new H3.SiweError(H3.SiweErrorType.INVALID_SIGNATURE,A,`Resolved address to be ${this.address}`)}).catch(R=>({success:!1,data:this,error:R}));Promise.all([_,(o=(a=(s=n?.verificationFallback)===null||s===void 0?void 0:s.call(n,e,n,this,_))===null||a===void 0?void 0:a.then(R=>R))===null||o===void 0?void 0:o.catch(R=>R)]).then(([R,G])=>{if(G){if(G.success)return r(G);c(G)}else{if(R.success)return r(R);c(R)}})}})})}validateMessage(...e){var n;if(e.length>0)throw new H3.SiweError(H3.SiweErrorType.UNABLE_TO_PARSE,"Unexpected argument in the validateMessage function.");if(!this.domain||this.domain.length===0||!/[^#?]*/.test(this.domain))throw new H3.SiweError(H3.SiweErrorType.INVALID_DOMAIN,`${this.domain} to be a valid domain.`);if(!(0,GE.isEIP55Address)(this.address))throw new H3.SiweError(H3.SiweErrorType.INVALID_ADDRESS,(0,gW.getAddress)(this.address),this.address);if(!Bl0.isUri(this.uri))throw new H3.SiweError(H3.SiweErrorType.INVALID_URI,`${this.uri} to be a valid uri.`);if(this.version!=="1")throw new H3.SiweError(H3.SiweErrorType.INVALID_MESSAGE_VERSION,"1",this.version);let r=(n=this===null||this===void 0?void 0:this.nonce)===null||n===void 0?void 0:n.match(/[a-zA-Z0-9]{8,}/);if(!r||this.nonce.length<8||r[0]!==this.nonce)throw new H3.SiweError(H3.SiweErrorType.INVALID_NONCE,`Length > 8 (${r.length}). Alphanumeric.`,this.nonce);if(this.issuedAt&&!(0,Ct.isValidISO8601Date)(this.issuedAt))throw new Error(H3.SiweErrorType.INVALID_TIME_FORMAT);if(this.expirationTime&&!(0,Ct.isValidISO8601Date)(this.expirationTime))throw new Error(H3.SiweErrorType.INVALID_TIME_FORMAT);if(this.notBefore&&!(0,Ct.isValidISO8601Date)(this.notBefore))throw new Error(H3.SiweErrorType.INVALID_TIME_FORMAT)}};m7.SiweMessage=qE});var bW=c1(c9=>{"use strict";var Zl0=c9&&c9.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),WE=c9&&c9.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Zl0(e,t,n)};Object.defineProperty(c9,"__esModule",{value:!0});WE(vW(),c9);WE(IE(),c9);WE(UE(),c9)});var LS=null;var hb=1;function s6(t){let e=LS;return LS=t,e}var IS={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function I$(t){if(!(pb(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hb)){if(!t.producerMustRecompute(t)&&!ub(t)){t.dirty=!1,t.lastCleanEpoch=hb;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hb}}function DS(t){return t&&(t.nextProducerIndex=0),s6(t)}function OS(t,e){if(s6(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(pb(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)db(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ub(t){Oh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(I$(n),r!==n.version))return!0}return!1}function FS(t){if(Oh(t),pb(t))for(let e=0;e<t.producerNode.length;e++)db(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function db(t,e){if(D$(t),Oh(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)db(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oh(i),i.producerIndexOfThis[r]=e}}function pb(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function D$(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function O$(){throw new Error}var F$=O$;function HS(t){F$=t}function o2(t){return typeof t=="function"}function mr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fh=mr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ea(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var L4=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(o2(r))try{r()}catch(s){e=s instanceof Fh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{VS(s)}catch(a){e=e??[],a instanceof Fh?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Fh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ea(n,e)}remove(e){let{_finalizers:n}=this;n&&Ea(n,e),e instanceof t&&e._removeParent(this)}};L4.EMPTY=(()=>{let t=new L4;return t.closed=!0,t})();var mb=L4.EMPTY;function Hh(t){return t instanceof L4||t&&"closed"in t&&o2(t.remove)&&o2(t.add)&&o2(t.unsubscribe)}function VS(t){o2(t)?t():t.unsubscribe()}var x7={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fr={setTimeout(t,e,...n){let{delegate:r}=fr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=fr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vh(t){fr.setTimeout(()=>{let{onUnhandledError:e}=x7;if(e)e(t);else throw t})}function Sa(){}var RS=(()=>fb("C",void 0,void 0))();function NS(t){return fb("E",void 0,t)}function BS(t){return fb("N",t,void 0)}function fb(t,e,n){return{kind:t,value:e,error:n}}var Et=null;function gr(t){if(x7.useDeprecatedSynchronousErrorHandling){let e=!Et;if(e&&(Et={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Et;if(Et=null,n)throw r}}else t()}function ZS(t){x7.useDeprecatedSynchronousErrorHandling&&Et&&(Et.errorThrown=!0,Et.error=t)}var St=class extends L4{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hh(e)&&e.add(this)):this.destination=R$}static create(e,n,r){return new h9(e,n,r)}next(e){this.isStopped?vb(BS(e),this):this._next(e)}error(e){this.isStopped?vb(NS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vb(RS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},H$=Function.prototype.bind;function gb(t,e){return H$.call(t,e)}var bb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rh(r)}else Rh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rh(n)}}},h9=class extends St{constructor(e,n,r){super();let i;if(o2(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&x7.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gb(e.next,s),error:e.error&&gb(e.error,s),complete:e.complete&&gb(e.complete,s)}):i=e}this.destination=new bb(i)}};function Rh(t){x7.useDeprecatedSynchronousErrorHandling?ZS(t):Vh(t)}function V$(t){throw t}function vb(t,e){let{onStoppedNotification:n}=x7;n&&fr.setTimeout(()=>n(t,e))}var R$={closed:!0,next:Sa,error:V$,complete:Sa};var vr=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function a6(t){return t}function xb(...t){return wb(t)}function wb(t){return t.length===0?a6:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X2=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=B$(n)?n:new h9(n,r,i);return gr(()=>{let{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jS(r),new r((i,s)=>{let a=new h9({next:o=>{try{n(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vr](){return this}pipe(...n){return wb(n)(this)}toPromise(n){return n=jS(n),new n((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=e=>new t(e),t})();function jS(t){var e;return(e=t??x7.Promise)!==null&&e!==void 0?e:Promise}function N$(t){return t&&o2(t.next)&&o2(t.error)&&o2(t.complete)}function B$(t){return t&&t instanceof St||N$(t)&&Hh(t)}function yb(t){return o2(t?.lift)}function q2(t){return e=>{if(yb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H2(t,e,n,r,i){return new zb(t,e,n,r,i)}var zb=class extends St{constructor(e,n,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(o){try{n(o)}catch(c){e.error(c)}}:super._next,this._error=i?function(o){try{i(o)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function br(){return q2((t,e)=>{let n=null;t._refCount++;let r=H2(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xr=class extends X2{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new L4;let n=this.getSubject();e.add(this.source.subscribe(H2(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=L4.EMPTY)}return e}refCount(){return br()(this)}};var US=mr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V5=(()=>{class t extends X2{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Nh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new US}next(n){gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?mb:(this.currentObservers=null,s.push(n),new L4(()=>{this.currentObservers=null,Ea(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new X2;return n.source=this,n}}return t.create=(e,n)=>new Nh(e,n),t})(),Nh=class extends V5{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mb}};var W3=class extends V5{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var L6=new X2(t=>t.complete());function GS(t){return t&&o2(t.schedule)}function qS(t){return t[t.length-1]}function Bh(t){return o2(qS(t))?t.pop():void 0}function u9(t){return GS(qS(t))?t.pop():void 0}function $S(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}function WS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t){return this instanceof kt?(this.v=t,this):new kt(t)}function KS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(p){r[p]&&(i[p]=function(g){return new Promise(function(f,w){s.push([p,g,f,w])>1||o(p,g)})})}function o(p,g){try{c(r[p](g))}catch(f){u(s[0][3],f)}}function c(p){p.value instanceof kt?Promise.resolve(p.value.v).then(l,h):u(s[0][2],p)}function l(p){o("next",p)}function h(p){o("throw",p)}function u(p,g){p(g),s.shift(),s.length&&o(s[0][0],s[0][1])}}function QS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WS=="function"?WS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}var Zh=t=>t&&typeof t.length=="number"&&typeof t!="function";function jh(t){return o2(t?.then)}function Uh(t){return o2(t[vr])}function Gh(t){return Symbol.asyncIterator&&o2(t?.[Symbol.asyncIterator])}function qh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Z$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wh=Z$();function $h(t){return o2(t?.[Wh])}function Kh(t){return KS(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield kt(n.read());if(i)return yield kt(void 0);yield yield kt(r)}}finally{n.releaseLock()}})}function Qh(t){return o2(t?.getReader)}function x4(t){if(t instanceof X2)return t;if(t!=null){if(Uh(t))return j$(t);if(Zh(t))return U$(t);if(jh(t))return G$(t);if(Gh(t))return YS(t);if($h(t))return q$(t);if(Qh(t))return W$(t)}throw qh(t)}function j$(t){return new X2(e=>{let n=t[vr]();if(o2(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function U$(t){return new X2(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function G$(t){return new X2(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Vh)})}function q$(t){return new X2(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function YS(t){return new X2(e=>{$$(t,e).catch(n=>e.error(n))})}function W$(t){return YS(Kh(t))}function $$(t,e){var n,r,i,s;return $S(this,void 0,void 0,function*(){try{for(n=QS(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function R5(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yh(t,e=0){return q2((n,r)=>{n.subscribe(H2(r,i=>R5(r,t,()=>r.next(i),e),()=>R5(r,t,()=>r.complete(),e),i=>R5(r,t,()=>r.error(i),e)))})}function Jh(t,e=0){return q2((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function JS(t,e){return x4(t).pipe(Jh(e),Yh(e))}function XS(t,e){return x4(t).pipe(Jh(e),Yh(e))}function ek(t,e){return new X2(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tk(t,e){return new X2(n=>{let r;return R5(n,e,()=>{r=t[Wh](),R5(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),()=>o2(r?.return)&&r.return()})}function Xh(t,e){if(!t)throw new Error("Iterable cannot be null");return new X2(n=>{R5(n,e,()=>{let r=t[Symbol.asyncIterator]();R5(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nk(t,e){return Xh(Kh(t),e)}function rk(t,e){if(t!=null){if(Uh(t))return JS(t,e);if(Zh(t))return ek(t,e);if(jh(t))return XS(t,e);if(Gh(t))return Xh(t,e);if($h(t))return tk(t,e);if(Qh(t))return nk(t,e)}throw qh(t)}function Z3(t,e){return e?rk(t,e):x4(t)}function $1(...t){let e=u9(t);return Z3(t,e)}function wr(t,e){let n=o2(t)?t:()=>t,r=i=>i.error(n());return new X2(e?i=>e.schedule(r,0,i):r)}function Mb(t){return!!t&&(t instanceof X2||o2(t.lift)&&o2(t.subscribe))}var w7=mr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $3(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new h9({next:a=>{r(a),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new w7)}});t.subscribe(s)})}function f2(t,e){return q2((n,r)=>{let i=0;n.subscribe(H2(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:K$}=Array;function Q$(t,e){return K$(e)?t(...e):t(e)}function eu(t){return f2(e=>Q$(t,e))}var{isArray:Y$}=Array,{getPrototypeOf:J$,prototype:X$,keys:eK}=Object;function tu(t){if(t.length===1){let e=t[0];if(Y$(e))return{args:e,keys:null};if(tK(e)){let n=eK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tK(t){return t&&typeof t=="object"&&J$(t)===X$}function nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ka(...t){let e=u9(t),n=Bh(t),{args:r,keys:i}=tu(t);if(r.length===0)return Z3([],e);let s=new X2(nK(r,e,i?a=>nu(i,a):a6));return n?s.pipe(eu(n)):s}function nK(t,e,n=a6){return r=>{ik(e,()=>{let{length:i}=t,s=new Array(i),a=i,o=i;for(let c=0;c<i;c++)ik(e,()=>{let l=Z3(t[c],e),h=!1;l.subscribe(H2(r,u=>{s[c]=u,h||(h=!0,o--),o||r.next(n(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}function ik(t,e,n){t?R5(n,t,e):e()}function sk(t,e,n,r,i,s,a,o){let c=[],l=0,h=0,u=!1,p=()=>{u&&!c.length&&!l&&e.complete()},g=w=>l<r?f(w):c.push(w),f=w=>{s&&e.next(w),l++;let L=!1;x4(n(w,h++)).subscribe(H2(e,A=>{i?.(A),s?g(A):e.next(A)},()=>{L=!0},void 0,()=>{if(L)try{for(l--;c.length&&l<r;){let A=c.shift();a?R5(e,a,()=>f(A)):f(A)}p()}catch(A){e.error(A)}}))};return t.subscribe(H2(e,g,()=>{u=!0,p()})),()=>{o?.()}}function w4(t,e,n=1/0){return o2(e)?w4((r,i)=>f2((s,a)=>e(r,s,i,a))(x4(t(r,i))),n):(typeof e=="number"&&(n=e),q2((r,i)=>sk(r,i,t,n)))}function yr(t=1/0){return w4(a6,t)}function ak(){return yr(1)}function zr(...t){return ak()(Z3(t,u9(t)))}function ru(t){return new X2(e=>{x4(t()).subscribe(e)})}function Cb(...t){let e=Bh(t),{args:n,keys:r}=tu(t),i=new X2(s=>{let{length:a}=n;if(!a){s.complete();return}let o=new Array(a),c=a,l=a;for(let h=0;h<a;h++){let u=!1;x4(n[h]).subscribe(H2(s,p=>{u||(u=!0,l--),o[h]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||s.next(r?nu(r,o):o),s.complete())}))}});return e?i.pipe(eu(e)):i}function N5(t,e){return q2((n,r)=>{let i=0;n.subscribe(H2(r,s=>t.call(e,s,i++)&&r.next(s)))})}function d9(t){return q2((e,n)=>{let r=null,i=!1,s;r=e.subscribe(H2(n,void 0,void 0,a=>{s=x4(t(a,d9(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ok(t,e,n,r,i){return(s,a)=>{let o=n,c=e,l=0;s.subscribe(H2(a,h=>{let u=l++;c=o?t(c,h,u):(o=!0,h),r&&a.next(c)},i&&(()=>{o&&a.next(c),a.complete()})))}}function se(t,e){return o2(e)?w4(t,e,1):w4(t,1)}function p9(t){return q2((e,n)=>{let r=!1;e.subscribe(H2(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ae(t){return t<=0?()=>L6:q2((e,n)=>{let r=0;e.subscribe(H2(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ab(t){return f2(()=>t)}function iu(t=rK){return q2((e,n)=>{let r=!1;e.subscribe(H2(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rK(){return new w7}function m9(t){return q2((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function e8(t,e){let n=arguments.length>=2;return r=>r.pipe(t?N5((i,s)=>t(i,s,r)):a6,ae(1),n?p9(e):iu(()=>new w7))}function Mr(t){return t<=0?()=>L6:q2((e,n)=>{let r=[];e.subscribe(H2(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _b(t,e){let n=arguments.length>=2;return r=>r.pipe(t?N5((i,s)=>t(i,s,r)):a6,Mr(1),n?p9(e):iu(()=>new w7))}function Eb(t,e){return q2(ok(t,e,arguments.length>=2,!0))}function Sb(...t){let e=u9(t);return q2((n,r)=>{(e?zr(t,n,e):zr(t,n)).subscribe(r)})}function B5(t,e){return q2((n,r)=>{let i=null,s=0,a=!1,o=()=>a&&!i&&r.complete();n.subscribe(H2(r,c=>{i?.unsubscribe();let l=0,h=s++;x4(t(c,h)).subscribe(i=H2(r,u=>r.next(e?e(c,u,h,l++):u),()=>{i=null,o()}))},()=>{a=!0,o()}))})}function kb(t){return q2((e,n)=>{x4(t).subscribe(H2(n,()=>n.complete(),Sa)),!n.closed&&e.subscribe(n)})}function I4(t,e,n){let r=o2(t)||e||n?{next:t,error:e,complete:n}:t;return r?q2((i,s)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let o=!0;i.subscribe(H2(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;o=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;o=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;o&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):a6}function P3(t){for(let e in t)if(t[e]===P3)return e;throw Error("Could not find renamed property on target object.")}function su(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function c5(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(c5).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iK=P3({__forward_ref__:P3});function I6(t){return t.__forward_ref__=I6,t.toString=function(){return c5(this())},t}function C5(t){return Yk(t)?t():t}function Yk(t){return typeof t=="function"&&t.hasOwnProperty(iK)&&t.__forward_ref__===I6}function Jk(t){return t&&!!t.\u0275providers}var Xk="https://g.co/ng/security#xss",K0=class extends Error{constructor(e,n){super(Fu(e,n)),this.code=e}};function Fu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var sK=P3({\u0275cmp:P3}),aK=P3({\u0275dir:P3}),oK=P3({\u0275pipe:P3}),cK=P3({\u0275mod:P3}),bu=P3({\u0275fac:P3}),Ta=P3({__NG_ELEMENT_ID__:P3}),ck=P3({__NG_ENV_ID__:P3});function r8(t){return typeof t=="string"?t:t==null?"":String(t)}function lK(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():r8(t)}function hK(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K0(-200,`Circular dependency in DI detected for ${t}${n}`)}function Jx(t,e){let n=e?` in ${e}`:"";throw new K0(-201,!1)}function uK(t,e){t==null&&dK(e,t,null,"!=")}function dK(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function J0(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D6(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hu(t){return lk(t,tT)||lk(t,nT)}function eT(t){return Hu(t)!==null}function lk(t,e){return t.hasOwnProperty(e)?t[e]:null}function pK(t){let e=t&&(t[tT]||t[nT]);return e||null}function hk(t){return t&&(t.hasOwnProperty(uk)||t.hasOwnProperty(mK))?t[uk]:null}var tT=P3({\u0275prov:P3}),uk=P3({\u0275inj:P3}),nT=P3({ngInjectableDef:P3}),mK=P3({ngInjectorDef:P3}),k2=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k2||{}),Wb;function rT(){return Wb}function Z5(t){let e=Wb;return Wb=t,e}function iT(t,e,n){let r=Hu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k2.Optional)return null;if(e!==void 0)return e;Jx(c5(t),"Injector")}var o6=globalThis;var L1=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=J0({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var fK={},Pa=fK,$b="__NG_DI_FLAG__",xu="ngTempTokenPath",gK="ngTokenPath",vK=/\n/gm,bK="\u0275",dk="__source",Sr;function xK(){return Sr}function f9(t){let e=Sr;return Sr=t,e}function wK(t,e=k2.Default){if(Sr===void 0)throw new K0(-203,!1);return Sr===null?iT(t,void 0,e):Sr.get(t,e&k2.Optional?null:void 0,e)}function X0(t,e=k2.Default){return(rT()||wK)(C5(t),e)}function l1(t,e=k2.Default){return X0(t,Vu(e))}function Vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kb(t){let e=[];for(let n=0;n<t.length;n++){let r=C5(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K0(900,!1);let i,s=k2.Default;for(let a=0;a<r.length;a++){let o=r[a],c=yK(o);typeof c=="number"?c===-1?i=o.token:s|=c:i=o}e.push(X0(i,s))}else e.push(X0(r))}return e}function sT(t,e){return t[$b]=e,t.prototype[$b]=e,t}function yK(t){return t[$b]}function zK(t,e,n,r){let i=t[xu];throw e[dk]&&i.unshift(e[dk]),t.message=MK(`
`+t.message,i,n,r),t[gK]=i,t[xu]=null,t}function MK(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==bK?t.slice(2):t;let i=c5(e);if(Array.isArray(e))i=e.map(c5).join(" -> ");else if(typeof e=="object"){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let o=e[a];s.push(a+":"+(typeof o=="string"?JSON.stringify(o):c5(o)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vK,`
  `)}`}function Na(t){return{toString:t}.toString()}var aT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(aT||{}),s8=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(s8||{}),Tr={},j5=[];function oT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Qb(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],a=n[r++],o=n[r++];t.setAttribute(e,a,o,s)}else{let s=i,a=n[++r];CK(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),r++}}return r}function cT(t){return t===3||t===4||t===6}function CK(t){return t.charCodeAt(0)===64}function La(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pk(t,n,i,null,e[++r]):pk(t,n,i,null,null))}}return t}function pk(t,e,n,r,i){let s=0,a=t.length;if(e===-1)a=-1;else for(;s<t.length;){let o=t[s++];if(typeof o=="number"){if(o===e){a=-1;break}else if(o>e){a=s-1;break}}}for(;s<t.length;){let o=t[s];if(typeof o=="number")break;if(o===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}a!==-1&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var lT="ng-template";function AK(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let a=t[r++];if(n&&s==="class"&&oT(a.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function hT(t){return t.type===4&&t.value!==lT}function _K(t,e,n){let r=t.type===4&&!n?lT:t.value;return e===r}function EK(t,e,n){let r=4,i=t.attrs||[],s=TK(i),a=!1;for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number"){if(!a&&!y7(r)&&!y7(c))return!1;if(a&&y7(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!_K(t,c,n)||c===""&&e.length===1){if(y7(r))return!1;a=!0}}else{let l=r&8?c:e[++o];if(r&8&&t.attrs!==null){if(!AK(t.attrs,l,n)){if(y7(r))return!1;a=!0}continue}let h=r&8?"class":c,u=SK(h,i,hT(t),n);if(u===-1){if(y7(r))return!1;a=!0;continue}if(l!==""){let p;u>s?p="":p=i[u+1].toLowerCase();let g=r&8?p:null;if(g&&oT(g,l,0)!==-1||r&2&&l!==p){if(y7(r))return!1;a=!0}}}}return y7(r)||a}function y7(t){return(t&1)===0}function SK(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let o=e[++i];for(;typeof o=="string";)o=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return PK(e,t)}function uT(t,e,n=!1){for(let r=0;r<e.length;r++)if(EK(t,e[r],n))return!0;return!1}function kK(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function TK(t){for(let e=0;e<t.length;e++){let n=t[e];if(cT(n))return e}return t.length}function PK(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LK(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function mk(t,e){return t?":not("+e.trim()+")":e}function IK(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let o=t[++n];i+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!y7(a)&&(e+=mk(s,i),i=""),r=a,s=s||!y7(r);n++}return i!==""&&(e+=mk(s,i)),e}function DK(t){return t.map(IK).join(",")}function OK(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!y7(i))break;i=s}r++}return{attrs:e,classes:n}}function n1(t){return Na(()=>{let e=gT(t),n=i1(c0({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===aT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||s8.Emulated,styles:t.styles||j5,_:null,schemas:t.schemas||null,tView:null,id:""});vT(n);let r=t.dependencies;return n.directiveDefs=gk(r,!1),n.pipeDefs=gk(r,!0),n.id=VK(n),n})}function FK(t){return b9(t)||dT(t)}function HK(t){return t!==null}function O6(t){return Na(()=>({type:t.type,bootstrap:t.bootstrap||j5,declarations:t.declarations||j5,imports:t.imports||j5,exports:t.exports||j5,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fk(t,e){if(t==null)return Tr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function O4(t){return Na(()=>{let e=gT(t);return vT(e),e})}function z9(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function b9(t){return t[sK]||null}function dT(t){return t[aK]||null}function pT(t){return t[oK]||null}function mT(t){let e=b9(t)||dT(t)||pT(t);return e!==null?e.standalone:!1}function fT(t,e){let n=t[cK]||null;if(!n&&e===!0)throw new Error(`Type ${c5(t)} does not have '\u0275mod' property.`);return n}function gT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Tr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||j5,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fk(t.inputs,e),outputs:fk(t.outputs),debugInfo:null}}function vT(t){t.features?.forEach(e=>e(t))}function gk(t,e){if(!t)return null;let n=e?pT:FK;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(HK)}function VK(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var he=0,_2=1,Y1=2,y4=3,z7=4,h6=5,Ia=6,Da=7,M7=8,Pr=9,oe=10,K3=11,Oa=12,vk=13,Nr=14,C7=15,Ba=16,Cr=17,i8=18,Ru=19,bT=20,g9=21,Tb=22,Lt=23,l6=25,xT=1;var It=7,wu=8,Lr=9,c6=10,Ir=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Ir||{});function v9(t){return Array.isArray(t)&&typeof t[xT]=="object"}function A7(t){return Array.isArray(t)&&t[xT]===!0}function Xx(t){return(t.flags&4)!==0}function Nu(t){return t.componentOffset>-1}function Bu(t){return(t.flags&1)===1}function x9(t){return!!t.template}function RK(t){return(t[Y1]&512)!==0}function Dt(t,e){let n=t.hasOwnProperty(bu);return n?t[bu]:null}var Yb=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Zt(){return wT}function wT(t){return t.type.prototype.ngOnChanges&&(t.setInput=BK),NK}Zt.ngInherit=!0;function NK(){let t=zT(this),e=t?.current;if(e){let n=t.previous;if(n===Tr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BK(t,e,n,r){let i=this.declaredInputs[n],s=zT(t)||ZK(t,{previous:Tr,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[i];a[i]=new Yb(c&&c.currentValue,e,o===Tr),t[r]=e}var yT="__ngSimpleChanges__";function zT(t){return t[yT]||null}function ZK(t,e){return t[yT]=e}var bk=null;var t8=function(t,e,n){bk?.(t,e,n)},MT="svg",jK="math",UK=!1;function GK(){return UK}function a8(t){for(;Array.isArray(t);)t=t[he];return t}function CT(t,e){return a8(e[t])}function F6(t,e){return a8(e[t.index])}function AT(t,e){return t.data[e]}function _T(t,e){return t[e]}function M9(t,e){let n=e[t];return v9(n)?n:n[he]}function qK(t){return(t[Y1]&4)===4}function ew(t){return(t[Y1]&128)===128}function WK(t){return A7(t[y4])}function Dr(t,e){return e==null?null:t[e]}function ET(t){t[Cr]=0}function $K(t){t[Y1]&1024||(t[Y1]|=1024,ew(t)&&Fa(t))}function KK(t,e){for(;t>0;)e=e[Nr],t--;return e}function ST(t){return t[Y1]&9216||t[Lt]?.dirty}function Jb(t){ST(t)?Fa(t):t[Y1]&64&&(GK()?(t[Y1]|=1024,Fa(t)):t[oe].changeDetectionScheduler?.notify())}function Fa(t){t[oe].changeDetectionScheduler?.notify();let e=t[y4];for(;e!==null&&!(A7(e)&&e[Y1]&Ir.HasChildViewsToRefresh||v9(e)&&e[Y1]&8192);){if(A7(e))e[Y1]|=Ir.HasChildViewsToRefresh;else if(e[Y1]|=8192,!ew(e))break;e=e[y4]}}function kT(t,e){if((t[Y1]&256)===256)throw new K0(911,!1);t[g9]===null&&(t[g9]=[]),t[g9].push(e)}function QK(t,e){if(t[g9]===null)return;let n=t[g9].indexOf(e);n!==-1&&t[g9].splice(n,1)}var g2={lFrame:HT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function YK(){return g2.lFrame.elementDepthCount}function JK(){g2.lFrame.elementDepthCount++}function XK(){g2.lFrame.elementDepthCount--}function TT(){return g2.bindingsEnabled}function PT(){return g2.skipHydrationRootTNode!==null}function eQ(t){return g2.skipHydrationRootTNode===t}function tQ(){g2.skipHydrationRootTNode=null}function u2(){return g2.lFrame.lView}function z4(){return g2.lFrame.tView}function x1(t){return g2.lFrame.contextLView=t,t[M7]}function w1(t){return g2.lFrame.contextLView=null,t}function U5(){let t=LT();for(;t!==null&&t.type===64;)t=t.parent;return t}function LT(){return g2.lFrame.currentTNode}function nQ(){let t=g2.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jt(t,e){let n=g2.lFrame;n.currentTNode=t,n.isParent=e}function tw(){return g2.lFrame.isParent}function nw(){g2.lFrame.isParent=!1}function Za(){let t=g2.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function IT(){return g2.lFrame.bindingIndex}function rQ(t){return g2.lFrame.bindingIndex=t}function rw(){return g2.lFrame.bindingIndex++}function Zu(t){let e=g2.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iQ(){return g2.lFrame.inI18n}function sQ(t,e){let n=g2.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xb(e)}function aQ(){return g2.lFrame.currentDirectiveIndex}function Xb(t){g2.lFrame.currentDirectiveIndex=t}function oQ(t){let e=g2.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DT(){return g2.lFrame.currentQueryIndex}function iw(t){g2.lFrame.currentQueryIndex=t}function cQ(t){let e=t[_2];return e.type===2?e.declTNode:e.type===1?t[h6]:null}function OT(t,e,n){if(n&k2.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&k2.Host);)if(i=cQ(s),i===null||(s=s[Nr],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=g2.lFrame=FT();return r.currentTNode=e,r.lView=t,!0}function sw(t){let e=FT(),n=t[_2];g2.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function FT(){let t=g2.lFrame,e=t===null?null:t.child;return e===null?HT(t):e}function HT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function VT(){let t=g2.lFrame;return g2.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var RT=VT;function aw(){let t=VT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lQ(t){return(g2.lFrame.contextLView=KK(t,g2.lFrame.contextLView))[M7]}function ue(){return g2.lFrame.selectedIndex}function Ot(t){g2.lFrame.selectedIndex=t}function ju(){let t=g2.lFrame;return AT(t.tView,t.selectedIndex)}function NT(){g2.lFrame.currentNamespace=MT}function BT(){hQ()}function hQ(){g2.lFrame.currentNamespace=null}function uQ(){return g2.lFrame.currentNamespace}var ZT=!0;function Uu(){return ZT}function Gu(t){ZT=t}function dQ(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let a=wT(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function qu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=s;a&&(t.contentHooks??=[]).push(-n,a),o&&((t.contentHooks??=[]).push(n,o),(t.contentCheckHooks??=[]).push(n,o)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function du(t,e,n){jT(t,e,3,n)}function pu(t,e,n,r){(t[Y1]&3)===n&&jT(t,e,n,r)}function Pb(t,e){let n=t[Y1];(n&3)===e&&(n&=16383,n+=1,t[Y1]=n)}function jT(t,e,n,r){let i=r!==void 0?t[Cr]&65535:0,s=r??-1,a=e.length-1,o=0;for(let c=i;c<a;c++)if(typeof e[c+1]=="number"){if(o=e[c],r!=null&&o>=r)break}else e[c]<0&&(t[Cr]+=65536),(o<s||s==-1)&&(pQ(t,n,e,c),t[Cr]=(t[Cr]&4294901760)+c+2),c++}function xk(t,e){t8(4,t,e);let n=s6(null);try{e.call(t)}finally{s6(n),t8(5,t,e)}}function pQ(t,e,n,r){let i=n[r]<0,s=n[r+1],a=i?-n[r]:n[r],o=t[a];i?t[Y1]>>14<t[Cr]>>16&&(t[Y1]&3)===e&&(t[Y1]+=16384,xk(o,s)):xk(o,s)}var kr=-1,Ft=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function mQ(t){return t instanceof Ft}function fQ(t){return(t.flags&8)!==0}function gQ(t){return(t.flags&16)!==0}function UT(t){return t!==kr}function yu(t){let e=t&32767;return t&32767}function vQ(t){return t>>16}function zu(t,e){let n=vQ(t),r=e;for(;n>0;)r=r[Nr],n--;return r}var ex=!0;function Mu(t){let e=ex;return ex=t,e}var bQ=256,GT=bQ-1,qT=5,xQ=0,n8={};function wQ(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ta)&&(r=n[Ta]),r==null&&(r=n[Ta]=xQ++);let i=r&GT,s=1<<i;e.data[t+(i>>qT)]|=s}function Cu(t,e){let n=WT(t,e);if(n!==-1)return n;let r=e[_2];r.firstCreatePass&&(t.injectorIndex=e.length,Lb(r.data,t),Lb(e,null),Lb(r.blueprint,null));let i=ow(t,e),s=t.injectorIndex;if(UT(i)){let a=yu(i),o=zu(i,e),c=o[_2].data;for(let l=0;l<8;l++)e[s+l]=o[a+l]|c[a+l]}return e[s+8]=i,s}function Lb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function WT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ow(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=JT(i),r===null)return kr;if(n++,i=i[Nr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return kr}function tx(t,e,n){wQ(t,e,n)}function yQ(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(cT(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $T(t,e,n){if(n&k2.Optional||t!==void 0)return t;Jx(e,"NodeInjector")}function KT(t,e,n,r){if(n&k2.Optional&&r===void 0&&(r=null),!(n&(k2.Self|k2.Host))){let i=t[Pr],s=Z5(void 0);try{return i?i.get(e,r,n&k2.Optional):iT(e,r,n&k2.Optional)}finally{Z5(s)}}return $T(r,e,n)}function QT(t,e,n,r=k2.Default,i){if(t!==null){if(e[Y1]&2048&&!(r&k2.Self)){let a=AQ(t,e,n,r,n8);if(a!==n8)return a}let s=YT(t,e,n,r,n8);if(s!==n8)return s}return KT(e,n,r,i)}function YT(t,e,n,r,i){let s=MQ(n);if(typeof s=="function"){if(!OT(e,t,r))return r&k2.Host?$T(i,n,r):KT(e,n,r,i);try{let a;if(a=s(r),a==null&&!(r&k2.Optional))Jx(n);else return a}finally{RT()}}else if(typeof s=="number"){let a=null,o=WT(t,e),c=kr,l=r&k2.Host?e[C7][h6]:null;for((o===-1||r&k2.SkipSelf)&&(c=o===-1?ow(t,e):e[o+8],c===kr||!yk(r,!1)?o=-1:(a=e[_2],o=yu(c),e=zu(c,e)));o!==-1;){let h=e[_2];if(wk(s,o,h.data)){let u=zQ(o,e,n,a,r,l);if(u!==n8)return u}c=e[o+8],c!==kr&&yk(r,e[_2].data[o+8]===l)&&wk(s,o,e)?(a=h,o=yu(c),e=zu(c,e)):o=-1}}return i}function zQ(t,e,n,r,i,s){let a=e[_2],o=a.data[t+8],c=r==null?Nu(o)&&ex:r!=a&&(o.type&3)!==0,l=i&k2.Host&&s===o,h=mu(o,a,n,c,l);return h!==null?Ht(e,a,h,o):n8}function mu(t,e,n,r,i){let s=t.providerIndexes,a=e.data,o=s&1048575,c=t.directiveStart,l=t.directiveEnd,h=s>>20,u=r?o:o+h,p=i?o+h:l;for(let g=u;g<p;g++){let f=a[g];if(g<c&&n===f||g>=c&&f.type===n)return g}if(i){let g=a[c];if(g&&x9(g)&&g.type===n)return c}return null}function Ht(t,e,n,r){let i=t[n],s=e.data;if(mQ(i)){let a=i;a.resolving&&hK(lK(s[n]));let o=Mu(a.canSeeViewProviders);a.resolving=!0;let c,l=a.injectImpl?Z5(a.injectImpl):null,h=OT(t,r,k2.Default);try{i=t[n]=a.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dQ(n,s[n],e)}finally{l!==null&&Z5(l),Mu(o),a.resolving=!1,RT()}}return i}function MQ(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ta)?t[Ta]:void 0;return typeof e=="number"?e>=0?e&GT:CQ:e}function wk(t,e,n){let r=1<<t;return!!(n[e+(t>>qT)]&r)}function yk(t,e){return!(t&k2.Self)&&!(t&k2.Host&&e)}var Pt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return QT(this._tNode,this._lView,e,Vu(r),n)}};function CQ(){return new Pt(U5(),u2())}function Br(t){return Na(()=>{let e=t.prototype.constructor,n=e[bu]||nx(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[bu]||nx(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function nx(t){return Yk(t)?()=>{let e=nx(C5(t));return e&&e()}:Dt(t)}function AQ(t,e,n,r,i){let s=t,a=e;for(;s!==null&&a!==null&&a[Y1]&2048&&!(a[Y1]&512);){let o=YT(s,a,n,r|k2.Self,n8);if(o!==n8)return o;let c=s.parent;if(!c){let l=a[bT];if(l){let h=l.get(n,n8,r);if(h!==n8)return h}c=JT(a),a=a[Nr]}s=c}return i}function JT(t){let e=t[_2],n=e.type;return n===2?e.declTNode:n===1?t[h6]:null}function cw(t){return yQ(U5(),t)}var au="__parameters__";function _Q(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XT(t,e,n){return Na(()=>{let r=_Q(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return o.annotation=a,o;function o(c,l,h){let u=c.hasOwnProperty(au)?c[au]:Object.defineProperty(c,au,{value:[]})[au];for(;u.length<=h;)u.push(null);return(u[h]=u[h]||[]).push(a),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function EQ(t){return typeof t=="function"}function SQ(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function kQ(t){return t.flat(Number.POSITIVE_INFINITY)}function lw(t,e){t.forEach(n=>Array.isArray(n)?lw(n,e):e(n))}function eP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Au(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tP(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function TQ(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Zr(t,e,n){let r=ja(t,e);return r>=0?t[r|1]=n:(r=~r,TQ(t,r,e,n)),r}function Ib(t,e){let n=ja(t,e);if(n>=0)return t[n|1]}function ja(t,e){return PQ(t,e,1)}function PQ(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),a=t[s<<n];if(e===a)return s<<n;a>e?i=s:r=s+1}return~(i<<n)}var Ua=sT(XT("Optional"),8);var Wu=sT(XT("SkipSelf"),4);var Or=new L1("ENVIRONMENT_INITIALIZER"),nP=new L1("INJECTOR",-1),rP=new L1("INJECTOR_DEF_TYPES"),_u=class{get(e,n=Pa){if(n===Pa){let r=new Error(`NullInjectorError: No provider for ${c5(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ga(t){return{\u0275providers:t}}function $u(...t){return{\u0275providers:iP(!0,t),\u0275fromNgModule:!0}}function iP(t,...e){let n=[],r=new Set,i,s=a=>{n.push(a)};return lw(e,a=>{let o=a;rx(o,s,[],r)&&(i||=[],i.push(o))}),i!==void 0&&sP(i,s),n}function sP(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];hw(i,s=>{e(s,r)})}}function rx(t,e,n,r){if(t=C5(t),!t)return!1;let i=null,s=hk(t),a=!s&&b9(t);if(!s&&!a){let c=t.ngModule;if(s=hk(c),s)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=t}let o=r.has(i);if(a){if(o)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)rx(l,e,n,r)}}else if(s){if(s.imports!=null&&!o){r.add(i);let l;try{lw(s.imports,h=>{rx(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&sP(l,e)}if(!o){let l=Dt(i)||(()=>new i);e({provide:i,useFactory:l,deps:j5},i),e({provide:rP,useValue:i,multi:!0},i),e({provide:Or,useValue:()=>X0(i),multi:!0},i)}let c=s.providers;if(c!=null&&!o){let l=t;hw(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function hw(t,e){for(let n of t)Jk(n)&&(n=n.\u0275providers),Array.isArray(n)?hw(n,e):e(n)}var LQ=P3({provide:String,useValue:P3});function aP(t){return t!==null&&typeof t=="object"&&LQ in t}function IQ(t){return!!(t&&t.useExisting)}function DQ(t){return!!(t&&t.useFactory)}function Fr(t){return typeof t=="function"}function OQ(t){return!!t.useClass}var Ku=new L1("Set Injector scope."),fu={},FQ={},Db;function uw(){return Db===void 0&&(Db=new _u),Db}var A5=class{},Ha=class extends A5{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sx(e,a=>this.processProvider(a)),this.records.set(nP,Ar(void 0,this)),i.has("environment")&&this.records.set(A5,Ar(void 0,this));let s=this.records.get(Ku);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rP,j5,k2.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=f9(this),r=Z5(void 0),i;try{return e()}finally{f9(n),Z5(r)}}get(e,n=Pa,r=k2.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ck))return e[ck](this);r=Vu(r);let i,s=f9(this),a=Z5(void 0);try{if(!(r&k2.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=BQ(e)&&Hu(e);l&&this.injectableDefInScope(l)?c=Ar(ix(e),fu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let o=r&k2.Self?uw():this.parent;return n=r&k2.Optional&&n===Pa?null:n,o.get(e,n)}catch(o){if(o.name==="NullInjectorError"){if((o[xu]=o[xu]||[]).unshift(c5(e)),s)throw o;return zK(o,e,"R3InjectorError",this.source)}else throw o}finally{Z5(a),f9(s)}}resolveInjectorInitializers(){let e=f9(this),n=Z5(void 0),r;try{let i=this.get(Or,j5,k2.Self);for(let s of i)s()}finally{f9(e),Z5(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(c5(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K0(205,!1)}processProvider(e){e=C5(e);let n=Fr(e)?e:C5(e&&e.provide),r=VQ(e);if(!Fr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ar(void 0,fu,!0),i.factory=()=>Kb(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===fu&&(n.value=FQ,n.value=n.factory()),typeof n.value=="object"&&n.value&&NQ(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=C5(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ix(t){let e=Hu(t),n=e!==null?e.factory:Dt(t);if(n!==null)return n;if(t instanceof L1)throw new K0(204,!1);if(t instanceof Function)return HQ(t);throw new K0(204,!1)}function HQ(t){let e=t.length;if(e>0){let r=tP(e,"?");throw new K0(204,!1)}let n=pK(t);return n!==null?()=>n.factory(t):()=>new t}function VQ(t){if(aP(t))return Ar(void 0,t.useValue);{let e=oP(t);return Ar(e,fu)}}function oP(t,e,n){let r;if(Fr(t)){let i=C5(t);return Dt(i)||ix(i)}else if(aP(t))r=()=>C5(t.useValue);else if(DQ(t))r=()=>t.useFactory(...Kb(t.deps||[]));else if(IQ(t))r=()=>X0(C5(t.useExisting));else{let i=C5(t&&(t.useClass||t.provide));if(RQ(t))r=()=>new i(...Kb(t.deps));else return Dt(i)||ix(i)}return r}function Ar(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RQ(t){return!!t.deps}function NQ(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BQ(t){return typeof t=="function"||typeof t=="object"&&t instanceof L1}function sx(t,e){for(let n of t)Array.isArray(n)?sx(n,e):n&&Jk(n)?sx(n.\u0275providers,e):e(n)}function l8(t,e){t instanceof Ha&&t.assertNotDestroyed();let n,r=f9(t),i=Z5(void 0);try{return e()}finally{f9(r),Z5(i)}}function ZQ(t){if(!rT()&&!xK())throw new K0(-203,!1)}function zk(t,e=null,n=null,r){let i=cP(t,e,n,r);return i.resolveInjectorInitializers(),i}function cP(t,e=null,n=null,r,i=new Set){let s=[n||j5,$u(t)];return r=r||(typeof t=="object"?void 0:c5(t)),new Ha(s,e||uw(),r||null,i)}var H6=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return zk({name:""},i,r,"");{let s=r.name??"";return zk({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Pa,e.NULL=new _u,e.\u0275prov=J0({token:e,providedIn:"any",factory:()=>X0(nP)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var ax;function lP(t){ax=t}function hP(){if(ax!==void 0)return ax;if(typeof document<"u")return document;throw new K0(210,!1)}var dw=new L1("AppId",{providedIn:"root",factory:()=>jQ}),jQ="ng",pw=new L1("Platform Initializer"),de=new L1("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var mw=new L1("AnimationModuleType"),fw=new L1("CSP nonce",{providedIn:"root",factory:()=>hP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function uP(t){return t.ownerDocument}function dP(t){return t instanceof Function?t():t}function UQ(t){return(t??l1(H6)).get(de)==="browser"}function pP(t){return(t.flags&128)===128}var o8=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(o8||{}),GQ=/^>|^->|<!--|-->|--!>|<!-$/g,qQ=/(<|>)/g,WQ="\u200B$1\u200B";function $Q(t){return t.replace(GQ,e=>e.replace(qQ,WQ))}var mP=new Map,KQ=0;function QQ(){return KQ++}function YQ(t){mP.set(t[Ru],t)}function JQ(t){mP.delete(t[Ru])}var Mk="__ngContext__";function w9(t,e){v9(e)?(t[Mk]=e[Ru],YQ(e)):t[Mk]=e}var XQ;function gw(t,e){return XQ(t,e)}function vw(t){let e=t[y4];return A7(e)?e[y4]:e}function fP(t){return vP(t[Oa])}function gP(t){return vP(t[z7])}function vP(t){for(;t!==null&&!A7(t);)t=t[z7];return t}function _r(t,e,n,r,i){if(r!=null){let s,a=!1;A7(r)?s=r:v9(r)&&(a=!0,r=r[he]);let o=a8(r);t===0&&n!==null?i==null?zP(e,n,o):Eu(e,n,o,i||null,!0):t===1&&n!==null?Eu(e,n,o,i||null,!0):t===2?gY(e,o,a):t===3&&e.destroyNode(o),s!=null&&bY(e,t,s,n,i)}}function eY(t,e){return t.createText(e)}function tY(t,e,n){t.setValue(e,n)}function nY(t,e){return t.createComment($Q(e))}function bP(t,e,n){return t.createElement(e,n)}function rY(t,e){let n=e[K3];qa(t,e,n,2,null,null),e[he]=null,e[h6]=null}function iY(t,e,n,r,i,s){r[he]=i,r[h6]=e,qa(t,r,n,1,i,s)}function sY(t,e){qa(t,e,e[K3],2,null,null)}function aY(t){let e=t[Oa];if(!e)return Ob(t[_2],t);for(;e;){let n=null;if(v9(e))n=e[Oa];else{let r=e[c6];r&&(n=r)}if(!n){for(;e&&!e[z7]&&e!==t;)v9(e)&&Ob(e[_2],e),e=e[y4];e===null&&(e=t),v9(e)&&Ob(e[_2],e),n=e&&e[z7]}e=n}}function oY(t,e,n,r){let i=c6+r,s=n.length;r>0&&(n[i-1][z7]=e),r<s-c6?(e[z7]=n[i],eP(n,c6+r,e)):(n.push(e),e[z7]=null),e[y4]=n;let a=e[Ba];a!==null&&n!==a&&cY(a,e);let o=e[i8];o!==null&&o.insertView(t),Jb(e),e[Y1]|=128}function cY(t,e){let n=t[Lr],i=e[y4][y4][C7];e[C7]!==i&&(t[Y1]|=Ir.HasTransplantedViews),n===null?t[Lr]=[e]:n.push(e)}function xP(t,e){let n=t[Lr],r=n.indexOf(e),i=e[y4];n.splice(r,1)}function ox(t,e){if(t.length<=c6)return;let n=c6+e,r=t[n];if(r){let i=r[Ba];i!==null&&i!==t&&xP(i,r),e>0&&(t[n-1][z7]=r[z7]);let s=Au(t,c6+e);rY(r[_2],r);let a=s[i8];a!==null&&a.detachView(s[_2]),r[y4]=null,r[z7]=null,r[Y1]&=-129}return r}function wP(t,e){if(!(e[Y1]&256)){let n=e[K3];n.destroyNode&&qa(t,e,n,3,null,null),aY(e)}}function Ob(t,e){if(!(e[Y1]&256)){e[Y1]&=-129,e[Y1]|=256,e[Lt]&&FS(e[Lt]),hY(t,e),lY(t,e),e[_2].type===1&&e[K3].destroy();let n=e[Ba];if(n!==null&&A7(e[y4])){n!==e[y4]&&xP(n,e);let r=e[i8];r!==null&&r.detachView(t)}JQ(e)}}function lY(t,e){let n=t.cleanup,r=e[Da];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Da]=null);let i=e[g9];if(i!==null){e[g9]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function hY(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ft)){let s=n[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let o=i[s[a]],c=s[a+1];t8(4,o,c);try{c.call(o)}finally{t8(5,o,c)}}else{t8(4,i,s);try{s.call(i)}finally{t8(5,i,s)}}}}}function yP(t,e,n){return uY(t,e.parent,n)}function uY(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[he];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===s8.None||s===s8.Emulated)return null}return F6(r,n)}}function Eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zP(t,e,n){t.appendChild(e,n)}function Ck(t,e,n,r,i){r!==null?Eu(t,e,n,r,i):zP(t,e,n)}function dY(t,e,n,r){t.removeChild(e,n,r)}function bw(t,e){return t.parentNode(e)}function pY(t,e){return t.nextSibling(e)}function MP(t,e,n){return fY(t,e,n)}function mY(t,e,n){return t.type&40?F6(t,n):null}var fY=mY,Ak;function Qu(t,e,n,r){let i=yP(t,r,e),s=e[K3],a=r.parent||e[h6],o=MP(a,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ck(s,i,n[c],o,!1);else Ck(s,i,n,o,!1);Ak!==void 0&&Ak(s,r,e,n,i)}function gu(t,e){if(e!==null){let n=e.type;if(n&3)return F6(e,t);if(n&4)return cx(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return gu(t,r);{let i=t[e.index];return A7(i)?cx(-1,i):a8(i)}}else{if(n&32)return gw(e,t)()||a8(t[e.index]);{let r=CP(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vw(t[C7]);return gu(i,r)}else return gu(t,e.next)}}}return null}function CP(t,e){if(e!==null){let r=t[C7][h6],i=e.projection;return r.projection[i]}return null}function cx(t,e){let n=c6+t+1;if(n<e.length){let r=e[n],i=r[_2].firstChild;if(i!==null)return gu(r,i)}return e[It]}function gY(t,e,n){let r=bw(t,e);r&&dY(t,r,e,n)}function xw(t,e,n,r,i,s,a){for(;n!=null;){let o=r[n.index],c=n.type;if(a&&e===0&&(o&&w9(a8(o),r),n.flags|=2),(n.flags&32)!==32)if(c&8)xw(t,e,n.child,r,i,s,!1),_r(e,t,i,o,s);else if(c&32){let l=gw(n,r),h;for(;h=l();)_r(e,t,i,h,s);_r(e,t,i,o,s)}else c&16?AP(t,e,r,n,i,s):_r(e,t,i,o,s);n=a?n.projectionNext:n.next}}function qa(t,e,n,r,i,s){xw(n,r,t.firstChild,e,i,s,!1)}function vY(t,e,n){let r=e[K3],i=yP(t,n,e),s=n.parent||e[h6],a=MP(s,n,e);AP(r,0,e,n,i,a)}function AP(t,e,n,r,i,s){let a=n[C7],c=a[h6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];_r(e,t,i,h,s)}else{let l=c,h=a[y4];pP(r)&&(l.flags|=128),xw(t,e,l,h,i,s,!0)}}function bY(t,e,n,r,i){let s=n[It],a=a8(n);s!==a&&_r(e,t,r,s,i);for(let o=c6;o<n.length;o++){let c=n[o];qa(c[_2],c,t,e,r,s)}}function xY(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:o8.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=o8.Important),t.setStyle(n,r,i,s))}}function wY(t,e,n){t.setAttribute(e,"style",n)}function _P(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function EP(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Qb(t,e,r),i!==null&&_P(t,e,i),s!==null&&wY(t,e,s)}var ou;function yY(){if(ou===void 0&&(ou=null,o6.trustedTypes))try{ou=o6.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ou}function Yu(t){return yY()?.createHTML(t)||t}var cu;function SP(){if(cu===void 0&&(cu=null,o6.trustedTypes))try{cu=o6.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cu}function _k(t){return SP()?.createHTML(t)||t}function Ek(t){return SP()?.createScriptURL(t)||t}var ce=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xk})`}},lx=class extends ce{getTypeName(){return"HTML"}},hx=class extends ce{getTypeName(){return"Style"}},ux=class extends ce{getTypeName(){return"Script"}},dx=class extends ce{getTypeName(){return"URL"}},px=class extends ce{getTypeName(){return"ResourceURL"}};function u6(t){return t instanceof ce?t.changingThisBreaksApplicationSecurity:t}function pe(t,e){let n=zY(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Xk})`)}return n===e}function zY(t){return t instanceof ce&&t.getTypeName()||null}function kP(t){return new lx(t)}function TP(t){return new hx(t)}function PP(t){return new ux(t)}function LP(t){return new dx(t)}function IP(t){return new px(t)}function MY(t){let e=new fx(t);return CY()?new mx(e):e}var mx=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Yu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},fx=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Yu(e),n}};function CY(){try{return!!new window.DOMParser().parseFromString(Yu(""),"text/html")}catch{return!1}}var AY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ju(t){return t=String(t),t.match(AY)?t:"unsafe:"+t}function me(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Wa(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var DP=me("area,br,col,hr,img,wbr"),OP=me("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),FP=me("rp,rt"),_Y=Wa(FP,OP),EY=Wa(OP,me("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),SY=Wa(FP,me("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sk=Wa(DP,EY,SY,_Y),HP=me("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kY=me("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),TY=me("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),PY=Wa(HP,kY,TY),LY=me("script,style,template"),gx=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!Sk.hasOwnProperty(n))return this.sanitizedSomething=!0,!LY.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),a=s.name,o=a.toLowerCase();if(!PY.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;HP[o]&&(c=Ju(c)),this.buf.push(" ",a,'="',kk(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();Sk.hasOwnProperty(n)&&!DP.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(kk(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},IY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DY=/([^\#-~ |!])/g;function kk(t){return t.replace(/&/g,"&amp;").replace(IY,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(DY,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var lu;function ww(t,e){let n=null;try{lu=lu||MY(t);let r=e?String(e):"";n=lu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=lu.getInertBodyElement(r)}while(r!==s);let o=new gx().sanitizeChildren(Tk(n)||n);return Yu(o)}finally{if(n){let r=Tk(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Tk(t){return"content"in t&&OY(t)?t.content:null}function OY(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var _7=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_7||{});function VP(t){let e=yw();return e?_k(e.sanitize(_7.HTML,t)||""):pe(t,"HTML")?_k(u6(t)):ww(hP(),r8(t))}function M3(t){let e=yw();return e?e.sanitize(_7.URL,t)||"":pe(t,"URL")?u6(t):Ju(r8(t))}function FY(t){let e=yw();if(e)return Ek(e.sanitize(_7.RESOURCE_URL,t)||"");if(pe(t,"ResourceURL"))return Ek(u6(t));throw new K0(904,!1)}function HY(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?FY:M3}function RP(t,e,n){return HY(e,n)(t)}function yw(){let t=u2();return t&&t[oe].sanitizer}var vx=class{};var VY="h",RY="b";var NY=(t,e,n)=>null;function zw(t,e,n=!1){return NY(t,e,n)}var bx=class{},Su=class{};function BY(t){let e=Error(`No component factory found for ${c5(t)}.`);return e[ZY]=t,e}var ZY="ngComponent";var xx=class{resolveComponentFactory(e){throw BY(e)}},Xu=(()=>{let e=class e{};e.NULL=new xx;let t=e;return t})();function jY(){return jr(U5(),u2())}function jr(t,e){return new l5(F6(t,e))}var l5=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=jY;let t=e;return t})();function UY(t){return t instanceof l5?t.nativeElement:t}var Vt=class{},h8=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>GY();let t=e;return t})();function GY(){let t=u2(),e=U5(),n=M9(e.index,t);return(v9(n)?n:t)[K3]}var qY=(()=>{let e=class e{};e.\u0275prov=J0({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Fb={};function NP(t){return Mw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WY(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Mw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var wx=class{constructor(){}supports(e){return NP(e)}create(e){return new yx(e)}},$Y=(t,e)=>e,yx=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$Y}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let a=!r||n&&n.currentIndex<Pk(r,i,s)?n:r,o=Pk(a,i,s),c=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,a.previousIndex==null)i++;else{s||(s=[]);let l=o-i,h=c-i;if(l!=h){for(let p=0;p<l;p++){let g=p<s.length?s[p]:s[p]=0,f=g+p;h<=f&&f<l&&(s[p]=g+1)}let u=a.previousIndex;s[u]=h-l}}o!==c&&e(a,o,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!NP(e))throw new K0(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,a;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)s=e[o],a=this._trackByFn(o,s),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,s,a,o),r=!0):(r&&(n=this._verifyReinsertion(n,s,a,o)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,WY(e,o=>{a=this._trackByFn(i,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,i),r=!0):(r&&(n=this._verifyReinsertion(n,o,a,i)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zx(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zx=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mx=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ku=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Mx,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Pk(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Cx=class{constructor(){}supports(e){return e instanceof Map||Mw(e)}create(){return new Ax}},Ax=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Mw(e)))throw new K0(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}let r=new _x(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},_x=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Lk(){return new ed([new wx])}var ed=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Lk()),deps:[[e,new Wu,new Ua]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new K0(901,!1)}};e.\u0275prov=J0({token:e,providedIn:"root",factory:Lk});let t=e;return t})();function Ik(){return new $a([new Cx])}var $a=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Ik()),deps:[[e,new Wu,new Ua]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new K0(901,!1)}};e.\u0275prov=J0({token:e,providedIn:"root",factory:Ik});let t=e;return t})();function Tu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(a8(s)),A7(s)&&KY(s,r);let a=n.type;if(a&8)Tu(t,e,n.child,r);else if(a&32){let o=gw(n,e),c;for(;c=o();)r.push(c)}else if(a&16){let o=CP(e,n);if(Array.isArray(o))r.push(...o);else{let c=vw(e[C7]);Tu(c[_2],c,o,r,!0)}}n=i?n.projectionNext:n.next}return r}function KY(t,e){for(let n=c6;n<t.length;n++){let r=t[n],i=r[_2].firstChild;i!==null&&Tu(r[_2],r,i,e)}t[It]!==t[he]&&e.push(t[It])}var BP=[];function QY(t){return t[Lt]??YY(t)}function YY(t){let e=BP.pop()??Object.create(XY);return e.lView=t,e}function JY(t){t.lView[Lt]!==t&&(t.lView=null,BP.push(t))}var XY=i1(c0({},IS),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fa(t.lView)},consumerOnSignalRead(){this.lView[Lt]=this}}),eJ="ngOriginalError";function Hb(t){return t[eJ]}var c8=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hb(e);for(;n&&Hb(n);)n=Hb(n);return n||null}},ZP=new L1("",{providedIn:"root",factory:()=>l1(c8).handleError.bind(void 0)});var jP=!1,tJ=new L1("",{providedIn:"root",factory:()=>jP});var h5={};function F(t){UP(z4(),u2(),ue()+t,!1)}function UP(t,e,n,r){if(!r)if((e[Y1]&3)===3){let s=t.preOrderCheckHooks;s!==null&&du(e,s,n)}else{let s=t.preOrderHooks;s!==null&&pu(e,s,0,n)}Ot(n)}function m0(t,e=k2.Default){let n=u2();if(n===null)return X0(t,e);let r=U5();return QT(r,n,C5(t),e)}function GP(){let t="invalid";throw new Error(t)}function nJ(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ot(~i);else{let s=i,a=n[++r],o=n[++r];sQ(a,s);let c=e[s];o(2,c)}}}finally{Ot(-1)}}function td(t,e,n,r,i,s,a,o,c,l,h){let u=e.blueprint.slice();return u[he]=i,u[Y1]=r|4|128|8|64,(l!==null||t&&t[Y1]&2048)&&(u[Y1]|=2048),ET(u),u[y4]=u[Nr]=t,u[M7]=n,u[oe]=a||t&&t[oe],u[K3]=o||t&&t[K3],u[Pr]=c||t&&t[Pr]||null,u[h6]=s,u[Ru]=QQ(),u[Ia]=h,u[bT]=l,u[C7]=e.type==2?t[C7]:u,u}function Ur(t,e,n,r,i){let s=t.data[e];if(s===null)s=rJ(t,e,n,r,i),iQ()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let a=nQ();s.injectorIndex=a===null?-1:a.injectorIndex}return jt(s,!0),s}function rJ(t,e,n,r,i){let s=LT(),a=tw(),o=a?s:s&&s.parent,c=t.data[e]=lJ(t,o,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(a?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function qP(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WP(t,e,n,r,i){let s=ue(),a=r&2;try{Ot(-1),a&&e.length>l6&&UP(t,e,l6,!1),t8(a?2:0,i),n(r,i)}finally{Ot(s),t8(a?3:1,i)}}function Cw(t,e,n){if(Xx(e)){let r=s6(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let a=i;a<s;a++){let o=t.data[a];o.contentQueries&&o.contentQueries(1,n[a],a)}}finally{s6(r)}}}function Aw(t,e,n){TT()&&(fJ(t,e,n,F6(n,e)),(n.flags&64)===64&&QP(t,e,n))}function _w(t,e,n=F6){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],o=a===-1?n(e,t):t[a];t[i++]=o}}}function $P(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ew(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ew(t,e,n,r,i,s,a,o,c,l,h){let u=l6+r,p=u+i,g=iJ(u,p),f=typeof l=="function"?l():l;return g[_2]={type:t,blueprint:g,template:n,queries:null,viewQuery:o,declTNode:e,data:g.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1,ssrId:h}}function iJ(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:h5);return n}function sJ(t,e,n,r){let s=r.get(tJ,jP)||n===s8.ShadowDom,a=t.selectRootElement(e,s);return aJ(a),a}function aJ(t){oJ(t)}var oJ=t=>null;function cJ(t,e,n,r){let i=eL(e);i.push(n),t.firstCreatePass&&tL(t).push(r,i.length-1)}function lJ(t,e,n,r,i,s){let a=e?e.injectorIndex:-1,o=0;return PT()&&(o|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Dk(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?Ok(n,e,i,s):r.hasOwnProperty(i)&&Ok(n,e,r[i],s)}return n}function Ok(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function hJ(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,a=e.attrs,o=[],c=null,l=null;for(let h=r;h<i;h++){let u=s[h],p=n?n.get(u):null,g=p?p.inputs:null,f=p?p.outputs:null;c=Dk(u.inputs,h,c,g),l=Dk(u.outputs,h,l,f);let w=c!==null&&a!==null&&!hT(e)?_J(c,h,a):null;o.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=c,e.outputs=l}function uJ(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Sw(t,e,n,r,i,s,a,o){let c=F6(e,n),l=e.inputs,h;!o&&l!=null&&(h=l[r])?(Tw(t,n,h,r,i),Nu(e)&&dJ(n,e.index)):e.type&3?(r=uJ(r),i=a!=null?a(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function dJ(t,e){let n=M9(e,t);n[Y1]&16||(n[Y1]|=64)}function kw(t,e,n,r){if(TT()){let i=r===null?null:{"":-1},s=vJ(t,n),a,o;s===null?a=o=null:[a,o]=s,a!==null&&KP(t,e,n,a,i,o),i&&bJ(n,r,i)}n.mergedAttrs=La(n.mergedAttrs,n.attrs)}function KP(t,e,n,r,i,s){for(let l=0;l<r.length;l++)tx(Cu(n,e),t,r[l].type);wJ(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let a=!1,o=!1,c=qP(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=La(n.mergedAttrs,h.hostAttrs),yJ(t,n,e,c,h),xJ(c,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let u=h.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!o&&(u.ngOnChanges||u.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),o=!0),c++}hJ(t,n,s)}function pJ(t,e,n,r,i){let s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let o=~e.index;mJ(a)!=o&&a.push(o),a.push(n,r,s)}}function mJ(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fJ(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Nu(n)&&zJ(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cu(n,e),w9(r,e);let a=n.initialInputs;for(let o=i;o<s;o++){let c=t.data[o],l=Ht(e,t,o,n);if(w9(l,e),a!==null&&AJ(e,o-i,l,c,n,a),x9(c)){let h=M9(n.index,e);h[M7]=Ht(e,t,o,n)}}}function QP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,a=aQ();try{Ot(s);for(let o=r;o<i;o++){let c=t.data[o],l=e[o];Xb(o),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gJ(c,l)}}finally{Ot(-1),Xb(a)}}function gJ(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vJ(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let a=n[s];if(uT(e,a.selectors,!1))if(r||(r=[]),x9(a))if(a.findHostDirectiveDefs!==null){let o=[];i=i||new Map,a.findHostDirectiveDefs(a,o,i),r.unshift(...o,a);let c=o.length;Ex(t,e,c)}else r.unshift(a),Ex(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function Ex(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bJ(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new K0(-301,!1);r.push(e[i],s)}}}function xJ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;x9(e)&&(n[""]=t)}}function wJ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yJ(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Dt(i.type,!0)),a=new Ft(s,x9(i),m0);t.blueprint[r]=a,n[r]=a,pJ(t,e,r,qP(t,n,i.hostVars,h5),i)}function zJ(t,e,n){let r=F6(e,t),i=$P(n),s=t[oe].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let o=nd(t,td(t,i,null,a,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=o}function MJ(t,e,n,r,i,s){let a=F6(t,e);CJ(e[K3],a,s,t.value,n,r,i)}function CJ(t,e,n,r,i,s,a){if(s==null)t.removeAttribute(e,i,n);else{let o=a==null?r8(s):a(s,r||"",i);t.setAttribute(e,i,o,n)}}function AJ(t,e,n,r,i,s){let a=s[e];if(a!==null)for(let o=0;o<a.length;){let c=a[o++],l=a[o++],h=a[o++];YP(r,n,c,l,h)}}function YP(t,e,n,r,i){let s=s6(null);try{let a=t.inputTransforms;a!==null&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{s6(s)}}function _J(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let a=t[s];for(let o=0;o<a.length;o+=2)if(a[o]===e){r.push(s,a[o+1],n[i+1]);break}}i+=2}return r}function JP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function XP(t,e){let n=t.contentQueries;if(n!==null){let r=s6(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a!==-1){let o=t.data[a];iw(s),o.contentQueries(2,e[a],a)}}}finally{s6(r)}}}function nd(t,e){return t[Oa]?t[vk][z7]=e:t[Oa]=e,t[vk]=e,e}function Sx(t,e,n){iw(0);let r=s6(null);try{e(t,n)}finally{s6(r)}}function eL(t){return t[Da]||(t[Da]=[])}function tL(t){return t.cleanup||(t.cleanup=[])}function nL(t,e){let n=t[Pr],r=n?n.get(c8,null):null;r&&r.handleError(e)}function Tw(t,e,n,r,i){for(let s=0;s<n.length;){let a=n[s++],o=n[s++],c=e[a],l=t.data[a];YP(l,c,r,o,i)}}function Pw(t,e,n){let r=CT(e,t);tY(t[K3],r,n)}var EJ=100;function SJ(t,e=!0){let n=t[oe],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{kJ(t)}catch(a){throw e&&nL(t,a),a}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function kJ(t){kx(t,0);let e=0;for(;ST(t);){if(e===EJ)throw new K0(103,!1);e++,kx(t,1)}}function TJ(t,e,n,r){let i=e[Y1];if((i&256)===256)return;let s=!1;!s&&e[oe].inlineEffectRunner?.flush(),sw(e);let a=null,o=null;!s&&PJ(t)&&(o=QY(e),a=DS(o));try{ET(e),rQ(t.bindingStartIndex),n!==null&&WP(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let u=t.preOrderCheckHooks;u!==null&&du(e,u,null)}else{let u=t.preOrderHooks;u!==null&&pu(e,u,0,null),Pb(e,0)}if(LJ(e),rL(e,0),t.contentQueries!==null&&XP(t,e),!s)if(c){let u=t.contentCheckHooks;u!==null&&du(e,u)}else{let u=t.contentHooks;u!==null&&pu(e,u,1),Pb(e,1)}nJ(t,e);let l=t.components;l!==null&&sL(e,l,0);let h=t.viewQuery;if(h!==null&&Sx(2,h,r),!s)if(c){let u=t.viewCheckHooks;u!==null&&du(e,u)}else{let u=t.viewHooks;u!==null&&pu(e,u,2),Pb(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tb]){for(let u of e[Tb])u();e[Tb]=null}s||(e[Y1]&=-73)}catch(c){throw Fa(e),c}finally{o!==null&&(OS(o,a),JY(o)),aw()}}function PJ(t){return t.type!==2}function rL(t,e){for(let n=fP(t);n!==null;n=gP(n)){n[Y1]&=~Ir.HasChildViewsToRefresh;for(let r=c6;r<n.length;r++){let i=n[r];iL(i,e)}}}function LJ(t){for(let e=fP(t);e!==null;e=gP(e)){if(!(e[Y1]&Ir.HasTransplantedViews))continue;let n=e[Lr];for(let r=0;r<n.length;r++){let i=n[r],s=i[y4];$K(i)}}}function IJ(t,e,n){let r=M9(e,t);iL(r,n)}function iL(t,e){ew(t)&&kx(t,e)}function kx(t,e){let r=t[_2],i=t[Y1],s=t[Lt],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(s?.dirty&&ub(s)),s&&(s.dirty=!1),t[Y1]&=-9217,a)TJ(r,t,r.template,t[M7]);else if(i&8192){rL(t,1);let o=r.components;o!==null&&sL(t,o,1)}}function sL(t,e,n){for(let r=0;r<e.length;r++)IJ(t,e[r],n)}function Lw(t){for(t[oe].changeDetectionScheduler?.notify();t;){t[Y1]|=64;let e=vw(t);if(RK(t)&&!e)return t;t=e}return null}var Rt=class{get rootNodes(){let e=this._lView,n=e[_2];return Tu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[M7]}set context(e){this._lView[M7]=e}get destroyed(){return(this._lView[Y1]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[y4];if(A7(e)){let n=e[wu],r=n?n.indexOf(this):-1;r>-1&&(ox(e,r),Au(n,r))}this._attachedToViewContainer=!1}wP(this._lView[_2],this._lView)}onDestroy(e){kT(this._lView,e)}markForCheck(){Lw(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y1]&=-129}reattach(){Jb(this._lView),this._lView[Y1]|=128}detectChanges(){this._lView[Y1]|=1024,SJ(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K0(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,sY(this._lView[_2],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K0(902,!1);this._appRef=e,Jb(this._lView)}},Gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DJ;let t=e;return t})();function DJ(t){return OJ(U5(),u2(),(t&16)===16)}function OJ(t,e,n){if(Nu(t)&&!n){let r=M9(t.index,e);return new Rt(r,r)}else if(t.type&47){let r=e[C7];return new Rt(r,e)}return null}var aL=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FJ,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Tx=class extends aL{constructor(e){super(),this._lView=e}onDestroy(e){return kT(this._lView,e),()=>QK(this._lView,e)}};function FJ(){return new Tx(u2())}var Fk=new Set;function rd(t){Fk.has(t)||(Fk.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Px=class extends V5{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=Vb(s),i&&(i=Vb(i)),a&&(a=Vb(a)));let o=super.subscribe({next:i,error:s,complete:a});return e instanceof L4&&e.add(o),o}};function Vb(t){return e=>{setTimeout(t,void 0,e)}}var m4=Px;function Hk(...t){}function HJ(){let t=typeof o6.requestAnimationFrame=="function",e=o6[t?"requestAnimationFrame":"setTimeout"],n=o6[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var V3=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new m4(!1),this.onMicrotaskEmpty=new m4(!1),this.onStable=new m4(!1),this.onError=new m4(!1),typeof Zone>"u")throw new K0(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=HJ().nativeRequestAnimationFrame,NJ(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K0(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K0(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,VJ,Hk,Hk);try{return s.runTask(a,n,r)}finally{s.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},VJ={};function Iw(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RJ(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(o6,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lx(t),t.isCheckStableRunning=!0,Iw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lx(t))}function NJ(t){let e=()=>{RJ(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,a,o)=>{if(BJ(o))return n.invokeTask(i,s,a,o);try{return Vk(t),n.invokeTask(i,s,a,o)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Rk(t)}},onInvoke:(n,r,i,s,a,o,c)=>{try{return Vk(t),n.invoke(i,s,a,o,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Rk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Lx(t),Iw(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Lx(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Vk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rk(t){t._nesting--,Iw(t)}function BJ(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Er=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Er||{}),ZJ={destroy(){}};function Dw(t,e){!e&&ZQ(Dw);let n=e?.injector??l1(H6);if(!UQ(n))return ZJ;rd("NgAfterNextRender");let r=n.get(oL),i=r.handler??=new Dx,s=e?.phase??Er.MixedReadWrite,a=()=>{i.unregister(c),o()},o=n.get(aL).onDestroy(a),c=new Ix(n,s,()=>{a(),t()});return i.register(c),{destroy:a}}var Ix=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(V3),this.errorHandler=e.get(c8,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Dx=class{constructor(){this.executingCallbacks=!1,this.buckets={[Er.EarlyRead]:new Set,[Er.Write]:new Set,[Er.MixedReadWrite]:new Set,[Er.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new K0(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},oL=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=J0({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function jJ(t,e){let n=M9(e,t),r=n[_2];UJ(r,n);let i=n[he];i!==null&&n[Ia]===null&&(n[Ia]=zw(i,n[Pr])),Ow(r,n,n[M7])}function UJ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ow(t,e,n){sw(e);try{let r=t.viewQuery;r!==null&&Sx(1,r,n);let i=t.template;i!==null&&WP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&XP(t,e),t.staticViewQueries&&Sx(2,t.viewQuery,n);let s=t.components;s!==null&&GJ(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y1]&=-5,aw()}}function GJ(t,e){for(let n=0;n<e.length;n++)jJ(t,e[n])}function Pu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let a=0;a<e.length;a++){let o=e[a];if(typeof o=="number")s=o;else if(s==1)i=qb(i,o);else if(s==2){let c=o,l=e[++a];r=qb(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lu=class extends Xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=b9(e);return new Hr(n,this.ngModule)}};function Nk(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function qJ(t){let e=t.toLowerCase();return e==="svg"?MT:e==="math"?jK:null}var Ox=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vu(r);let i=this.injector.get(e,Fb,r);return i!==Fb||n===Fb?i:this.parentInjector.get(e,n,r)}},Hr=class extends Su{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Nk(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Nk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DK(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof A5?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ox(e,s):e,o=a.get(Vt,null);if(o===null)throw new K0(407,!1);let c=a.get(qY,null),l=a.get(oL,null),h=a.get(vx,null),u={rendererFactory:o,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:h},p=o.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",f=r?sJ(p,r,this.componentDef.encapsulation,a):bP(p,g,qJ(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let L=null;f!==null&&(L=zw(f,a,!0));let A=Ew(0,null,null,1,0,null,null,null,null,null,null),_=td(null,A,null,w,null,null,u,p,a,null,L);sw(_);let R,G;try{let K=this.componentDef,Z,$=null;K.findHostDirectiveDefs?(Z=[],$=new Map,K.findHostDirectiveDefs(K,Z,$),Z.push(K)):Z=[K];let n0=WJ(_,f),h0=$J(n0,f,K,Z,_,u,p);G=AT(A,l6),f&&YJ(p,K,f,r),n!==void 0&&JJ(G,this.ngContentSelectors,n),R=QJ(h0,K,Z,$,_,[XJ]),Ow(A,_,null)}finally{aw()}return new Fx(this.componentType,R,jr(G,_),_,G)}},Fx=class extends bx{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Rt(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Tw(s[_2],s,i,e,n),this.previousInputValues.set(e,n);let a=M9(this._tNode.index,s);Lw(a)}}get injector(){return new Pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function WJ(t,e){let n=t[_2],r=l6;return t[r]=e,Ur(n,r,2,"#host",null)}function $J(t,e,n,r,i,s,a){let o=i[_2];KJ(r,t,e,a);let c=null;e!==null&&(c=zw(e,i[Pr]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let u=td(i,$P(n),null,h,i[t.index],t,s,l,null,null,c);return o.firstCreatePass&&Ex(o,t,r.length-1),nd(i,u),i[t.index]=u}function KJ(t,e,n,r){for(let i of t)e.mergedAttrs=La(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Pu(e,e.mergedAttrs,!0),n!==null&&EP(r,n,e))}function QJ(t,e,n,r,i,s){let a=U5(),o=i[_2],c=F6(a,i);KP(o,i,a,n,null,r);for(let h=0;h<n.length;h++){let u=a.directiveStart+h,p=Ht(i,o,u,a);w9(p,i)}QP(o,i,a),c&&w9(c,i);let l=Ht(i,o,a.directiveStart+a.componentOffset,a);if(t[M7]=i[M7]=l,s!==null)for(let h of s)h(l,e);return Cw(o,a,t),l}function YJ(t,e,n,r){if(r)Qb(t,n,["ng-version","17.0.8"]);else{let{attrs:i,classes:s}=OK(e.selectors[0]);i&&Qb(t,n,i),s&&s.length>0&&_P(t,n,s.join(" "))}}function JJ(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function XJ(){let t=U5();qu(u2()[_2],t)}function eX(t){return Object.getPrototypeOf(t.prototype).constructor}function u8(t){let e=eX(t.type),n=!0,r=[t];for(;e;){let i;if(x9(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K0(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=hu(t.inputs),a.inputTransforms=hu(t.inputTransforms),a.declaredInputs=hu(t.declaredInputs),a.outputs=hu(t.outputs);let o=i.hostBindings;o&&iX(t,o);let c=i.viewQuery,l=i.contentQueries;if(c&&nX(t,c),l&&rX(t,l),su(t.inputs,i.inputs),su(t.declaredInputs,i.declaredInputs),su(t.outputs,i.outputs),i.inputTransforms!==null&&(a.inputTransforms===null&&(a.inputTransforms={}),su(a.inputTransforms,i.inputTransforms)),x9(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let o=s[a];o&&o.ngInherit&&o(t),o===u8&&(n=!1)}}e=Object.getPrototypeOf(e)}tX(r)}function tX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=La(i.hostAttrs,n=La(n,i.hostAttrs))}}function hu(t){return t===Tr?{}:t===j5?[]:t}function nX(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function rX(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function iX(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fw(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function id(t,e,n){return t[e]=n}function sX(t,e){return t[e]}function le(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Hw(t,e,n,r){let i=le(t,e,n);return le(t,e+1,r)||i}function cL(t,e,n,r,i){let s=Hw(t,e,n,r);return le(t,e+2,i)||s}function qr(t,e,n,r){let i=u2(),s=rw();if(le(i,s,e)){let a=z4(),o=ju();MJ(o,i,t,e,n,r)}return qr}function Vw(t,e,n,r){return le(t,rw(),n)?e+r8(n)+r:h5}function Rw(t,e,n,r,i,s){let a=IT(),o=Hw(t,a,n,i);return Zu(2),o?e+r8(n)+r+r8(i)+s:h5}function aX(t,e,n,r,i,s,a,o){let c=IT(),l=cL(t,c,n,i,a);return Zu(3),l?e+r8(n)+r+r8(i)+s+r8(a)+o:h5}function uu(t,e){return t<<17|e<<2}function Nt(t){return t>>17&32767}function oX(t){return(t&2)==2}function cX(t,e){return t&131071|e<<17}function Hx(t){return t|2}function Vr(t){return(t&131068)>>2}function Rb(t,e){return t&-131069|e<<2}function lX(t){return(t&1)===1}function Vx(t){return t|1}function hX(t,e,n,r,i,s){let a=s?e.classBindings:e.styleBindings,o=Nt(a),c=Vr(a);t[r]=n;let l=!1,h;if(Array.isArray(n)){let u=n;h=u[1],(h===null||ja(u,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let p=Nt(t[o+1]);t[r+1]=uu(p,o),p!==0&&(t[p+1]=Rb(t[p+1],r)),t[o+1]=cX(t[o+1],r)}else t[r+1]=uu(o,0),o!==0&&(t[o+1]=Rb(t[o+1],r)),o=r;else t[r+1]=uu(c,0),o===0?o=r:t[c+1]=Rb(t[c+1],r),c=r;l&&(t[r+1]=Hx(t[r+1])),Bk(t,h,r,!0,s),Bk(t,h,r,!1,s),uX(e,h,t,r,s),a=uu(o,c),s?e.classBindings=a:e.styleBindings=a}function uX(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ja(s,e)>=0&&(n[r+1]=Vx(n[r+1]))}function Bk(t,e,n,r,i){let s=t[n+1],a=e===null,o=r?Nt(s):Vr(s),c=!1;for(;o!==0&&(c===!1||a);){let l=t[o],h=t[o+1];dX(l,e)&&(c=!0,t[o+1]=r?Vx(h):Hx(h)),o=r?Nt(h):Vr(h)}c&&(t[n+1]=r?Hx(s):Vx(s))}function dX(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ja(t,e)>=0:!1}var D4={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lL(t){return t.substring(D4.key,D4.keyEnd)}function pX(t){return t.substring(D4.value,D4.valueEnd)}function mX(t){return dL(t),hL(t,Rr(t,0,D4.textEnd))}function hL(t,e){let n=D4.textEnd;return n===e?-1:(e=D4.keyEnd=gX(t,D4.key=e,n),Rr(t,e,n))}function fX(t){return dL(t),uL(t,Rr(t,0,D4.textEnd))}function uL(t,e){let n=D4.textEnd,r=D4.key=Rr(t,e,n);return n===r?-1:(r=D4.keyEnd=vX(t,r,n),r=Zk(t,r,n,58),r=D4.value=Rr(t,r,n),r=D4.valueEnd=bX(t,r,n),Zk(t,r,n,59))}function dL(t){D4.key=0,D4.keyEnd=0,D4.value=0,D4.valueEnd=0,D4.textEnd=t.length}function Rr(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function gX(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function vX(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Zk(t,e,n,r){return e=Rr(t,e,n),e<n&&e++,e}function bX(t,e,n){let r=-1,i=-1,s=-1,a=e,o=a;for(;a<n;){let c=t.charCodeAt(a++);if(c===59)return o;c===34||c===39?o=a=jk(t,c,a,n):e===a-4&&s===85&&i===82&&r===76&&c===40?o=a=jk(t,41,a,n):c>32&&(o=a),s=i,i=r,r=c&-33}return o}function jk(t,e,n,r){let i=-1,s=n;for(;s<r;){let a=t.charCodeAt(s++);if(a==e&&i!==92)return s;a==92&&i===92?i=0:i=a}throw new Error}function Y(t,e,n){let r=u2(),i=rw();if(le(r,i,e)){let s=z4(),a=ju();Sw(s,a,r,t,e,r[K3],n,!1)}return Y}function Rx(t,e,n,r,i){let s=e.inputs,a=i?"class":"style";Tw(t,n,s[a],a,r)}function sd(t,e){return wX(t,e,null,!0),sd}function pL(t){ad(gL,xX,t,!1)}function xX(t,e){for(let n=fX(e);n>=0;n=uL(e,n))gL(t,lL(e),pX(e))}function fe(t){ad(_X,Nw,t,!0)}function Nw(t,e){for(let n=mX(e);n>=0;n=hL(e,n))Zr(t,lL(e),!0)}function wX(t,e,n,r){let i=u2(),s=z4(),a=Zu(2);if(s.firstUpdatePass&&fL(s,t,a,r),e!==h5&&le(i,a,e)){let o=s.data[ue()];vL(s,o,i,i[K3],t,i[a+1]=SX(e,n),r,a)}}function ad(t,e,n,r){let i=z4(),s=Zu(2);i.firstUpdatePass&&fL(i,null,s,r);let a=u2();if(n!==h5&&le(a,s,n)){let o=i.data[ue()];if(bL(o,r)&&!mL(i,s)){let c=r?o.classesWithoutHost:o.stylesWithoutHost;c!==null&&(n=qb(c,n||"")),Rx(i,o,a,n,r)}else EX(i,o,a,a[K3],a[s+1],a[s+1]=AX(t,e,n),r,s)}}function mL(t,e){return e>=t.expandoStartIndex}function fL(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ue()],a=mL(t,n);bL(s,r)&&e===null&&!a&&(e=!1),e=yX(i,s,e,r),hX(i,s,e,n,a,r)}}function yX(t,e,n,r){let i=oQ(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Nb(null,t,e,n,r),n=Va(n,e.attrs,r),s=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Nb(i,t,e,n,r),s===null){let c=zX(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Nb(null,t,e,c[1],r),c=Va(c,e.attrs,r),MX(t,e,r,c))}else s=CX(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function zX(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vr(r)!==0)return t[Nt(r)]}function MX(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Nt(i)]=r}function CX(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let a=t[s].hostAttrs;r=Va(r,a,n)}return Va(r,e.attrs,n)}function Nb(t,e,n,r,i){let s=null,a=n.directiveEnd,o=n.directiveStylingLast;for(o===-1?o=n.directiveStart:o++;o<a&&(s=e[o],r=Va(r,s.hostAttrs,i),s!==t);)o++;return t!==null&&(n.directiveStylingLast=o),r}function Va(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Zr(t,a,n?!0:e[++s]))}return t===void 0?null:t}function AX(t,e,n){if(n==null||n==="")return j5;let r=[],i=u6(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function gL(t,e,n){Zr(t,e,u6(n))}function _X(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Zr(t,r,n)}function EX(t,e,n,r,i,s,a,o){i===h5&&(i=j5);let c=0,l=0,h=0<i.length?i[0]:null,u=0<s.length?s[0]:null;for(;h!==null||u!==null;){let p=c<i.length?i[c+1]:void 0,g=l<s.length?s[l+1]:void 0,f=null,w;h===u?(c+=2,l+=2,p!==g&&(f=u,w=g)):u===null||h!==null&&h<u?(c+=2,f=h):(l+=2,f=u,w=g),f!==null&&vL(t,e,n,r,f,w,a,o),h=c<i.length?i[c]:null,u=l<s.length?s[l]:null}}function vL(t,e,n,r,i,s,a,o){if(!(e.type&3))return;let c=t.data,l=c[o+1],h=lX(l)?Uk(c,e,n,i,Vr(l),a):void 0;if(!Iu(h)){Iu(s)||oX(l)&&(s=Uk(c,null,n,i,o,a));let u=CT(ue(),n);xY(r,a,u,i,s)}}function Uk(t,e,n,r,i,s){let a=e===null,o;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,u=h===null,p=n[i+1];p===h5&&(p=u?j5:void 0);let g=u?Ib(p,r):h===r?p:void 0;if(l&&!Iu(g)&&(g=Ib(c,r)),Iu(g)&&(o=g,a))return o;let f=t[i+1];i=a?Nt(f):Vr(f)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(o=Ib(c,r))}return o}function Iu(t){return t!==void 0}function SX(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=c5(u6(t)))),t}function bL(t,e){return(t.flags&(e?8:16))!==0}function Bw(t,e,n){let r=u2(),i=Vw(r,t,e,n);ad(Zr,Nw,i,!0)}function xL(t,e,n,r,i){let s=u2(),a=Rw(s,t,e,n,r,i);ad(Zr,Nw,a,!0)}var iw0=new RegExp(`^(\\d+)*(${RY}|${VY})*(.*)`);var kX=(t,e)=>null;function Gk(t,e){return kX(t,e)}function TX(t,e,n,r){let i=e.tView,a=t[Y1]&4096?4096:16,o=td(t,i,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];o[Ba]=c;let l=t[i8];return l!==null&&(o[i8]=l.createEmbeddedView(i)),Ow(i,o,n),o}function qk(t,e){return!e||e.firstChild===null||pP(t)}function PX(t,e,n,r=!0){let i=e[_2];if(oY(i,e,t,n),r){let a=cx(n,t),o=e[K3],c=bw(o,t[It]);c!==null&&iY(i,t[h6],o,e,c,a)}let s=e[Ia];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var d8=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LX;let t=e;return t})();function LX(){let t=U5();return yL(t,u2())}var IX=d8,wL=class extends IX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return jr(this._hostTNode,this._hostLView)}get injector(){return new Pt(this._hostTNode,this._hostLView)}get parentInjector(){let e=ow(this._hostTNode,this._hostLView);if(UT(e)){let n=zu(e,this._hostLView),r=yu(e),i=n[_2].data[r+8];return new Pt(i,n)}else return new Pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Wk(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-c6}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=Gk(this._lContainer,e.ssrId),o=e.createEmbeddedViewImpl(n||{},s,a);return this.insertImpl(o,i,qk(this._hostTNode,a)),o}createComponent(e,n,r,i,s){let a=e&&!EQ(e),o;if(a)o=n;else{let f=n||{};o=f.index,r=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}let c=a?e:new Hr(b9(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let w=(a?l:this.parentInjector).get(A5,null);w&&(s=w)}let h=b9(c.componentType??{}),u=Gk(this._lContainer,h?.id??null),p=u?.firstChild??null,g=c.create(l,i,p,s);return this.insertImpl(g.hostView,o,qk(this._hostTNode,u)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(WK(i)){let o=this.indexOf(e);if(o!==-1)this.detach(o);else{let c=i[y4],l=new wL(c,c[h6],c[y4]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),a=this._lContainer;return PX(a,i,s,r),e.attachToViewContainerRef(),eP(Bb(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Wk(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ox(this._lContainer,n);r&&(Au(Bb(this._lContainer),n),wP(r[_2],r))}detach(e){let n=this._adjustIndex(e,-1),r=ox(this._lContainer,n);return r&&Au(Bb(this._lContainer),n)!=null?new Rt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Wk(t){return t[wu]}function Bb(t){return t[wu]||(t[wu]=[])}function yL(t,e){let n,r=e[t.index];return A7(r)?n=r:(n=JP(r,e,null,t),e[t.index]=n,nd(e,n)),OX(n,e,t,r),new wL(n,t,e)}function DX(t,e){let n=t[K3],r=n.createComment(""),i=F6(e,t),s=bw(n,i);return Eu(n,s,r,pY(n,i),!1),r}var OX=VX,FX=(t,e,n)=>!1;function HX(t,e,n){return FX(t,e,n)}function VX(t,e,n,r){if(t[It])return;let i;n.type&8?i=a8(r):i=DX(e,n),t[It]=i}function RX(t,e,n,r,i,s,a,o,c){let l=e.consts,h=Ur(e,t,4,a||null,Dr(l,o));kw(e,n,h,Dr(l,c)),qu(e,h);let u=h.tView=Ew(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}function D0(t,e,n,r,i,s,a,o){let c=u2(),l=z4(),h=t+l6,u=l.firstCreatePass?RX(h,l,c,e,n,r,i,s,a):l.data[h];jt(u,!1);let p=NX(l,c,u,t);Uu()&&Qu(l,c,p,u),w9(p,c);let g=JP(p,c,p,u);return c[h]=g,nd(c,g),HX(g,u,c),Bu(u)&&Aw(l,c,u),a!=null&&_w(c,u,o),D0}var NX=BX;function BX(t,e,n,r){return Gu(!0),e[K3].createComment("")}function ZX(t,e,n,r,i,s){let a=e.consts,o=Dr(a,i),c=Ur(e,t,2,r,o);return kw(e,n,c,Dr(a,s)),c.attrs!==null&&Pu(c,c.attrs,!1),c.mergedAttrs!==null&&Pu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=u2(),s=z4(),a=l6+t,o=i[K3],c=s.firstCreatePass?ZX(a,s,i,e,n,r):s.data[a],l=jX(s,i,c,o,e,t);i[a]=l;let h=Bu(c);return jt(c,!0),EP(o,l,c),(c.flags&32)!==32&&Uu()&&Qu(s,i,l,c),YK()===0&&w9(l,i),JK(),h&&(Aw(s,i,c),Cw(s,c,i)),r!==null&&_w(i,c),v}function b(){let t=U5();tw()?nw():(t=t.parent,jt(t,!1));let e=t;eQ(e)&&tQ(),XK();let n=z4();return n.firstCreatePass&&(qu(n,t),Xx(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fQ(e)&&Rx(n,e,u2(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gQ(e)&&Rx(n,e,u2(),e.stylesWithoutHost,!1),b}function v0(t,e,n,r){return v(t,e,n,r),b(),v0}var jX=(t,e,n,r,i,s)=>(Gu(!0),bP(r,i,uQ()));function UX(t,e,n,r,i){let s=e.consts,a=Dr(s,r),o=Ur(e,t,8,"ng-container",a);a!==null&&Pu(o,a,!0);let c=Dr(s,i);return kw(e,n,o,c),e.queries!==null&&e.queries.elementStart(e,o),o}function M4(t,e,n){let r=u2(),i=z4(),s=t+l6,a=i.firstCreatePass?UX(s,i,r,e,n):i.data[s];jt(a,!0);let o=GX(i,r,a,t);return r[s]=o,Uu()&&Qu(i,r,o,a),w9(o,r),Bu(a)&&(Aw(i,r,a),Cw(i,a,r)),n!=null&&_w(r,a),M4}function C4(){let t=U5(),e=z4();return tw()?nw():(t=t.parent,jt(t,!1)),e.firstCreatePass&&(qu(e,t),Xx(t)&&e.queries.elementEnd(t)),C4}var GX=(t,e,n,r)=>(Gu(!0),nY(e[K3],""));function r2(){return u2()}var Tt=void 0;function qX(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var WX=["en",[["a","p"],["AM","PM"],Tt],[["AM","PM"],Tt,Tt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tt,"{1} 'at' {0}",Tt],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",qX],Zb={};function V6(t){let e=$X(t),n=$k(e);if(n)return n;let r=e.split("-")[0];if(n=$k(r),n)return n;if(r==="en")return WX;throw new K0(701,!1)}function $k(t){return t in Zb||(Zb[t]=o6.ng&&o6.ng.common&&o6.ng.common.locales&&o6.ng.common.locales[t]),Zb[t]}var f4=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(f4||{});function $X(t){return t.toLowerCase().replace(/_/g,"-")}var Du="en-US";var KX=Du;function QX(t){uK(t,"Expected localeId to be defined"),typeof t=="string"&&(KX=t.toLowerCase().replace(/_/g,"-"))}function Ut(t){return!!t&&typeof t.then=="function"}function zL(t){return!!t&&typeof t.subscribe=="function"}function f0(t,e,n,r){let i=u2(),s=z4(),a=U5();return JX(s,i,i[K3],a,t,e,r),f0}function YX(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===n&&i[s+1]===r){let o=e[Da],c=i[s+2];return o.length>c?o[c]:null}typeof a=="string"&&(s+=2)}return null}function JX(t,e,n,r,i,s,a){let o=Bu(r),l=t.firstCreatePass&&tL(t),h=e[M7],u=eL(e),p=!0;if(r.type&3||a){let w=F6(r,e),L=a?a(w):w,A=u.length,_=a?G=>a(a8(G[r.index])):r.index,R=null;if(!a&&o&&(R=YX(t,e,i,r.index)),R!==null){let G=R.__ngLastListenerFn__||R;G.__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,p=!1}else{s=Qk(r,e,h,s,!1);let G=n.listen(L,i,s);u.push(s,G),l&&l.push(i,_,A,A+1)}}else s=Qk(r,e,h,s,!1);let g=r.outputs,f;if(p&&g!==null&&(f=g[i])){let w=f.length;if(w)for(let L=0;L<w;L+=2){let A=f[L],_=f[L+1],K=e[A][_].subscribe(s),Z=u.length;u.push(s,K),l&&l.push(i,r.index,Z,-(Z+1))}}}function Kk(t,e,n,r){try{return t8(6,e,n),n(r)!==!1}catch(i){return nL(t,i),!1}finally{t8(7,e,n)}}function Qk(t,e,n,r,i){return function s(a){if(a===Function)return r;let o=t.componentOffset>-1?M9(t.index,e):e;Lw(o);let c=Kk(e,n,r,a),l=s.__ngNextListenerFn__;for(;l;)c=Kk(e,n,l,a)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&a.preventDefault(),c}}function b0(t=1){return lQ(t)}function XX(t,e){let n=null,r=kK(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?uT(t,s,!0):LK(r,s))return i}return n}function od(t){let e=u2()[C7][h6];if(!e.projection){let n=t?t.length:1,r=e.projection=tP(n,null),i=r.slice(),s=e.child;for(;s!==null;){let a=t?XX(s,t):0;a!==null&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}function Ka(t,e=0,n){let r=u2(),i=z4(),s=Ur(i,l6+t,16,null,n||null);s.projection===null&&(s.projection=e),nw(),(!r[Ia]||PT())&&(s.flags&32)!==32&&vY(i,r,s)}function Wr(t,e,n){return cd(t,"",e,"",n),Wr}function cd(t,e,n,r,i){let s=u2(),a=Vw(s,e,n,r);if(a!==h5){let o=z4(),c=ju();Sw(o,c,s,t,a,s[K3],i,!1)}return cd}function Gt(t,e,n,r,i,s,a){let o=u2(),c=Rw(o,e,n,r,i,s);if(c!==h5){let l=z4(),h=ju();Sw(l,h,o,t,c,o[K3],a,!1)}return Gt}function e00(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function C(t,e=""){let n=u2(),r=z4(),i=t+l6,s=r.firstCreatePass?Ur(r,i,1,e,null):r.data[i],a=t00(r,n,s,e,t);n[i]=a,Uu()&&Qu(r,n,a,s),jt(s,!1)}var t00=(t,e,n,r,i)=>(Gu(!0),eY(e[K3],r));function W0(t){return m1("",t,""),W0}function m1(t,e,n){let r=u2(),i=Vw(r,t,e,n);return i!==h5&&Pw(r,ue(),i),m1}function Qa(t,e,n,r,i){let s=u2(),a=Rw(s,t,e,n,r,i);return a!==h5&&Pw(s,ue(),a),Qa}function Zw(t,e,n,r,i,s,a){let o=u2(),c=aX(o,t,e,n,r,i,s,a);return c!==h5&&Pw(o,ue(),c),Zw}function n00(t,e,n){let r=z4();if(r.firstCreatePass){let i=x9(t);Nx(n,r.data,r.blueprint,i,!0),Nx(e,r.data,r.blueprint,i,!1)}}function Nx(t,e,n,r,i){if(t=C5(t),Array.isArray(t))for(let s=0;s<t.length;s++)Nx(t[s],e,n,r,i);else{let s=z4(),a=u2(),o=U5(),c=Fr(t)?t:C5(t.provide),l=oP(t),h=o.providerIndexes&1048575,u=o.directiveStart,p=o.providerIndexes>>20;if(Fr(t)||!t.multi){let g=new Ft(l,i,m0),f=Ub(c,e,i?h:h+p,u);f===-1?(tx(Cu(o,a),s,c),jb(s,t,e.length),e.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),n.push(g),a.push(g)):(n[f]=g,a[f]=g)}else{let g=Ub(c,e,h+p,u),f=Ub(c,e,h,h+p),w=g>=0&&n[g],L=f>=0&&n[f];if(i&&!L||!i&&!w){tx(Cu(o,a),s,c);let A=s00(i?i00:r00,n.length,i,r,l);!i&&L&&(n[f].providerFactory=A),jb(s,t,e.length,0),e.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),n.push(A),a.push(A)}else{let A=ML(n[i?f:g],l,!i&&r);jb(s,t,g>-1?g:f,A)}!i&&r&&L&&n[f].componentProviders++}}}function jb(t,e,n,r){let i=Fr(e),s=OQ(e);if(i||s){let c=(s?C5(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function ML(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ub(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function r00(t,e,n,r){return Bx(this.multi,[])}function i00(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,o=Ht(n,n[_2],this.providerFactory.index,r);s=o.slice(0,a),Bx(i,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],Bx(i,s);return s}function Bx(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function s00(t,e,n,r,i){let s=new Ft(t,n,m0);return s.multi=[],s.index=e,s.componentProviders=0,ML(s,i,r&&!n),s}function p8(t,e=[]){return n=>{n.providersResolver=(r,i)=>n00(r,i?i(t):t,e)}}var y9=class{},Ra=class{};var Zx=class extends y9{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lu(this);let i=fT(e);this._bootstrapComponents=dP(i.bootstrap),this._r3Injector=cP(e,n,[{provide:y9,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver},...r],c5(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jx=class extends Ra{constructor(e){super(),this.moduleType=e}create(e){return new Zx(this.moduleType,e,[])}};var Ou=class extends y9{constructor(e){super(),this.componentFactoryResolver=new Lu(this),this.instance=null;let n=new Ha([...e.providers,{provide:y9,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],e.parent||uw(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ld(t,e,n=null){return new Ou({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var a00=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=iP(!1,r.type),s=i.length>0?ld([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=J0({token:e,providedIn:"environment",factory:()=>new e(X0(A5))});let t=e;return t})();function r1(t){rd("NgStandalone"),t.getStandaloneInjector=e=>e.get(a00).getOrCreateStandaloneInjector(t)}function L3(t,e,n){let r=Za()+t,i=u2();return i[r]===h5?id(i,r,n?e.call(n):e()):sX(i,r)}function Ya(t,e,n,r){return CL(u2(),Za(),t,e,n,r)}function Ja(t,e,n,r,i,s){return c00(u2(),Za(),t,e,n,r,i,s)}function jw(t,e){let n=t[e];return n===h5?void 0:n}function CL(t,e,n,r,i,s){let a=e+n;return le(t,a,i)?id(t,a+1,s?r.call(s,i):r(i)):jw(t,a+1)}function o00(t,e,n,r,i,s,a){let o=e+n;return Hw(t,o,i,s)?id(t,o+2,a?r.call(a,i,s):r(i,s)):jw(t,o+2)}function c00(t,e,n,r,i,s,a,o){let c=e+n;return cL(t,c,i,s,a)?id(t,c+3,o?r.call(o,i,s,a):r(i,s,a)):jw(t,c+3)}function E2(t,e){let n=z4(),r,i=t+l6;n.firstCreatePass?(r=l00(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Dt(r.type,!0)),a,o=Z5(m0);try{let c=Mu(!1),l=s();return Mu(c),e00(n,u2(),i,l),l}finally{Z5(o)}}function l00(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function n3(t,e,n){let r=t+l6,i=u2(),s=_T(i,r);return AL(i,r)?CL(i,Za(),e,s.transform,n,s):s.transform(n)}function E7(t,e,n,r){let i=t+l6,s=u2(),a=_T(s,i);return AL(s,i)?o00(s,Za(),e,a.transform,n,r,a):a.transform(n,r)}function AL(t,e){return t[_2].data[e].pure}function h00(){return this._results[Symbol.iterator]()}var Ux=class t{get changes(){return this._changes??=new m4}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=h00)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=kQ(e);(this._changesDetected=!SQ(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Bt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=p00;let t=e;return t})(),u00=Bt,d00=class extends u00{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=TX(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Rt(i)}};function p00(){return hd(U5(),u2())}function hd(t,e){return t.type&4?new d00(e,t,jr(t,e)):null}var Gx=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},qx=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let a=n.getByIndex(s),o=this.queries[a.indexInDeclarationView];i.push(o.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)SL(e,n).matches!==null&&this.queries[n].setDirty()}},Wx=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},$x=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Kx=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,m00(n,s)),this.matchTNodeWithReadOption(e,n,mu(n,e,s,!1,!1))}else r===Bt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,mu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===l5||i===d8||i===Bt&&n.type&4)this.addMatch(n.index,-2);else{let s=mu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function m00(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function f00(t,e){return t.type&11?jr(t,e):t.type&4?hd(t,e):null}function g00(t,e,n,r){return n===-1?f00(e,t):n===-2?v00(t,e,r):Ht(t,t[_2],n,e)}function v00(t,e,n){if(n===l5)return jr(e,t);if(n===Bt)return hd(e,t);if(n===d8)return yL(e,t)}function _L(t,e,n,r){let i=e[i8].queries[r];if(i.matches===null){let s=t.data,a=n.matches,o=[];for(let c=0;c<a.length;c+=2){let l=a[c];if(l<0)o.push(null);else{let h=s[l];o.push(g00(e,h,a[c+1],n.metadata.read))}}i.matches=o}return i.matches}function Qx(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let a=_L(t,e,i,n);for(let o=0;o<s.length;o+=2){let c=s[o];if(c>0)r.push(a[o/2]);else{let l=s[o+1],h=e[-c];for(let u=c6;u<h.length;u++){let p=h[u];p[Ba]===p[y4]&&Qx(p[_2],p,l,r)}if(h[Lr]!==null){let u=h[Lr];for(let p=0;p<u.length;p++){let g=u[p];Qx(g[_2],g,l,r)}}}}}return r}function Uw(t){let e=u2(),n=z4(),r=DT();iw(r+1);let i=SL(n,r);if(t.dirty&&qK(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Qx(n,e,r,[]):_L(n,e,i,r);t.reset(s,UY),t.notifyOnChanges()}return!0}return!1}function EL(t,e,n){let r=z4();r.firstCreatePass&&(w00(r,new Wx(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),x00(r,u2(),e)}function Gw(){return b00(u2(),DT())}function b00(t,e){return t[i8].queries[e].queryList}function x00(t,e,n){let r=new Ux((n&4)===4);cJ(t,e,r,r.destroy),e[i8]===null&&(e[i8]=new qx),e[i8].queries.push(new Gx(r))}function w00(t,e,n){t.queries===null&&(t.queries=new $x),t.queries.track(new Kx(e,n))}function SL(t,e){return t.queries.getByIndex(e)}function kL(t,e){return hd(t,e)}var ud=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Yx=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},dd=(()=>{let e=class e{compileModuleSync(r){return new jx(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=fT(r),a=dP(s.declarations).reduce((o,c)=>{let l=b9(c);return l&&o.push(new Hr(l)),o},[]);return new Yx(i,a)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qt=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W3(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TL=new L1("");var pd=new L1("Application Initializer"),PL=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=l1(pd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let a=s();if(Ut(a))r.push(a);else if(zL(a)){let o=new Promise((c,l)=>{a.subscribe({complete:c,error:l})});r.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),md=new L1("appBootstrapListener");function y00(){HS(()=>{throw new K0(600,!1)})}function z00(t){return t.isBoundToModule}function M00(t,e,n){try{let r=n();return Ut(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var C9=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=l1(ZP),this.componentTypes=[],this.components=[],this.isStable=l1(qt).hasPendingTasks.pipe(f2(r=>!r)),this._injector=l1(A5)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Su;if(!this._injector.get(PL).done){let f="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&mT(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new K0(405,!1)}let o;s?o=r:o=this._injector.get(Xu).resolveComponentFactory(r),this.componentTypes.push(o.componentType);let c=z00(o)?void 0:this._injector.get(y9),l=i||o.selector,h=o.create(H6.NULL,[],l,c),u=h.location.nativeElement,p=h.injector.get(TL,null);return p?.registerApplication(u),h.onDestroy(()=>{this.detachView(h.hostView),Gb(this.components,h),p?.unregisterApplication(u)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new K0(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Gb(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(md,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Gb(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new K0(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var C00=(()=>{let e=class e{constructor(){this.zone=l1(V3),this.applicationRef=l1(C9)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A00(t){return[{provide:V3,useFactory:t},{provide:Or,multi:!0,useFactory:()=>{let e=l1(C00,{optional:!0});return()=>e.initialize()}},{provide:Or,multi:!0,useFactory:()=>{let e=l1(k00);return()=>{e.initialize()}}},{provide:ZP,useFactory:_00}]}function _00(){let t=l1(V3),e=l1(c8);return n=>t.runOutsideAngular(()=>e.handleError(n))}function E00(t){let e=A00(()=>new V3(S00(t)));return Ga([[],e])}function S00(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var k00=(()=>{let e=class e{constructor(){this.subscription=new L4,this.initialized=!1,this.zone=l1(V3),this.pendingTasks=l1(qt)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{V3.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{V3.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T00(){return typeof $localize<"u"&&$localize.locale||Du}var fd=new L1("LocaleId",{providedIn:"root",factory:()=>l1(fd,k2.Optional|k2.SkipSelf)||T00()});var LL=new L1("PlatformDestroyListeners");var vu=null;function P00(t=[],e){return H6.create({name:e,providers:[{provide:Ku,useValue:"platform"},{provide:LL,useValue:new Set([()=>vu=null])},...t]})}function L00(t=[]){if(vu)return vu;let e=P00(t);return vu=e,y00(),I00(e),e}function I00(t){t.get(pw,null)?.forEach(n=>n())}function IL(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=L00(r),s=[E00(),...n||[]],o=new Ou({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=o.get(V3);return c.run(()=>{o.resolveInjectorInitializers();let l=o.get(c8,null),h;c.runOutsideAngular(()=>{h=c.onError.subscribe({next:g=>{l.handleError(g)}})});let u=()=>o.destroy(),p=i.get(LL);return p.add(u),o.onDestroy(()=>{h.unsubscribe(),p.delete(u)}),M00(l,c,()=>{let g=o.get(PL);return g.runInitializers(),g.donePromise.then(()=>{let f=o.get(fd,Du);QX(f||Du);let w=o.get(C9);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}function Wt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function DL(t){let e=b9(t);if(!e)return null;let n=new Hr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Qw=null;function we(){return Qw}function ZL(t){Qw||(Qw=t)}var Md=class{},g4=new L1("DocumentToken"),ty=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>l1(D00))(),providedIn:"platform"});let t=e;return t})(),jL=new L1("Location Initialized"),D00=(()=>{let e=class e extends ty{constructor(){super(),this._doc=l1(g4),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return we().getBaseHref(this._doc)}onPopState(r){let i=we().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=we().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function ny(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function OL(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ve(t){return t&&t[0]!=="?"?"?"+t:t}var ye=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>l1(ry))(),providedIn:"root"});let t=e;return t})(),UL=new L1("appBaseHref"),ry=(()=>{let e=class e extends ye{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??l1(g4).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ny(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ve(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,a){let o=this.prepareExternalUrl(s+ve(a));this._platformLocation.pushState(r,i,o)}replaceState(r,i,s,a){let o=this.prepareExternalUrl(s+ve(a));this._platformLocation.replaceState(r,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X0(ty),X0(UL,8))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GL=(()=>{let e=class e extends ye{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ny(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,a){let o=this.prepareExternalUrl(s+ve(a));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(r,i,o)}replaceState(r,i,s,a){let o=this.prepareExternalUrl(s+ve(a));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X0(ty),X0(UL,8))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),Kr=(()=>{let e=class e{constructor(r){this._subject=new m4,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=H00(OL(FL(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ve(i))}normalize(r){return e.stripTrailingSlash(F00(this._basePath,FL(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ve(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ve(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ve,e.joinWithSlash=ny,e.stripTrailingSlash=OL,e.\u0275fac=function(i){return new(i||e)(X0(ye))},e.\u0275prov=J0({token:e,factory:()=>O00(),providedIn:"root"});let t=e;return t})();function O00(){return new Kr(X0(ye))}function F00(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function FL(t){return t.replace(/\/index.html$/,"")}function H00(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var _5=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_5||{}),I3=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(I3||{}),d6=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(d6||{}),be=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(be||{});function V00(t){return V6(t)[f4.LocaleId]}function R00(t,e,n){let r=V6(t),i=[r[f4.DayPeriodsFormat],r[f4.DayPeriodsStandalone]],s=R6(i,e);return R6(s,n)}function N00(t,e,n){let r=V6(t),i=[r[f4.DaysFormat],r[f4.DaysStandalone]],s=R6(i,e);return R6(s,n)}function B00(t,e,n){let r=V6(t),i=[r[f4.MonthsFormat],r[f4.MonthsStandalone]],s=R6(i,e);return R6(s,n)}function Z00(t,e){let r=V6(t)[f4.Eras];return R6(r,e)}function gd(t,e){let n=V6(t);return R6(n[f4.DateFormat],e)}function vd(t,e){let n=V6(t);return R6(n[f4.TimeFormat],e)}function bd(t,e){let r=V6(t)[f4.DateTimeFormat];return R6(r,e)}function Ad(t,e){let n=V6(t),r=n[f4.NumberSymbols][e];if(typeof r>"u"){if(e===be.CurrencyDecimal)return n[f4.NumberSymbols][be.Decimal];if(e===be.CurrencyGroup)return n[f4.NumberSymbols][be.Group]}return r}function qL(t){if(!t[f4.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[f4.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function j00(t){let e=V6(t);return qL(e),(e[f4.ExtraData][2]||[]).map(r=>typeof r=="string"?qw(r):[qw(r[0]),qw(r[1])])}function U00(t,e,n){let r=V6(t);qL(r);let i=[r[f4.ExtraData][0],r[f4.ExtraData][1]],s=R6(i,e)||[];return R6(s,n)||[]}function R6(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function qw(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var G00=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xa={},q00=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xe=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(xe||{}),h3=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(h3||{}),l3=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(l3||{});function W00(t,e,n,r){let i=n10(t);e=ge(n,e)||e;let a=[],o;for(;e;)if(o=q00.exec(e),o){a=a.concat(o.slice(1));let h=a.pop();if(!h)break;e=h}else{a.push(e);break}let c=i.getTimezoneOffset();r&&(c=$L(r,c),i=t10(i,r,!0));let l="";return a.forEach(h=>{let u=X00(h);l+=u?u(i,n,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Cd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function ge(t,e){let n=V00(t);if(Xa[n]=Xa[n]||{},Xa[n][e])return Xa[n][e];let r="";switch(e){case"shortDate":r=gd(t,d6.Short);break;case"mediumDate":r=gd(t,d6.Medium);break;case"longDate":r=gd(t,d6.Long);break;case"fullDate":r=gd(t,d6.Full);break;case"shortTime":r=vd(t,d6.Short);break;case"mediumTime":r=vd(t,d6.Medium);break;case"longTime":r=vd(t,d6.Long);break;case"fullTime":r=vd(t,d6.Full);break;case"short":let i=ge(t,"shortTime"),s=ge(t,"shortDate");r=xd(bd(t,d6.Short),[i,s]);break;case"medium":let a=ge(t,"mediumTime"),o=ge(t,"mediumDate");r=xd(bd(t,d6.Medium),[a,o]);break;case"long":let c=ge(t,"longTime"),l=ge(t,"longDate");r=xd(bd(t,d6.Long),[c,l]);break;case"full":let h=ge(t,"fullTime"),u=ge(t,"fullDate");r=xd(bd(t,d6.Full),[h,u]);break}return r&&(Xa[n][e]=r),r}function xd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function S7(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),s+a}function $00(t,e){return S7(t,3).substring(0,e)}function A4(t,e,n=0,r=!1,i=!1){return function(s,a){let o=K00(t,s);if((n>0||o>-n)&&(o+=n),t===h3.Hours)o===0&&n===-12&&(o=12);else if(t===h3.FractionalSeconds)return $00(o,e);let c=Ad(a,be.MinusSign);return S7(o,e,c,r,i)}}function K00(t,e){switch(t){case h3.FullYear:return e.getFullYear();case h3.Month:return e.getMonth();case h3.Date:return e.getDate();case h3.Hours:return e.getHours();case h3.Minutes:return e.getMinutes();case h3.Seconds:return e.getSeconds();case h3.FractionalSeconds:return e.getMilliseconds();case h3.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function R3(t,e,n=_5.Format,r=!1){return function(i,s){return Q00(i,s,t,e,n,r)}}function Q00(t,e,n,r,i,s){switch(n){case l3.Months:return B00(e,i,r)[t.getMonth()];case l3.Days:return N00(e,i,r)[t.getDay()];case l3.DayPeriods:let a=t.getHours(),o=t.getMinutes();if(s){let l=j00(e),h=U00(e,i,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[g,f]=p,w=a>=g.hours&&o>=g.minutes,L=a<f.hours||a===f.hours&&o<f.minutes;if(g.hours<f.hours){if(w&&L)return!0}else if(w||L)return!0}else if(p.hours===a&&p.minutes===o)return!0;return!1});if(u!==-1)return h[u]}return R00(e,i,r)[a<12?0:1];case l3.Eras:return Z00(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function wd(t){return function(e,n,r){let i=-1*r,s=Ad(n,be.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case xe.Short:return(i>=0?"+":"")+S7(a,2,s)+S7(Math.abs(i%60),2,s);case xe.ShortGMT:return"GMT"+(i>=0?"+":"")+S7(a,1,s);case xe.Long:return"GMT"+(i>=0?"+":"")+S7(a,2,s)+":"+S7(Math.abs(i%60),2,s);case xe.Extended:return r===0?"Z":(i>=0?"+":"")+S7(a,2,s)+":"+S7(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var Y00=0,zd=4;function J00(t){let e=Cd(t,Y00,1).getDay();return Cd(t,0,1+(e<=zd?zd:zd+7)-e)}function WL(t){return Cd(t.getFullYear(),t.getMonth(),t.getDate()+(zd-t.getDay()))}function Ww(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+s)/7)}else{let s=WL(n),a=J00(s.getFullYear()),o=s.getTime()-a.getTime();i=1+Math.round(o/6048e5)}return S7(i,t,Ad(r,be.MinusSign))}}function yd(t,e=!1){return function(n,r){let s=WL(n).getFullYear();return S7(s,t,Ad(r,be.MinusSign),e)}}var $w={};function X00(t){if($w[t])return $w[t];let e;switch(t){case"G":case"GG":case"GGG":e=R3(l3.Eras,I3.Abbreviated);break;case"GGGG":e=R3(l3.Eras,I3.Wide);break;case"GGGGG":e=R3(l3.Eras,I3.Narrow);break;case"y":e=A4(h3.FullYear,1,0,!1,!0);break;case"yy":e=A4(h3.FullYear,2,0,!0,!0);break;case"yyy":e=A4(h3.FullYear,3,0,!1,!0);break;case"yyyy":e=A4(h3.FullYear,4,0,!1,!0);break;case"Y":e=yd(1);break;case"YY":e=yd(2,!0);break;case"YYY":e=yd(3);break;case"YYYY":e=yd(4);break;case"M":case"L":e=A4(h3.Month,1,1);break;case"MM":case"LL":e=A4(h3.Month,2,1);break;case"MMM":e=R3(l3.Months,I3.Abbreviated);break;case"MMMM":e=R3(l3.Months,I3.Wide);break;case"MMMMM":e=R3(l3.Months,I3.Narrow);break;case"LLL":e=R3(l3.Months,I3.Abbreviated,_5.Standalone);break;case"LLLL":e=R3(l3.Months,I3.Wide,_5.Standalone);break;case"LLLLL":e=R3(l3.Months,I3.Narrow,_5.Standalone);break;case"w":e=Ww(1);break;case"ww":e=Ww(2);break;case"W":e=Ww(1,!0);break;case"d":e=A4(h3.Date,1);break;case"dd":e=A4(h3.Date,2);break;case"c":case"cc":e=A4(h3.Day,1);break;case"ccc":e=R3(l3.Days,I3.Abbreviated,_5.Standalone);break;case"cccc":e=R3(l3.Days,I3.Wide,_5.Standalone);break;case"ccccc":e=R3(l3.Days,I3.Narrow,_5.Standalone);break;case"cccccc":e=R3(l3.Days,I3.Short,_5.Standalone);break;case"E":case"EE":case"EEE":e=R3(l3.Days,I3.Abbreviated);break;case"EEEE":e=R3(l3.Days,I3.Wide);break;case"EEEEE":e=R3(l3.Days,I3.Narrow);break;case"EEEEEE":e=R3(l3.Days,I3.Short);break;case"a":case"aa":case"aaa":e=R3(l3.DayPeriods,I3.Abbreviated);break;case"aaaa":e=R3(l3.DayPeriods,I3.Wide);break;case"aaaaa":e=R3(l3.DayPeriods,I3.Narrow);break;case"b":case"bb":case"bbb":e=R3(l3.DayPeriods,I3.Abbreviated,_5.Standalone,!0);break;case"bbbb":e=R3(l3.DayPeriods,I3.Wide,_5.Standalone,!0);break;case"bbbbb":e=R3(l3.DayPeriods,I3.Narrow,_5.Standalone,!0);break;case"B":case"BB":case"BBB":e=R3(l3.DayPeriods,I3.Abbreviated,_5.Format,!0);break;case"BBBB":e=R3(l3.DayPeriods,I3.Wide,_5.Format,!0);break;case"BBBBB":e=R3(l3.DayPeriods,I3.Narrow,_5.Format,!0);break;case"h":e=A4(h3.Hours,1,-12);break;case"hh":e=A4(h3.Hours,2,-12);break;case"H":e=A4(h3.Hours,1);break;case"HH":e=A4(h3.Hours,2);break;case"m":e=A4(h3.Minutes,1);break;case"mm":e=A4(h3.Minutes,2);break;case"s":e=A4(h3.Seconds,1);break;case"ss":e=A4(h3.Seconds,2);break;case"S":e=A4(h3.FractionalSeconds,1);break;case"SS":e=A4(h3.FractionalSeconds,2);break;case"SSS":e=A4(h3.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wd(xe.Short);break;case"ZZZZZ":e=wd(xe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wd(xe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wd(xe.Long);break;default:return null}return $w[t]=e,e}function $L(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function e10(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function t10(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=$L(e,i);return e10(t,r*(s-i))}function n10(t){if(HL(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,a=1]=t.split("-").map(o=>+o);return Cd(i,s-1,a)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(G00))return r10(r)}let e=new Date(t);if(!HL(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function r10(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-n,o=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,a,o,c,l),e}function HL(t){return t instanceof Date&&!isNaN(t.valueOf())}function _d(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Kw=/\s+/,VL=[],B4=(()=>{let e=class e{constructor(r,i,s,a){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=VL,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Kw):VL}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Kw):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Kw).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(m0(ed),m0($a),m0(l5),m0(h8))},e.\u0275dir=O4({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Yw=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},C3=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,a,o)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Yw(s.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(a===null?void 0:a);else if(a!==null){let c=i.get(a);i.move(c,o),RL(c,s)}});for(let s=0,a=i.length;s<a;s++){let c=i.get(s).context;c.index=s,c.count=a,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let a=i.get(s.currentIndex);RL(a,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(m0(d8),m0(Bt),m0(ed))},e.\u0275dir=O4({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function RL(t,e){t.context.$implicit=e.item}var J1=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Jw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){NL("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){NL("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(m0(d8),m0(Bt))},e.\u0275dir=O4({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Jw=class{constructor(){this.$implicit=null,this.ngIf=null}};function NL(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${c5(e)}'.`)}var KL=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,a]=r.split("."),o=s.indexOf("-")===-1?void 0:o8.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,a?`${i}${a}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,s,o)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(m0(l5),m0($a),m0(h8))},e.\u0275dir=O4({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function i10(t,e){return new K0(2100,!1)}var s10="mediumDate",a10=new L1("DATE_PIPE_DEFAULT_TIMEZONE"),o10=new L1("DATE_PIPE_DEFAULT_OPTIONS"),m8=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,a){if(r==null||r===""||r!==r)return null;try{let o=i??this.defaultOptions?.dateFormat??s10,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return W00(r,o,a||this.locale,c)}catch(o){throw i10(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(m0(fd,16),m0(a10,24),m0(o10,24))},e.\u0275pipe=z9({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var o4=(()=>{let e=class e{transform(r){return JSON.stringify(r,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=z9({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function c10(t,e){return{key:t,value:e}}var Qr=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=BL}transform(r,i=BL){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ||(this.differ=this.differs.find(r).create());let s=this.differ.diff(r),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(c10(o.key,o.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(m0($a,16))},e.\u0275pipe=z9({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function BL(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var s1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=O6({type:e}),e.\u0275inj=D6({});let t=e;return t})(),QL="browser",l10="server";function iy(t){return t===l10}var YL=(()=>{let e=class e{};e.\u0275prov=J0({token:e,providedIn:"root",factory:()=>new Xw(X0(g4),window)});let t=e;return t})(),Xw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=h10(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function h10(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}var $r=class{};var to=class{},Sd=class{},p6=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),a=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(o=>s.indexOf(o)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ay=class{encodeKey(e){return JL(e)}encodeValue(e){return JL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function p10(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,o]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(a)||[];c.push(o),n.set(a,c)}),n}var m10=/%(\d[a-f0-9])/gi,f10={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JL(t){return encodeURIComponent(t).replace(m10,(e,n)=>f10[n]??e)}function Ed(t){return`${t}`}var A9=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ay,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=p10(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ed):[Ed(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ed(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ed(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var oy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function g10(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function XL(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eI(t){return typeof Blob<"u"&&t instanceof Blob}function tI(t){return typeof FormData<"u"&&t instanceof FormData}function v10(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var eo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(g10(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new p6),this.context||(this.context=new oy),!this.params)this.params=new A9,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let o=n.indexOf("?"),c=o===-1?"?":o<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:XL(this.body)||eI(this.body)||tI(this.body)||v10(this.body)||typeof this.body=="string"?this.body:this.body instanceof A9?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tI(this.body)?null:eI(this.body)?this.body.type||null:XL(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof A9?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,o=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((u,p)=>u.set(p,e.setHeaders[p]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((u,p)=>u.set(p,e.setParams[p]),l)),new t(n,r,s,{params:l,headers:c,context:h,reportProgress:o,responseType:i,withCredentials:a})}},Yr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Yr||{}),no=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new p6,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},cy=class t extends no{constructor(e={}){super(e),this.type=Yr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},kd=class t extends no{constructor(e={}){super(e),this.type=Yr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Td=class extends no{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function sy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Q3=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let a;if(r instanceof eo)a=r;else{let l;s.headers instanceof p6?l=s.headers:l=new p6(s.headers);let h;s.params&&(s.params instanceof A9?h=s.params:h=new A9({fromObject:s.params})),a=new eo(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let o=$1(a).pipe(se(l=>this.handler.handle(l)));if(r instanceof eo||s.observe==="events")return o;let c=o.pipe(N5(l=>l instanceof kd));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return c.pipe(f2(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(f2(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(f2(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(f2(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new A9().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,sy(s,i))}post(r,i,s={}){return this.request("POST",r,sy(s,i))}put(r,i,s={}){return this.request("PUT",r,sy(s,i))}};e.\u0275fac=function(i){return new(i||e)(X0(to))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();function sI(t,e){return e(t)}function b10(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function x10(t,e,n){return(r,i)=>l8(n,()=>e(r,s=>t(s,i)))}var w10=new L1(""),ly=new L1(""),y10=new L1(""),z10=new L1("");function M10(){let t=null;return(e,n)=>{t===null&&(t=(l1(w10,{optional:!0})??[]).reduceRight(b10,sI));let r=l1(qt),i=r.add();return t(e,n).pipe(m9(()=>r.remove(i)))}}var nI=(()=>{let e=class e extends to{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=l1(qt);let s=l1(z10,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(ly),...this.injector.get(y10,[])]));this.chain=s.reduceRight((a,o)=>x10(a,o,this.injector),sI)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(m9(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(X0(Sd),X0(A5))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();var C10=/^\)\]\}',?\n/;function A10(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var rI=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new K0(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Z3(i.\u0275loadImpl()):$1(null)).pipe(B5(()=>new X2(a=>{let o=i.build();if(o.open(r.method,r.urlWithParams),r.withCredentials&&(o.withCredentials=!0),r.headers.forEach((L,A)=>o.setRequestHeader(L,A.join(","))),r.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let L=r.detectContentTypeHeader();L!==null&&o.setRequestHeader("Content-Type",L)}if(r.responseType){let L=r.responseType.toLowerCase();o.responseType=L!=="json"?L:"text"}let c=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let L=o.statusText||"OK",A=new p6(o.getAllResponseHeaders()),_=A10(o)||r.url;return l=new cy({headers:A,status:o.status,statusText:L,url:_}),l},u=()=>{let{headers:L,status:A,statusText:_,url:R}=h(),G=null;A!==204&&(G=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=G?200:0);let K=A>=200&&A<300;if(r.responseType==="json"&&typeof G=="string"){let Z=G;G=G.replace(C10,"");try{G=G!==""?JSON.parse(G):null}catch($){G=Z,K&&(K=!1,G={error:$,text:G})}}K?(a.next(new kd({body:G,headers:L,status:A,statusText:_,url:R||void 0})),a.complete()):a.error(new Td({error:G,headers:L,status:A,statusText:_,url:R||void 0}))},p=L=>{let{url:A}=h(),_=new Td({error:L,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});a.error(_)},g=!1,f=L=>{g||(a.next(h()),g=!0);let A={type:Yr.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(A.total=L.total),r.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),a.next(A)},w=L=>{let A={type:Yr.UploadProgress,loaded:L.loaded};L.lengthComputable&&(A.total=L.total),a.next(A)};return o.addEventListener("load",u),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),r.reportProgress&&(o.addEventListener("progress",f),c!==null&&o.upload&&o.upload.addEventListener("progress",w)),o.send(c),a.next({type:Yr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",u),o.removeEventListener("timeout",p),r.reportProgress&&(o.removeEventListener("progress",f),c!==null&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(X0($r))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),aI=new L1("XSRF_ENABLED"),_10="XSRF-TOKEN",E10=new L1("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>_10}),S10="X-XSRF-TOKEN",k10=new L1("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>S10}),Pd=class{},T10=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=_d(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(X0(g4),X0(de),X0(E10))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();function P10(t,e){let n=t.url.toLowerCase();if(!l1(aI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=l1(Pd).getToken(),i=l1(k10);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var oI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(oI||{});function L10(t,e){return{\u0275kind:t,\u0275providers:e}}function I10(...t){let e=[Q3,rI,nI,{provide:to,useExisting:nI},{provide:Sd,useExisting:rI},{provide:ly,useValue:P10,multi:!0},{provide:aI,useValue:!0},{provide:Pd,useClass:T10}];for(let n of t)e.push(...n.\u0275providers);return Ga(e)}var iI=new L1("LEGACY_INTERCEPTOR_FN");function D10(){return L10(oI.LegacyInterceptors,[{provide:iI,useFactory:M10},{provide:ly,useExisting:iI,multi:!0}])}var cI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=O6({type:e}),e.\u0275inj=D6({providers:[I10(D10())]});let t=e;return t})();var dy=class extends Md{constructor(){super(...arguments),this.supportsDOMEvents=!0}},py=class t extends dy{static makeCurrent(){ZL(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=O10();return n==null?null:F10(n)}resetBaseElement(){ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _d(document.cookie,e)}},ro=null;function O10(){return ro=ro||document.querySelector("base"),ro?ro.getAttribute("href"):null}function F10(t){return new URL(t,document.baseURI).pathname}var H10=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),my=new L1("EventManagerPlugins"),uI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new K0(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(X0(my),X0(V3))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),Ld=class{constructor(e){this._doc=e}},hy="ng-app-id",dI=(()=>{let e=class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=iy(a),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${hy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(hy),a;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(hy,this.appId),r.appendChild(o),o}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),a=this.styleRef,o=a.get(i)?.elements;o?o.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(X0(g4),X0(dw),X0(fw,8),X0(de))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),uy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gy=/%COMP%/g,pI="%COMP%",V10=`_nghost-${pI}`,R10=`_ngcontent-${pI}`,N10=!0,B10=new L1("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>N10});function Z10(t){return R10.replace(gy,t)}function j10(t){return V10.replace(gy,t)}function mI(t,e){return e.map(n=>n.replace(gy,t))}var Id=(()=>{let e=class e{constructor(r,i,s,a,o,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=iy(c),this.defaultRenderer=new io(r,o,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===s8.ShadowDom&&(i=i1(c0({},i),{encapsulation:s8.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Dd?s.applyToHost(r):s instanceof so&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,a=s.get(i.id);if(!a){let o=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case s8.Emulated:a=new Dd(l,h,i,this.appId,u,o,c,p);break;case s8.ShadowDom:return new fy(l,h,r,i,o,c,this.nonce,p);default:a=new so(l,h,i,u,o,c,p);break}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(X0(uI),X0(dI),X0(dw),X0(B10),X0(g4),X0(de),X0(V3),X0(fw))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),io=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(uy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K0(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=uy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=uy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(o8.DashCase|o8.Important)?e.style.setProperty(n,r,i&o8.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&o8.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=we().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fy=class extends io{constructor(e,n,r,i,s,a,o,c){super(e,s,a,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=mI(i.id,i.styles);for(let h of l){let u=document.createElement("style");o&&u.setAttribute("nonce",o),u.textContent=h,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},so=class extends io{constructor(e,n,r,i,s,a,o,c){super(e,s,a,o),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?mI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Dd=class extends so{constructor(e,n,r,i,s,a,o,c){let l=i+"-"+r.id;super(e,n,r,s,a,o,c,l),this.contentAttr=Z10(l),this.hostAttr=j10(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},U10=(()=>{let e=class e extends Ld{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(X0(g4))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),hI=["alt","control","meta","shift"],G10={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q10={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},W10=(()=>{let e=class e extends Ld{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let a=e.parseEventName(i),o=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>we().onAndCancel(r,a.domEventName,o))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let a=e._normalizeKey(i.pop()),o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),hI.forEach(h=>{let u=i.indexOf(h);u>-1&&(i.splice(u,1),o+=h+".")}),o+=a,i.length!=0||a.length===0)return null;let l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(r,i){let s=G10[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),hI.forEach(o=>{if(o!==s){let c=q10[o];c(r)&&(a+=o+".")}}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(X0(g4))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();function fI(t,e){return IL(c0({rootComponent:t},$10(e)))}function $10(t){return{appProviders:[...X10,...t?.providers??[]],platformProviders:J10}}function K10(){py.makeCurrent()}function Q10(){return new c8}function Y10(){return lP(document),document}var J10=[{provide:de,useValue:QL},{provide:pw,useValue:K10,multi:!0},{provide:g4,useFactory:Y10,deps:[]}];var X10=[{provide:Ku,useValue:"root"},{provide:c8,useFactory:Q10,deps:[]},{provide:my,useClass:U10,multi:!0,deps:[g4,V3,de]},{provide:my,useClass:W10,multi:!0,deps:[g4]},Id,dI,uI,{provide:Vt,useExisting:Id},{provide:$r,useClass:H10,deps:[]},[]];function e20(){return new vy(X0(g4))}var vy=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(X0(g4))},e.\u0275prov=J0({token:e,factory:function(i){let s=null;return i?s=new i:s=e20(),s},providedIn:"root"});let t=e;return t})();var by=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=X0(gI),s},providedIn:"root"});let t=e;return t})();function t20(t){return new gI(t.get(g4))}var gI=(()=>{let e=class e extends by{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case _7.NONE:return i;case _7.HTML:return pe(i,"HTML")?u6(i):ww(this._doc,String(i)).toString();case _7.STYLE:return pe(i,"Style")?u6(i):i;case _7.SCRIPT:if(pe(i,"Script"))return u6(i);throw new K0(5200,!1);case _7.URL:return pe(i,"URL")?u6(i):Ju(String(i));case _7.RESOURCE_URL:if(pe(i,"ResourceURL"))return u6(i);throw new K0(5201,!1);default:throw new K0(5202,!1)}}bypassSecurityTrustHtml(r){return kP(r)}bypassSecurityTrustStyle(r){return TP(r)}bypassSecurityTrustScript(r){return PP(r)}bypassSecurityTrustUrl(r){return LP(r)}bypassSecurityTrustResourceUrl(r){return IP(r)}};e.\u0275fac=function(i){return new(i||e)(X0(g4))},e.\u0275prov=J0({token:e,factory:function(i){let s=null;return i?s=new i:s=t20(X0(H6)),s},providedIn:"root"});let t=e;return t})();var v2="primary",yo=Symbol("RouteTitle"),My=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ni(t){return new My(t)}function n20(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],o=t[s];if(a.startsWith(":"))i[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function r20(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!f8(t[n],e[n]))return!1;return!0}function f8(t,e){let n=t?Cy(t):void 0,r=e?Cy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_I(t[i],e[i]))return!1;return!0}function Cy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _I(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function EI(t){return t.length>0?t[t.length-1]:null}function k9(t){return Mb(t)?t:Ut(t)?Z3(Promise.resolve(t)):$1(t)}var i20={exact:kI,subset:TI},SI={exact:s20,subset:a20,ignored:()=>!0};function bI(t,e,n){return i20[n.paths](t.root,e.root,n.matrixParams)&&SI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function s20(t,e){return f8(t,e)}function kI(t,e,n){if(!Kt(t.segments,e.segments)||!Hd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kI(t.children[r],e.children[r],n))return!1;return!0}function a20(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_I(t[n],e[n]))}function TI(t,e,n){return PI(t,e,e.segments,n)}function PI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Kt(i,n)||e.hasChildren()||!Hd(i,n,r))}else if(t.segments.length===n.length){if(!Kt(t.segments,n)||!Hd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!TI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Kt(t.segments,i)||!Hd(t.segments,i,r)||!t.children[v2]?!1:PI(t.children[v2],e,s,r)}}function Hd(t,e,n){return e.every((r,i)=>SI[n](t[i].parameters,r.parameters))}var _9=class{constructor(e=new d3([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ni(this.queryParams)),this._queryParamMap}toString(){return l20.serialize(this)}},d3=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}},$t=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ni(this.parameters)),this._parameterMap}toString(){return II(this)}};function o20(t,e){return Kt(t,e)&&t.every((n,r)=>f8(n.parameters,e[r].parameters))}function Kt(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function c20(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===v2&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==v2&&(n=n.concat(e(i,r)))}),n}var zo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>new po)(),providedIn:"root"});let t=e;return t})(),po=class{parse(e){let n=new _y(e);return new _9(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ao(e.root,!0)}`,r=d20(e.queryParams),i=typeof e.fragment=="string"?`#${h20(e.fragment)}`:"";return`${n}${r}${i}`}},l20=new po;function Vd(t){return t.segments.map(e=>II(e)).join("/")}function ao(t,e){if(!t.hasChildren())return Vd(t);if(e){let n=t.children[v2]?ao(t.children[v2],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==v2&&r.push(`${i}:${ao(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=c20(t,(r,i)=>i===v2?[ao(t.children[v2],!1)]:[`${i}:${ao(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[v2]!=null?`${Vd(t)}/${n[0]}`:`${Vd(t)}/(${n.join("//")})`}}function LI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(t){return LI(t).replace(/%3B/gi,";")}function h20(t){return encodeURI(t)}function Ay(t){return LI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rd(t){return decodeURIComponent(t)}function xI(t){return Rd(t.replace(/\+/g,"%20"))}function II(t){return`${Ay(t.path)}${u20(t.parameters)}`}function u20(t){return Object.keys(t).map(e=>`;${Ay(e)}=${Ay(t[e])}`).join("")}function d20(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Od(n)}=${Od(i)}`).join("&"):`${Od(n)}=${Od(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var p20=/^[^\/()?;#]+/;function xy(t){let e=t.match(p20);return e?e[0]:""}var m20=/^[^\/()?;=#]+/;function f20(t){let e=t.match(m20);return e?e[0]:""}var g20=/^[^=?&#]+/;function v20(t){let e=t.match(g20);return e?e[0]:""}var b20=/^[^&#]+/;function x20(t){let e=t.match(b20);return e?e[0]:""}var _y=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new d3([],{}):new d3([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[v2]=new d3(e,n)),r}parseSegment(){let e=xy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K0(4009,!1);return this.capture(e),new $t(Rd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=f20(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xy(this.remaining);i&&(r=i,this.capture(r))}e[Rd(n)]=Rd(r)}parseQueryParam(e){let n=v20(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=x20(this.remaining);a&&(r=a,this.capture(r))}let i=xI(n),s=xI(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K0(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=v2);let a=this.parseChildren();n[s]=Object.keys(a).length===1?a[v2]:new d3([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K0(4011,!1)}};function DI(t){return t.segments.length>0?new d3([],{[v2]:t}):t}function OI(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=OI(i);if(r===v2&&s.segments.length===0&&s.hasChildren())for(let[a,o]of Object.entries(s.children))e[a]=o;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new d3(t.segments,e);return w20(n)}function w20(t){if(t.numberOfChildren===1&&t.children[v2]){let e=t.children[v2];return new d3(t.segments.concat(e.segments),e.children)}return t}function ri(t){return t instanceof _9}function y20(t,e,n=null,r=null){let i=FI(t);return HI(i,e,n,r)}function FI(t){let e;function n(s){let a={};for(let c of s.children){let l=n(c);a[c.outlet]=l}let o=new d3(s.url,a);return s===t&&(e=o),o}let r=n(t.root),i=DI(r);return e??i}function HI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return wy(i,i,i,n,r);let s=z20(e);if(s.toRoot())return wy(i,i,new d3([],{}),n,r);let a=M20(s,i,t),o=a.processChildren?lo(a.segmentGroup,a.index,s.commands):RI(a.segmentGroup,a.index,s.commands);return wy(i,a.segmentGroup,o,n,r)}function Nd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function mo(t){return typeof t=="object"&&t!=null&&t.outlets}function wy(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let a;t===e?a=n:a=VI(t,e,n);let o=DI(OI(a));return new _9(o,s,i)}function VI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=VI(s,e,n)}),new d3(t.segments,r)}var Bd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Nd(r[0]))throw new K0(4003,!1);let i=r.find(mo);if(i&&i!==EI(r))throw new K0(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z20(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Bd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let o={};return Object.entries(s.outlets).forEach(([c,l])=>{o[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:o}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((o,c)=>{c==0&&o==="."||(c==0&&o===""?n=!0:o===".."?e++:o!=""&&i.push(o))}),i):[...i,s]},[]);return new Bd(n,e,r)}var ei=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function M20(t,e,n){if(t.isAbsolute)return new ei(e,!0,0);if(!n)return new ei(e,!1,NaN);if(n.parent===null)return new ei(n,!0,0);let r=Nd(t.commands[0])?0:1,i=n.segments.length-1+r;return C20(n,i,t.numberOfDoubleDots)}function C20(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new K0(4005,!1);i=r.segments.length}return new ei(r,!1,i-s)}function A20(t){return mo(t[0])?t[0].outlets:{[v2]:t}}function RI(t,e,n){if(t||(t=new d3([],{})),t.segments.length===0&&t.hasChildren())return lo(t,e,n);let r=_20(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new d3(t.segments.slice(0,r.pathIndex),{});return s.children[v2]=new d3(t.segments.slice(r.pathIndex),t.children),lo(s,0,i)}else return r.match&&i.length===0?new d3(t.segments,{}):r.match&&!t.hasChildren()?Ey(t,e,n):r.match?lo(t,0,i):Ey(t,e,n)}function lo(t,e,n){if(n.length===0)return new d3(t.segments,{});{let r=A20(n),i={};if(Object.keys(r).some(s=>s!==v2)&&t.children[v2]&&t.numberOfChildren===1&&t.children[v2].segments.length===0){let s=lo(t.children[v2],e,n);return new d3(t.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=RI(t.children[s],e,a))}),Object.entries(t.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new d3(t.segments,i)}}function _20(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let a=t.segments[i],o=n[r];if(mo(o))break;let c=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!yI(c,l,a))return s;r+=2}else{if(!yI(c,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ey(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(mo(s)){let c=E20(s.outlets);return new d3(r,c)}if(i===0&&Nd(n[0])){let c=t.segments[e];r.push(new $t(c.path,wI(n[0]))),i++;continue}let a=mo(s)?s.outlets[v2]:`${s}`,o=i<n.length-1?n[i+1]:null;a&&o&&Nd(o)?(r.push(new $t(a,wI(o))),i+=2):(r.push(new $t(a,{})),i++)}return new d3(r,{})}function E20(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ey(new d3([],{}),0,r))}),e}function wI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function yI(t,e,n){return t==n.path&&f8(e,n.parameters)}var ho="imperative",N6=class{constructor(e,n){this.id=e,this.url=n}},ii=class extends N6{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},g8=class extends N6{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},E9=class extends N6{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},S9=class extends N6{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},fo=class extends N6{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zd=class extends N6{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sy=class extends N6{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ky=class extends N6{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ty=class extends N6{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class extends N6{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ly=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Iy=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dy=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oy=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fy=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hy=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},go=class{},vo=class{constructor(e){this.url=e}};var Vy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mo,this.attachRef=null}},Mo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Vy,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ud=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ry(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ry(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ny(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ny(e,this._root).map(n=>n.value)}};function Ry(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ry(t,n);if(r)return r}return null}function Ny(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ny(t,n);if(r.length)return r.unshift(e),r}return[]}var m6=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Gd=class extends Ud{constructor(e,n){super(e),this.snapshot=n,Qy(this,e)}toString(){return this.snapshot.toString()}};function NI(t,e){let n=S20(t,e),r=new W3([new $t("",{})]),i=new W3({}),s=new W3({}),a=new W3({}),o=new W3(""),c=new E5(r,i,a,o,s,v2,e,n.root);return c.snapshot=n.root,new Gd(new m6(c,[]),n)}function S20(t,e){let n={},r={},i={},s="",a=new bo([],n,i,s,r,v2,e,null,{});return new qd("",new m6(a,[]))}var E5=class{constructor(e,n,r,i,s,a,o,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=o,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(f2(l=>l[yo]))??$1(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(f2(e=>ni(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(f2(e=>ni(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ky(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:c0(c0({},e.params),t.params),data:c0(c0({},e.data),t.data),resolve:c0(c0(c0(c0({},t.data),e.data),i?.data),t._resolvedData)}:r={params:c0({},t.params),data:c0({},t.data),resolve:c0(c0({},t.data),t._resolvedData??{})},i&&ZI(i)&&(r.resolve[yo]=i.title),r}var bo=class{get title(){return this.data?.[yo]}constructor(e,n,r,i,s,a,o,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ni(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},qd=class extends Ud{constructor(e,n){super(n),this.url=e,Qy(this,n)}toString(){return BI(this._root)}};function Qy(t,e){e.value._routerState=t,e.children.forEach(n=>Qy(t,n))}function BI(t){let e=t.children.length>0?` { ${t.children.map(BI).join(", ")} } `:"";return`${t.value}${e}`}function yy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,f8(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),f8(e.params,n.params)||t.paramsSubject.next(n.params),r20(e.url,n.url)||t.urlSubject.next(n.url),f8(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function By(t,e){let n=f8(t.params,e.params)&&o20(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||By(t.parent,e.parent))}function ZI(t){return typeof t.title=="string"||t.title===null}var Qt=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=v2,this.activateEvents=new m4,this.deactivateEvents=new m4,this.attachEvents=new m4,this.detachEvents=new m4,this.parentContexts=l1(Mo),this.location=l1(d8),this.changeDetector=l1(Gr),this.environmentInjector=l1(A5),this.inputBinder=l1(Yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K0(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K0(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K0(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new K0(4013,!1);this._activatedRoute=r;let s=this.location,o=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Zy(r,c,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=O4({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zt]});let t=e;return t})(),Zy=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===E5?this.route:e===Mo?this.childContexts:this.parent.get(e,n)}},Yd=new L1(""),zI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ka([i.queryParams,i.params,i.data]).pipe(B5(([a,o,c],l)=>(c=c0(c0(c0({},a),o),c),l===0?$1(c):Promise.resolve(c)))).subscribe(a=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let o=DL(i.component);if(!o){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of o.inputs)r.activatedComponentRef.setInput(c,a[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();function k20(t,e,n){let r=xo(t,e._root,n?n._root:void 0);return new Gd(r,e)}function xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=T20(t,e,n);return new m6(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(o=>xo(t,o)),a}}let r=P20(e.value),i=e.children.map(s=>xo(t,s));return new m6(r,i)}}function T20(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xo(t,r,i);return xo(t,r)})}function P20(t){return new E5(new W3(t.url),new W3(t.params),new W3(t.queryParams),new W3(t.fragment),new W3(t.data),t.outlet,t.component,t)}var jI="ngNavigationCancelingError";function UI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GI(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function GI(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[jI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function L20(t){return qI(t)&&ri(t.url)}function qI(t){return t&&t[jI]}var I20=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["ng-component"]],standalone:!0,features:[r1],decls:1,vars:0,template:function(i,s){i&1&&v0(0,"router-outlet")},dependencies:[Qt],encapsulation:2});let t=e;return t})();function D20(t,e){return t.providers&&!t._injector&&(t._injector=ld(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yy(t){let e=t.children&&t.children.map(Yy),n=e?i1(c0({},t),{children:e}):c0({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==v2&&(n.component=I20),n}function v8(t){return t.outlet||v2}function O20(t,e){let n=t.filter(r=>v8(r)===e);return n.push(...t.filter(r=>v8(r)!==e)),n}function Co(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var F20=(t,e,n,r)=>f2(i=>(new jy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),jy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Xr(n);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xr(e);for(let a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){let a=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:o})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xr(e);for(let a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Xr(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Oy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(yy(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),yy(o.route.value),this.activateChildRoutes(e,null,a.children)}else{let o=Co(i.snapshot);a.attachRef=null,a.route=i,a.injector=o,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}},Wd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ti=class{constructor(e,n){this.component=e,this.route=n}};function H20(t,e,n){let r=t._root,i=e?e._root:null;return oo(r,i,n,[r.value])}function V20(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ai(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!eT(t)?t:e.get(t):r}function oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Xr(e);return t.children.forEach(a=>{R20(a,s[a.value.outlet],n,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,o])=>uo(o,n.getContext(a),i)),i}function R20(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,a=e?e.value:null,o=n?n.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let c=N20(a,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Wd(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?oo(t,e,o?o.children:null,r,i):oo(t,e,n,r,i),c&&o&&o.outlet&&o.outlet.isActivated&&i.canDeactivateChecks.push(new ti(o.outlet.component,a))}else a&&uo(e,o,i),i.canActivateChecks.push(new Wd(r)),s.component?oo(t,null,o?o.children:null,r,i):oo(t,null,n,r,i);return i}function N20(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Kt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kt(t.url,e.url)||!f8(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!By(t,e)||!f8(t.queryParams,e.queryParams);case"paramsChange":default:return!By(t,e)}}function uo(t,e,n){let r=Xr(t),i=t.value;Object.entries(r).forEach(([s,a])=>{i.component?e?uo(a,e.children.getContext(s),n):uo(a,null,n):uo(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ti(e.outlet.component,i)):n.canDeactivateChecks.push(new ti(null,i)):n.canDeactivateChecks.push(new ti(null,i))}function Ao(t){return typeof t=="function"}function B20(t){return typeof t=="boolean"}function Z20(t){return t&&Ao(t.canLoad)}function j20(t){return t&&Ao(t.canActivate)}function U20(t){return t&&Ao(t.canActivateChild)}function G20(t){return t&&Ao(t.canDeactivate)}function q20(t){return t&&Ao(t.canMatch)}function WI(t){return t instanceof w7||t?.name==="EmptyError"}var Fd=Symbol("INITIAL_VALUE");function si(){return B5(t=>ka(t.map(e=>e.pipe(ae(1),Sb(Fd)))).pipe(f2(e=>{for(let n of e)if(n!==!0){if(n===Fd)return Fd;if(n===!1||n instanceof _9)return n}return!0}),N5(e=>e!==Fd),ae(1)))}function W20(t,e){return w4(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=n;return a.length===0&&s.length===0?$1(i1(c0({},n),{guardsResult:!0})):$20(a,r,i,t).pipe(w4(o=>o&&B20(o)?K20(r,s,t,e):$1(o)),f2(o=>i1(c0({},n),{guardsResult:o})))})}function $20(t,e,n,r){return Z3(t).pipe(w4(i=>e30(i.component,i.route,n,e,r)),e8(i=>i!==!0,!0))}function K20(t,e,n,r){return Z3(e).pipe(se(i=>zr(Y20(i.route.parent,r),Q20(i.route,r),X20(t,i.path,n),J20(t,i.route,n))),e8(i=>i!==!0,!0))}function Q20(t,e){return t!==null&&e&&e(new Fy(t)),$1(!0)}function Y20(t,e){return t!==null&&e&&e(new Dy(t)),$1(!0)}function J20(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $1(!0);let i=r.map(s=>ru(()=>{let a=Co(e)??n,o=ai(s,a),c=j20(o)?o.canActivate(e,t):l8(a,()=>o(e,t));return k9(c).pipe(e8())}));return $1(i).pipe(si())}function X20(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>V20(a)).filter(a=>a!==null).map(a=>ru(()=>{let o=a.guards.map(c=>{let l=Co(a.node)??n,h=ai(c,l),u=U20(h)?h.canActivateChild(r,t):l8(l,()=>h(r,t));return k9(u).pipe(e8())});return $1(o).pipe(si())}));return $1(s).pipe(si())}function e30(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $1(!0);let a=s.map(o=>{let c=Co(e)??i,l=ai(o,c),h=G20(l)?l.canDeactivate(t,e,n,r):l8(c,()=>l(t,e,n,r));return k9(h).pipe(e8())});return $1(a).pipe(si())}function t30(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $1(!0);let s=i.map(a=>{let o=ai(a,t),c=Z20(o)?o.canLoad(e,n):l8(t,()=>o(e,n));return k9(c)});return $1(s).pipe(si(),$I(r))}function $I(t){return xb(I4(e=>{if(ri(e))throw UI(t,e)}),f2(e=>e===!0))}function n30(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $1(!0);let s=i.map(a=>{let o=ai(a,t),c=q20(o)?o.canMatch(e,n):l8(t,()=>o(e,n));return k9(c)});return $1(s).pipe(si(),$I(r))}var wo=class{constructor(e){this.segmentGroup=e||null}},$d=class extends Error{constructor(e){super(),this.urlTree=e}};function Jr(t){return wr(new wo(t))}function r30(t){return wr(new K0(4e3,!1))}function i30(t){return wr(GI(!1,3))}var Uy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $1(r);if(i.numberOfChildren>1||!i.children[v2])return r30(e.redirectTo);i=i.children[v2]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $d(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new _9(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let o=s.substring(1);r[i]=n[o]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([o,c])=>{a[o]=this.createSegmentGroup(e,c,r,i)}),new d3(s,a)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new K0(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s30(t,e,n,r,i){let s=Jy(t,e,n);return s.matched?(r=D20(e,r),n30(r,e,n,i).pipe(f2(a=>a===!0?s:c0({},Gy)))):$1(s)}function Jy(t,e,n){if(e.path==="**")return a30(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?c0({},Gy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||n20)(n,t,e);if(!i)return c0({},Gy);let s={};Object.entries(i.posParams??{}).forEach(([o,c])=>{s[o]=c.path});let a=i.consumed.length>0?c0(c0({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function a30(t){return{matched:!0,parameters:t.length>0?EI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MI(t,e,n,r){return n.length>0&&l30(t,n,r)?{segmentGroup:new d3(e,c30(r,new d3(n,t.children))),slicedSegments:[]}:n.length===0&&h30(t,n,r)?{segmentGroup:new d3(t.segments,o30(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new d3(t.segments,t.children),slicedSegments:n}}function o30(t,e,n,r,i){let s={};for(let a of r)if(Jd(t,n,a)&&!i[v8(a)]){let o=new d3([],{});s[v8(a)]=o}return c0(c0({},i),s)}function c30(t,e){let n={};n[v2]=e;for(let r of t)if(r.path===""&&v8(r)!==v2){let i=new d3([],{});n[v8(r)]=i}return n}function l30(t,e,n){return n.some(r=>Jd(t,e,r)&&v8(r)!==v2)}function h30(t,e,n){return n.some(r=>Jd(t,e,r))}function Jd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function u30(t,e,n,r){return v8(t)!==r&&(r===v2||!Jd(e,n,t))?!1:Jy(e,t,n).matched}function d30(t,e,n){return e.length===0&&!t.children[n]}var qy=class{};function p30(t,e,n,r,i,s,a="emptyOnly"){return new Wy(t,e,n,r,i,a,s).recognize()}var m30=31,Wy=class{constructor(e,n,r,i,s,a,o){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o,this.applyRedirects=new Uy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K0(4002,`'${e.segmentGroup}'`)}recognize(){let e=MI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(f2(n=>{let r=new bo([],Object.freeze({}),Object.freeze(c0({},this.urlTree.queryParams)),this.urlTree.fragment,{},v2,this.rootComponentType,null,{}),i=new m6(r,n),s=new qd("",i),a=y20(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,v2).pipe(d9(r=>{if(r instanceof $d)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ky(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(f2(s=>s instanceof m6?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Z3(i).pipe(se(s=>{let a=r.children[s],o=O20(n,s);return this.processSegmentGroup(e,o,a,s)}),Eb((s,a)=>(s.push(...a),s)),p9(null),_b(),w4(s=>{if(s===null)return Jr(r);let a=KI(s);return f30(a),$1(a)}))}processSegment(e,n,r,i,s,a){return Z3(n).pipe(se(o=>this.processSegmentAgainstRoute(o._injector??e,n,o,r,i,s,a).pipe(d9(c=>{if(c instanceof wo)return $1(null);throw c}))),e8(o=>!!o),d9(o=>{if(WI(o))return d30(r,i,s)?$1(new qy):Jr(r);throw o}))}processSegmentAgainstRoute(e,n,r,i,s,a,o){return u30(r,i,s,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,a):Jr(i):Jr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,a){let{matched:o,consumedSegments:c,positionalParamSegments:l,remainingSegments:h}=Jy(n,i,s);if(!o)return Jr(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m30&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,u).pipe(w4(p=>this.processSegment(e,r,n,p.concat(h),a,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let a=s30(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(B5(o=>o.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(B5(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:u,parameters:p}=o,g=new bo(h,p,Object.freeze(c0({},this.urlTree.queryParams)),this.urlTree.fragment,v30(r),v8(r),r.component??r._loadedComponent??null,r,b30(r)),{segmentGroup:f,slicedSegments:w}=MI(n,h,u,c);if(w.length===0&&f.hasChildren())return this.processChildren(l,c,f).pipe(f2(A=>A===null?null:new m6(g,A)));if(c.length===0&&w.length===0)return $1(new m6(g,[]));let L=v8(r)===s;return this.processSegment(l,c,f,w,L?v2:s,!0).pipe(f2(A=>new m6(g,A instanceof m6?[A]:[])))}))):Jr(n)))}getChildConfig(e,n,r){return n.children?$1({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$1({routes:n._loadedRoutes,injector:n._loadedInjector}):t30(e,n,r,this.urlSerializer).pipe(w4(i=>i?this.configLoader.loadChildren(e,n).pipe(I4(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):i30(n))):$1({routes:[],injector:e})}};function f30(t){t.sort((e,n)=>e.value.outlet===v2?-1:n.value.outlet===v2?1:e.value.outlet.localeCompare(n.value.outlet))}function g30(t){let e=t.value.routeConfig;return e&&e.path===""}function KI(t){let e=[],n=new Set;for(let r of t){if(!g30(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KI(r.children);e.push(new m6(r.value,i))}return e.filter(r=>!n.has(r))}function v30(t){return t.data||{}}function b30(t){return t.resolve||{}}function x30(t,e,n,r,i,s){return w4(a=>p30(t,e,n,r,a.extractedUrl,i,s).pipe(f2(({state:o,tree:c})=>i1(c0({},a),{targetSnapshot:o,urlAfterRedirects:c}))))}function w30(t,e){return w4(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $1(n);let s=new Set(i.map(c=>c.route)),a=new Set;for(let c of s)if(!a.has(c))for(let l of QI(c))a.add(l);let o=0;return Z3(a).pipe(se(c=>s.has(c)?y30(c,r,t,e):(c.data=Ky(c,c.parent,t).resolve,$1(void 0))),I4(()=>o++),Mr(1),w4(c=>o===a.size?$1(n):L6))})}function QI(t){let e=t.children.map(n=>QI(n)).flat();return[t,...e]}function y30(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!ZI(i)&&(s[yo]=i.title),z30(s,t,e,r).pipe(f2(a=>(t._resolvedData=a,t.data=Ky(t,t.parent,n).resolve,null)))}function z30(t,e,n,r){let i=Cy(t);if(i.length===0)return $1({});let s={};return Z3(i).pipe(w4(a=>M30(t[a],e,n,r).pipe(e8(),I4(o=>{s[a]=o}))),Mr(1),Ab(s),d9(a=>WI(a)?L6:wr(a)))}function M30(t,e,n,r){let i=Co(e)??r,s=ai(t,i),a=s.resolve?s.resolve(e,n):l8(i,()=>s(e,n));return k9(a)}function zy(t){return B5(e=>{let n=t(e);return n?Z3(n).pipe(f2(()=>e)):$1(e)})}var YI=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===v2);return i}getResolvedTitleForRoute(r){return r.data[yo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>l1(C30))(),providedIn:"root"});let t=e;return t})(),C30=(()=>{let e=class e extends YI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(X0(vy))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_o=new L1("",{providedIn:"root",factory:()=>({})}),Kd=new L1("ROUTES"),Xy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=l1(dd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $1(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=k9(r.loadComponent()).pipe(f2(JI),I4(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),m9(()=>{this.componentLoaders.delete(r)})),s=new xr(i,()=>new V5).pipe(br());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $1({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=A30(i,this.compiler,r,this.onLoadEndListener).pipe(m9(()=>{this.childrenLoaders.delete(i)})),o=new xr(a,()=>new V5).pipe(br());return this.childrenLoaders.set(i,o),o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A30(t,e,n,r){return k9(t.loadChildren()).pipe(f2(JI),w4(i=>i instanceof Ra||Array.isArray(i)?$1(i):Z3(e.compileModuleAsync(i))),f2(i=>{r&&r(t);let s,a,o=!1;return Array.isArray(i)?(a=i,o=!0):(s=i.create(n).injector,a=s.get(Kd,[],{optional:!0,self:!0}).flat()),{routes:a.map(Yy),injector:s}}))}function _30(t){return t&&typeof t=="object"&&"default"in t}function JI(t){return _30(t)?t.default:t}var ez=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>l1(E30))(),providedIn:"root"});let t=e;return t})(),E30=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XI=new L1(""),eD=new L1("");function S30(t,e,n){let r=t.get(eD),i=t.get(g4);return t.get(V3).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,a=new Promise(l=>{s=l}),o=i.startViewTransition(()=>(s(),k30(t))),{onViewTransitionCreated:c}=r;return c&&l8(t,()=>c({transition:o,from:e,to:n})),a})}function k30(t){return new Promise(e=>{Dw(e,{injector:t})})}var tz=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V5,this.transitionAbortSubject=new V5,this.configLoader=l1(Xy),this.environmentInjector=l1(A5),this.urlSerializer=l1(zo),this.rootContexts=l1(Mo),this.location=l1(Kr),this.inputBindingEnabled=l1(Yd,{optional:!0})!==null,this.titleStrategy=l1(YI),this.options=l1(_o,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=l1(ez),this.createViewTransition=l1(XI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$1(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ly(s)),i=s=>this.events.next(new Iy(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(i1(c0(c0({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new W3({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ho,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(N5(a=>a.id!==0),f2(a=>i1(c0({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),B5(a=>{this.currentTransition=a;let o=!1,c=!1;return $1(a).pipe(I4(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?i1(c0({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),B5(l=>{let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&u!=="reload"){let p="";return this.events.next(new S9(l.id,this.urlSerializer.serialize(l.rawUrl),p,0)),l.resolve(null),L6}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $1(l).pipe(B5(p=>{let g=this.transitions?.getValue();return this.events.next(new ii(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?L6:Promise.resolve(p)}),x30(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),I4(p=>{a.targetSnapshot=p.targetSnapshot,a.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=i1(c0({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Zd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:g,source:f,restoredState:w,extras:L}=l,A=new ii(p,this.urlSerializer.serialize(g),f,w);this.events.next(A);let _=NI(g,this.rootComponentType).snapshot;return this.currentTransition=a=i1(c0({},l),{targetSnapshot:_,urlAfterRedirects:g,extras:i1(c0({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,$1(a)}else{let p="";return this.events.next(new S9(l.id,this.urlSerializer.serialize(l.extractedUrl),p,1)),l.resolve(null),L6}}),I4(l=>{let h=new Sy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),f2(l=>(this.currentTransition=a=i1(c0({},l),{guards:H20(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),a)),W20(this.environmentInjector,l=>this.events.next(l)),I4(l=>{if(a.guardsResult=l.guardsResult,ri(l.guardsResult))throw UI(this.urlSerializer,l.guardsResult);let h=new ky(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),N5(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),zy(l=>{if(l.guards.canActivateChecks.length)return $1(l).pipe(I4(h=>{let u=new Ty(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(u)}),B5(h=>{let u=!1;return $1(h).pipe(w30(this.paramsInheritanceStrategy,this.environmentInjector),I4({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(h,"",2)}}))}),I4(h=>{let u=new Py(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(u)}))}),zy(l=>{let h=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(I4(g=>{u.component=g}),f2(()=>{})));for(let g of u.children)p.push(...h(g));return p};return ka(h(l.targetSnapshot.root)).pipe(p9(null),ae(1))}),zy(()=>this.afterPreactivation()),B5(()=>{let{currentSnapshot:l,targetSnapshot:h}=a,u=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return u?Z3(u).pipe(f2(()=>a)):$1(a)}),f2(l=>{let h=k20(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=a=i1(c0({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,a}),I4(()=>{this.events.next(new go)}),F20(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ae(1),I4({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new g8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),kb(this.transitionAbortSubject.pipe(I4(l=>{throw l}))),m9(()=>{if(!o&&!c){let l="";this.cancelNavigationTransition(a,l,1)}this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),d9(l=>{if(c=!0,qI(l))this.events.next(new E9(a.id,this.urlSerializer.serialize(a.extractedUrl),l.message,l.cancellationCode)),L20(l)?this.events.next(new vo(l.url)):a.resolve(!1);else{this.events.next(new fo(a.id,this.urlSerializer.serialize(a.extractedUrl),l,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(l))}catch(h){a.reject(h)}}return L6}))}))}cancelNavigationTransition(r,i,s){let a=new E9(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T30(t){return t!==ho}var P30=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>l1(L30))(),providedIn:"root"});let t=e;return t})(),$y=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},L30=(()=>{let e=class e extends $y{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Br(e)))(s||e)}})(),e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:()=>(()=>l1(I30))(),providedIn:"root"});let t=e;return t})(),I30=(()=>{let e=class e extends tD{constructor(){super(...arguments),this.location=l1(Kr),this.urlSerializer=l1(zo),this.options=l1(_o,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=l1(ez),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _9,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=NI(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ii)this.stateMemento=this.createStateMemento();else if(r instanceof S9)this.rawUrlTree=i.initialUrl;else if(r instanceof Zd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof go?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof E9&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof fo?this.restoreHistory(i,!0):r instanceof g8&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let a=this.browserPageId,o=c0(c0({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(s,"",o)}else{let a=c0(c0({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",a)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,a=this.currentPageId-s;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Br(e)))(s||e)}})(),e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),co=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(co||{});function nD(t,e){t.events.pipe(N5(n=>n instanceof g8||n instanceof E9||n instanceof fo||n instanceof S9),f2(n=>n instanceof g8||n instanceof S9?co.COMPLETE:(n instanceof E9?n.code===0||n.code===1:!1)?co.REDIRECTING:co.FAILED),N5(n=>n!==co.REDIRECTING),ae(1)).subscribe(()=>{e()})}function D30(t){throw t}var O30={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F30={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},G1=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=l1(ud),this.stateManager=l1(tD),this.options=l1(_o,{optional:!0})||{},this.pendingTasks=l1(qt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=l1(tz),this.urlSerializer=l1(zo),this.location=l1(Kr),this.urlHandlingStrategy=l1(ez),this._events=new V5,this.errorHandler=this.options.errorHandler||D30,this.navigated=!1,this.routeReuseStrategy=l1(P30),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=l1(Kd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!l1(Yd,{optional:!0}),this.eventsSubscription=new L4,this.isNgZoneEnabled=l1(V3)instanceof V3&&V3.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(s!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof E9&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof g8)this.navigated=!0;else if(i instanceof vo){let o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||T30(s.source)};this.scheduleNavigation(o,ho,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}V30(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let a={replaceUrl:!0},o=s?.navigationId?s:null;if(s){let l=c0({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(a.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:a,fragment:o,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:o,u=null;switch(c){case"merge":u=c0(c0({},this.currentUrlTree.queryParams),a);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=a||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let g=s?s.snapshot:this.routerState.snapshot.root;p=FI(g)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),p=this.currentUrlTree.root}return HI(p,r,u,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ri(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,ho,null,i)}navigate(r,i={skipLocationChange:!1}){return H30(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=c0({},O30):i===!1?s=c0({},F30):s=i,ri(r))return bI(this.currentUrlTree,r,s);let a=this.parseUrl(r);return bI(this.currentUrlTree,a,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let a=r[s];return a!=null&&(i[s]=a),i},{})}scheduleNavigation(r,i,s,a,o){if(this.disposed)return Promise.resolve(!1);let c,l,h;o?(c=o.resolve,l=o.reject,h=o.promise):h=new Promise((p,g)=>{c=p,l=g});let u=this.pendingTasks.add();return nD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H30(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K0(4008,!1)}function V30(t){return!(t instanceof go)&&!(t instanceof vo)}var b8=(()=>{let e=class e{constructor(r,i,s,a,o,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=a,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new V5,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof g8&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,a,o){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||a||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:RP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,a=this.el.nativeElement;i!==null?s.setAttribute(a,r,i):s.removeAttribute(a,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(E5),cw("tabindex"),m0(h8),m0(l5),m0(ye))},e.\u0275dir=O4({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&f0("click",function(o){return s.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&qr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Wt],skipLocationChange:["skipLocationChange","skipLocationChange",Wt],replaceUrl:["replaceUrl","replaceUrl",Wt],routerLink:"routerLink"},standalone:!0,features:[Fw,Zt]});let t=e;return t})();var Qd=class{};var R30=(()=>{let e=class e{constructor(r,i,s,a,o){this.router=r,this.injector=s,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(N5(r=>r instanceof g8),se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let a of i){a.providers&&!a._injector&&(a._injector=ld(a.providers,r,`Route: ${a.path}`));let o=a._injector??r,c=a._loadedInjector??o;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&s.push(this.preloadConfig(o,a)),(a.children||a._loadedRoutes)&&s.push(this.processRoutes(c,a.children??a._loadedRoutes))}return Z3(s).pipe(yr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=$1(null);let a=s.pipe(w4(o=>o===null?$1(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??r,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return Z3([a,o]).pipe(yr())}else return a})}};e.\u0275fac=function(i){return new(i||e)(X0(G1),X0(dd),X0(A5),X0(Qd),X0(Xy))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rD=new L1(""),N30=(()=>{let e=class e{constructor(r,i,s,a,o={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof g8?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof S9&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof jd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){GP()},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();function B30(t){return t.routerState.root}function Eo(t,e){return{\u0275kind:t,\u0275providers:e}}function Z30(){let t=l1(H6);return e=>{let n=t.get(C9);if(e!==n.components[0])return;let r=t.get(G1),i=t.get(iD);t.get(nz)===1&&r.initialNavigation(),t.get(sD,null,k2.Optional)?.setUpPreloading(),t.get(rD,null,k2.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var iD=new L1("",{factory:()=>new V5}),nz=new L1("",{providedIn:"root",factory:()=>1});function j30(){return Eo(2,[{provide:nz,useValue:0},{provide:pd,multi:!0,deps:[H6],useFactory:e=>{let n=e.get(jL,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(G1),s=e.get(iD);nD(i,()=>{r(!0)}),e.get(tz).afterPreactivation=()=>(r(!0),s.closed?$1(void 0):s),i.initialNavigation()}))}}])}function U30(){return Eo(3,[{provide:pd,multi:!0,useFactory:()=>{let e=l1(G1);return()=>{e.setUpLocationChangeListener()}}},{provide:nz,useValue:2}])}var sD=new L1("");function G30(t){return Eo(0,[{provide:sD,useExisting:R30},{provide:Qd,useExisting:t}])}function q30(){return Eo(8,[zI,{provide:Yd,useExisting:zI}])}function W30(t){let e=[{provide:XI,useValue:S30},{provide:eD,useValue:c0({skipNextTransition:!!t?.skipInitialTransition},t)}];return Eo(9,e)}var CI=new L1("ROUTER_FORROOT_GUARD"),$30=[Kr,{provide:zo,useClass:po},G1,Mo,{provide:E5,useFactory:B30,deps:[G1]},Xy,[]],aD=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[$30,[],{provide:Kd,multi:!0,useValue:r},{provide:CI,useFactory:J30,deps:[[G1,new Ua,new Wu]]},{provide:_o,useValue:i||{}},i?.useHash?Q30():Y30(),K30(),i?.preloadingStrategy?G30(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?X30(i):[],i?.bindToComponentInputs?q30().\u0275providers:[],i?.enableViewTransitions?W30().\u0275providers:[],e40()]}}static forChild(r){return{ngModule:e,providers:[{provide:Kd,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(X0(CI,8))},e.\u0275mod=O6({type:e}),e.\u0275inj=D6({});let t=e;return t})();function K30(){return{provide:rD,useFactory:()=>{let t=l1(YL),e=l1(V3),n=l1(_o),r=l1(tz),i=l1(zo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new N30(i,r,t,e,n)}}}function Q30(){return{provide:ye,useClass:GL}}function Y30(){return{provide:ye,useClass:ry}}function J30(t){return"guarded"}function X30(t){return[t.initialNavigation==="disabled"?U30().\u0275providers:[],t.initialNavigation==="enabledBlocking"?j30().\u0275providers:[]]}var AI=new L1("");function e40(){return[{provide:AI,useFactory:Z30},{provide:md,multi:!0,useExisting:AI}]}var x8="*";function oD(t,e){return{type:7,name:t,definitions:e,options:{}}}function rz(t,e=null){return{type:4,styles:e,timings:t}}function cD(t,e=null){return{type:2,steps:t,options:e}}function Yt(t){return{type:6,styles:t,offset:null}}function lD(t,e,n){return{type:0,name:t,styles:e,options:n}}function iz(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}var T9=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},So=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Xd="!";function t40(t,e){if(t&1){let n=r2();v(0,"div",1)(1,"div",2),v0(2,"i"),b(),v(3,"div",3)(4,"h4"),C(5),b(),v(6,"p"),C(7),b()(),v(8,"div",4),f0("click",function(){x1(n);let i=b0();return w1(i.closeToast())}),v0(9,"i",5),b()()}if(t&2){let n=b0();Y("@fadeInOut",void 0)("ngClass",n.type),F(2),fe(n.getIconClass()),F(3),W0(n.title),F(2),W0(n.message)}}var hD=(()=>{let e=class e{constructor(){this.show=!1,this.title="",this.message="",this.type="",this.duration=3e3}ngOnInit(){this.resetTimeout()}ngOnDestroy(){this.clearTimeout()}getIconClass(){switch(this.type){case"info":return"mdi mdi-information";case"warning":return"mdi mdi-alert";case"error":return"mdi mdi-close-circle";case"success":return"mdi mdi-check-circle";default:return"mdi mdi-information"}}closeToast(){this.show=!1,this.hideTimeout&&clearTimeout(this.hideTimeout)}resetTimeout(){this.clearTimeout(),this.hideTimeout=setTimeout(()=>this.closeToast(),this.duration)}clearTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-toast"]],inputs:{show:"show",title:"title",message:"message",type:"type",duration:"duration"},standalone:!0,features:[r1],decls:1,vars:1,consts:[["class","toast",3,"ngClass",4,"ngIf"],[1,"toast",3,"ngClass"],[1,"icon"],[1,"content"],[1,"close-icon",3,"click"],[1,"mdi","mdi-window-close"]],template:function(i,s){i&1&&D0(0,t40,10,6,"div",0),i&2&&Y("ngIf",s.show)},dependencies:[s1,B4,J1],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}'],data:{animation:[oD("fadeInOut",[lD("in",Yt({opacity:1})),iz(":enter",[Yt({opacity:0}),rz("400ms ease-in")]),iz(":leave",rz("400ms ease-out",Yt({opacity:0})))])]}});let t=e;return t})();var T2=(()=>{let e=class e{constructor(){this.viewContainerRef=null}setViewContainerRef(r){this.viewContainerRef=r}info(r,i,s=5e3){this.showToast(r,i,"info",s)}error(r,i,s=5e3){this.showToast(r,i,"error",s)}showToast(r,i,s,a){if(this.viewContainerRef){let o=this.viewContainerRef.createComponent(hD);o.instance.title=r,o.instance.message=i,o.instance.type=s,o.instance.duration=a,o.instance.show=!0}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var n40=["toastContainer"];function r40(t,e){}var uD=(()=>{let e=class e{constructor(r){this.toastService=r}ngAfterViewInit(){this.toastService.setViewContainerRef(this.toastContainer)}};e.\u0275fac=function(i){return new(i||e)(m0(T2))},e.\u0275cmp=n1({type:e,selectors:[["app-root"]],viewQuery:function(i,s){if(i&1&&EL(n40,5,d8),i&2){let a;Uw(a=Gw())&&(s.toastContainer=a.first)}},standalone:!0,features:[r1],decls:3,vars:0,consts:[["toastContainer",""]],template:function(i,s){i&1&&(D0(0,r40,0,0,"ng-template",null,0,kL),v0(2,"router-outlet"))},dependencies:[s1,Qt]});let t=e;return t})();var xD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(m0(h8),m0(l5))},e.\u0275dir=O4({type:e});let t=e;return t})(),az=(()=>{let e=class e extends xD{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Br(e)))(s||e)}})(),e.\u0275dir=O4({type:e,features:[u8]});let t=e;return t})(),P9=new L1("NgValueAccessor"),i40={provide:P9,useExisting:I6(()=>oz),multi:!0},oz=(()=>{let e=class e extends az{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Br(e)))(s||e)}})(),e.\u0275dir=O4({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&f0("change",function(o){return s.onChange(o.target.checked)})("blur",function(){return s.onTouched()})},features:[p8([i40]),u8]});let t=e;return t})(),s40={provide:P9,useExisting:I6(()=>hi),multi:!0};function a40(){let t=we()?we().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var o40=new L1("CompositionEventMode"),hi=(()=>{let e=class e extends xD{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!a40())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(m0(h8),m0(l5),m0(o40,8))},e.\u0275dir=O4({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&f0("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[p8([s40]),u8]});let t=e;return t})();var wD=new L1("NgValidators"),yD=new L1("NgAsyncValidators");function zD(t){return t!=null}function MD(t){return Ut(t)?Z3(t):t}function CD(t){let e={};return t.forEach(n=>{e=n!=null?c0(c0({},e),n):e}),Object.keys(e).length===0?null:e}function AD(t,e){return e.map(n=>n(t))}function c40(t){return!t.validate}function _D(t){return t.map(e=>c40(e)?e:n=>e.validate(n))}function l40(t){if(!t)return null;let e=t.filter(zD);return e.length==0?null:function(n){return CD(AD(n,e))}}function cz(t){return t!=null?l40(_D(t)):null}function h40(t){if(!t)return null;let e=t.filter(zD);return e.length==0?null:function(n){let r=AD(n,e).map(MD);return Cb(r).pipe(f2(CD))}}function lz(t){return t!=null?h40(_D(t)):null}function dD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function u40(t){return t._rawValidators}function d40(t){return t._rawAsyncValidators}function sz(t){return t?Array.isArray(t)?t:[t]:[]}function tp(t,e){return Array.isArray(t)?t.includes(e):t===e}function pD(t,e){let n=sz(e);return sz(t).forEach(i=>{tp(n,i)||n.push(i)}),n}function mD(t,e){return sz(e).filter(n=>!tp(t,n))}var np=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cz(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ci=class extends np{get formDirective(){return null}get path(){return null}},li=class extends np{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},p40={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qy0=i1(c0({},p40),{"[class.ng-submitted]":"isSubmitted"}),L9=(()=>{let e=class e extends rp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(m0(li,2))},e.\u0275dir=O4({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&sd("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[u8]});let t=e;return t})(),ED=(()=>{let e=class e extends rp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(m0(ci,10))},e.\u0275dir=O4({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&sd("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[u8]});let t=e;return t})();var ko="VALID",ep="INVALID",oi="PENDING",To="DISABLED";function SD(t){return(ap(t)?t.validators:t)||null}function m40(t){return Array.isArray(t)?cz(t):t||null}function kD(t,e){return(ap(e)?e.asyncValidators:t)||null}function f40(t){return Array.isArray(t)?lz(t):t||null}function ap(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function g40(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new K0(1e3,"");if(!r[n])throw new K0(1001,"")}function v40(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new K0(1002,"")})}var ip=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ko}get invalid(){return this.status===ep}get pending(){return this.status==oi}get disabled(){return this.status===To}get enabled(){return this.status!==To}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mD(e,this._rawAsyncValidators))}hasValidator(e){return tp(this._rawValidators,e)}hasAsyncValidator(e){return tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=To,this.errors=null,this._forEachChild(r=>{r.disable(i1(c0({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(i1(c0({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ko,this._forEachChild(r=>{r.enable(i1(c0({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(i1(c0({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ko||this.status===oi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?To:ko}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator=!0;let n=MD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m4,this.statusChanges=new m4}_calculateStatus(){return this._allControlsDisabled()?To:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(ep)?ep:ko}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ap(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=m40(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=f40(this._rawAsyncValidators)}},sp=class extends ip{constructor(e,n,r){super(SD(n),kD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){v40(this,!0,e),Object.keys(e).forEach(r=>{g40(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var op=new L1("CallSetDisabledState",{providedIn:"root",factory:()=>cp}),cp="always";function b40(t,e){return[...e.path,t]}function TD(t,e,n=cp){PD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),w40(t,e),z40(t,e),y40(t,e),x40(t,e)}function fD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function x40(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function PD(t,e){let n=u40(t);e.validator!==null?t.setValidators(dD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=d40(t);e.asyncValidator!==null?t.setAsyncValidators(dD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();fD(e._rawValidators,i),fD(e._rawAsyncValidators,i)}function w40(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LD(t,e)})}function y40(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function z40(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function M40(t,e){t==null,PD(t,e)}function C40(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function A40(t){return Object.getPrototypeOf(t.constructor)===az}function _40(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function E40(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===hi?n=s:A40(s)?r=s:i=s}),i||r||n||null}var S40={provide:ci,useExisting:I6(()=>hz)},Po=(()=>Promise.resolve())(),hz=(()=>{let e=class e extends ci{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new m4,this.form=new sp({},cz(r),lz(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Po.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),TD(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Po.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Po.then(()=>{let i=this._findContainer(r.path),s=new sp({});M40(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Po.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Po.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,_40(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(m0(wD,10),m0(yD,10),m0(op,8))},e.\u0275dir=O4({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&f0("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p8([S40]),u8]});let t=e;return t})();function gD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var k40=class extends ip{constructor(e=null,n,r){super(SD(n),kD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ap(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var T40={provide:li,useExisting:I6(()=>ze)},bD=(()=>Promise.resolve())(),ze=(()=>{let e=class e extends li{constructor(r,i,s,a,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new k40,this._registered=!1,this.name="",this.update=new m4,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=E40(this,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),C40(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){TD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){bD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Wt(i);bD.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?b40(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(m0(ci,9),m0(wD,10),m0(yD,10),m0(P9,10),m0(Gr,8),m0(op,8))},e.\u0275dir=O4({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p8([T40]),u8,Zt]});let t=e;return t})(),ID=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=O4({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var P40={provide:P9,useExisting:I6(()=>uz),multi:!0};var DD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=O6({type:e}),e.\u0275inj=D6({});let t=e;return t})(),L40=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:DD});let t=e;return t})(),uz=(()=>{let e=class e extends az{constructor(r,i,s,a){super(r,i),this._registry=s,this._injector=a,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=l1(op,{optional:!0})??cp}ngOnInit(){this._control=this._injector.get(li),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(m0(h8),m0(l5),m0(L40),m0(H6))},e.\u0275dir=O4({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&f0("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[p8([P40]),u8]});let t=e;return t})();var I40=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=O6({type:e}),e.\u0275inj=D6({imports:[DD]});let t=e;return t})();var w8=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:op,useValue:r.callSetDisabledState??cp}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=O6({type:e}),e.\u0275inj=D6({imports:[I40]});let t=e;return t})();function D40(t,e){if(t&1){let n=r2();v(0,"li",6),f0("click",function(){let s=x1(n).$implicit,a=b0(2);return w1(a.selectOption(s))}),C(1),b()}if(t&2){let n=e.$implicit,r=b0(2);Y("ngClass",r.selectedValue==n?"selected":""),F(1),m1(" ",n," ")}}function O40(t,e){if(t&1&&(v(0,"ul",4),D0(1,D40,2,2,"li",5),b()),t&2){let n=b0();F(1),Y("ngForOf",n.options)}}var OD=(()=>{let e=class e{constructor(r){this.eRef=r,this.options=[],this.prompt="Please select an option",this.selectedValue=null,this.isOpen=!1,this.onChange=()=>{},this.onTouch=()=>{}}clickOutside(r){this.eRef.nativeElement.contains(r.target)||(this.isOpen=!1)}writeValue(r){this.selectedValue=r}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouch=r}selectOption(r){this.selectedValue=r,this.onChange(r),this.toggleDropdown()}toggleDropdown(){this.isOpen=!this.isOpen}};e.\u0275fac=function(i){return new(i||e)(m0(l5))},e.\u0275cmp=n1({type:e,selectors:[["app-wide-dropdown"]],hostBindings:function(i,s){i&1&&f0("click",function(o){return s.clickOutside(o)},!1,uP)},inputs:{options:"options",prompt:"prompt"},standalone:!0,features:[p8([{provide:P9,useExisting:I6(()=>e),multi:!0}]),r1],decls:5,vars:4,consts:[[1,"dropdown"],[1,"dropdown-selected",3,"ngClass","click"],[1,"arrow",3,"ngClass"],["class","dropdown-list",4,"ngIf"],[1,"dropdown-list"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),f0("click",function(){return s.toggleDropdown()}),C(2),v0(3,"i",2),b(),D0(4,O40,2,1,"ul",3),b()),i&2&&(F(1),Y("ngClass",s.isOpen?"open":""),F(1),m1(" ",s.selectedValue||s.prompt," "),F(1),Y("ngClass",s.isOpen?"open":""),F(1),Y("ngIf",s.isOpen))},dependencies:[s1,B4,C3,J1],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.dropdown[_ngcontent-%COMP%]{display:inline-grid;min-width:250px;position:relative}.dropdown[_ngcontent-%COMP%]   .dropdown-selected[_ngcontent-%COMP%]{display:inline-grid;position:relative;height:40px;line-height:20px;align-items:center;background:#FAF7F6;padding-left:15px;padding-right:35px;border-top-right-radius:5px;border-top-left-radius:5px}.dropdown[_ngcontent-%COMP%]   .dropdown-selected.open[_ngcontent-%COMP%]{border:1px solid #FCAB90}.dropdown[_ngcontent-%COMP%]   .dropdown-selected[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background:#A1928A;right:20px;clip-path:path("M0.418467 3.17254L4.07416 6.82824C4.62463 7.37871 5.51386 7.37871 6.06433 6.82824L9.72003 3.17254C10.6092 2.28332 9.97409 0.758934 8.71788 0.758934H1.40649C0.150289 0.758934 -0.470756 2.28332 0.418467 3.17254Z")}.dropdown[_ngcontent-%COMP%]   .dropdown-selected[_ngcontent-%COMP%]   .arrow.open[_ngcontent-%COMP%]{clip-path:path("M0.418467 4.58637L4.07416 0.930676C4.62463 0.380204 5.51386 0.380204 6.06433 0.930676L9.72003 4.58637C10.6092 5.47559 9.97409 6.99998 8.71788 6.99998H1.40649C0.150289 6.99998 -0.470756 5.47559 0.418467 4.58637Z")}.dropdown[_ngcontent-%COMP%]   ul.dropdown-list[_ngcontent-%COMP%]{margin:0;padding:0;position:absolute;width:100%;top:44px;background:#FFF;list-style:none;box-shadow:0 3px 8px #3e1b071a}.dropdown[_ngcontent-%COMP%]   ul.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:38px;display:grid;align-items:center;padding-left:15px;color:#000}.dropdown[_ngcontent-%COMP%]   ul.dropdown-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{font-weight:700}.dropdown[_ngcontent-%COMP%]   ul.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#FCAB90;color:#fff;font-weight:700}']});let t=e;return t})();function F40(t,e){if(t&1&&(v(0,"span",4),v0(1,"i",5),C(2),b()),t&2){let n=b0();F(2),W0(n.errorMessage)}}var ui=(()=>{let e=class e{constructor(){this.inline=!1,this.errorMessage="",this.style="default",this.value="",this.onChange=r=>{},this.onTouched=()=>{}}writeValue(r){this.value=r}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}onInput(r){this.value=r.target.value,this.onChange(this.value),this.onTouched()}getStyle(){let r=[];return this.inline&&r.push("inline"),this.errorMessage.length>0&&r.push("label-error"),r.push(`label-${this.style}`),r.join(" ")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-wide-input"]],inputs:{id:"id",label:"label",name:"name",inline:"inline",errorMessage:"errorMessage",style:"style"},standalone:!0,features:[p8([{provide:P9,useExisting:I6(()=>e),multi:!0}]),r1],decls:6,vars:8,consts:[[1,"wide-input",3,"ngClass"],[1,"label",3,"ngClass"],["type","text",3,"id","name","value","ngClass","input"],["class","error-message",4,"ngIf"],[1,"error-message"],[1,"mdi","mdi-close-circle"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"label")(2,"span",1),C(3),b(),v(4,"input",2),f0("input",function(o){return s.onInput(o)}),b()(),D0(5,F40,3,1,"span",3),b()),i&2&&(Y("ngClass",s.getStyle()),F(2),Y("ngClass",s.value&&s.value.length>0?"hasvalue":""),F(1),W0(s.label),F(1),Y("id",s.id)("name",s.name)("value",s.value)("ngClass",s.value&&s.value.length>0?"hasvalue":""),F(1),Y("ngIf",s.errorMessage.length>0))},dependencies:[s1,B4,J1,w8],styles:['@charset "UTF-8";@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.wide-input[_ngcontent-%COMP%]{position:relative}.wide-input[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{position:absolute;left:15px;font-size:16px;top:14px;opacity:1;transition:all .2s ease}.wide-input.inline[_ngcontent-%COMP%]{display:inline-block}.wide-input[_ngcontent-%COMP%]:focus-within   span.label[_ngcontent-%COMP%], .wide-input[_ngcontent-%COMP%]   span.label.hasvalue[_ngcontent-%COMP%]{top:1px;opacity:1;font-size:12px;color:#8ab9ff}.wide-input.label-success[_ngcontent-%COMP%]:focus-within   span[_ngcontent-%COMP%], .wide-input.label-success[_ngcontent-%COMP%]   span.hasvalue[_ngcontent-%COMP%]{color:#77d058}.wide-input.label-success[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:3px solid #77D058}.wide-input.label-peach[_ngcontent-%COMP%]:focus-within   span[_ngcontent-%COMP%], .wide-input.label-peach[_ngcontent-%COMP%]   span.hasvalue[_ngcontent-%COMP%]{color:#fcab90}.wide-input.label-peach[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:3px solid #FCAB90}.wide-input.label-error[_ngcontent-%COMP%]{color:#ff7872}.wide-input.label-error[_ngcontent-%COMP%]:focus-within   span[_ngcontent-%COMP%], .wide-input.label-error[_ngcontent-%COMP%]   span.hasvalue[_ngcontent-%COMP%]{color:#ff7872}.wide-input.label-error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:3px solid #FF7872}.wide-input[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{position:relative;display:block;font-size:14px;top:0;left:2px;color:#ff7872}.wide-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;line-height:20px;background:#FAF7F6;outline:none;border:0;border-bottom:4px solid #FAF7F6;border-radius:5px;padding:16px 15px 0;font-size:16px;font-weight:500;color:#3e1b07;box-sizing:content-box}.wide-input[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .wide-input[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border:1px solid #FF7872;color:#ff7872}.wide-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{outline:none;box-shadow:0 3px 8px #3e1b071a;color:#3e1b07}.wide-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;color:#3e1b07;border-bottom:3px solid #8AB9FF;box-shadow:none}.wide-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + .error-message[_ngcontent-%COMP%]{margin-top:5px;display:block;color:#ff7872}.wide-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + .error-message[_ngcontent-%COMP%]:before{content:"\\274c  "}']});let t=e;return t})();function H40(t,e){if(t&1){let n=r2();v(0,"button",6),f0("click",function(){let s=x1(n).$implicit,a=b0(2);return w1(a.onButtonClick(s))}),C(1),b()}if(t&2){let n=e.$implicit,r=b0(2);Bw("btn ",r.btnSize,""),F(1),W0(n.label)}}function V40(t,e){if(t&1&&(v(0,"div",4),D0(1,H40,2,4,"button",5),b()),t&2){let n=b0();F(1),Y("ngForOf",n.buttons)}}var hp=(()=>{let e=class e{constructor(){this.label="Actions",this.buttons=[],this.btnSize="",this.buttonClick=new m4,this.menuVisible=!1}toggleMenu(){this.menuVisible=!this.menuVisible}onButtonClick(r){this.buttonClick.emit(r.action),this.menuVisible=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-multi-button"]],inputs:{label:"label",buttons:"buttons",btnSize:"btnSize"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[r1],decls:5,vars:7,consts:[[1,"multi-button"],[3,"ngClass","click"],[1,"mdi",3,"ngClass"],["class","menu",4,"ngIf"],[1,"menu"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"button",1),f0("click",function(){return s.toggleMenu()}),C(2),v0(3,"i",2),b(),D0(4,V40,2,1,"div",3),b()),i&2&&(F(1),Bw("btn main-btn ",s.btnSize,""),Y("ngClass",s.menuVisible?"menu-visible":""),F(1),m1("",s.label," "),F(1),Y("ngClass",s.menuVisible?"mdi-triangle-outline":"mdi-triangle-down-outline"),F(1),Y("ngIf",s.menuVisible))},dependencies:[s1,B4,C3,J1],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.multi-button[_ngcontent-%COMP%]{display:inline;position:relative}.multi-button[_ngcontent-%COMP%]   .menu-visible.main-btn[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.multi-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;z-index:9;width:100%}.multi-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#FAF7F6;border-radius:0;border-left:1px solid #FF7872;border-right:1px solid #FF7872;border-bottom:1px solid #FF7872;color:#ff7872;min-width:auto;width:100%}.multi-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#FCAB90;color:#faf7f6}.multi-button[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}']});let t=e;return t})();var up=()=>({label:"Button 1",action:"action1"}),dp=()=>({label:"Button 2",action:"action2"}),pp=()=>({label:"Button 3",action:"action3"}),mp=(t,e,n)=>[t,e,n],R40=()=>["WIDE","WIDER","WIDEST"],FD=(()=>{let e=class e{constructor(r){this.toastNotificationService=r,this.form={textboxValue1:"",textboxValue2:"Prefilled Text",textboxValue3:"Invalid Data!",radioValue:"",radioValueB:"",checkboxValue:!1,checkboxValue2:!0,selectedOption:""}}buttonClick(r){alert(`Clicked ${r}`)}handleMultiButtonClick(r){console.log("Button action:",r)}showToast(r){this.toastNotificationService.showToast("Toast Title","Butter be prepared for some toasty puns!",r,5e3)}};e.\u0275fac=function(i){return new(i||e)(m0(T2))},e.\u0275cmp=n1({type:e,selectors:[["app-kitchen-sink"]],standalone:!0,features:[r1],decls:317,vars:50,consts:[[1,"kitchen-sink"],[1,"important"],[1,"label"],[1,"swatches"],[1,"color-swatch","light-beige"],[1,"color-swatch","brown"],[1,"color-swatch","white"],[1,"color-swatch","grad-3"],[1,"color-swatch","grad-4","text-white"],[1,"color-swatch","yellow"],[1,"color-swatch","coral"],[1,"color-swatch","peach"],[1,"color-swatch","pink"],[1,"color-swatch","grey-light"],[1,"color-swatch","grey-dark"],[1,"button-region"],[1,"button-set"],[1,"btn-lg",3,"click"],[3,"click"],[1,"btn-sm",3,"click"],[1,"btn-xs",3,"click"],[1,"btn-xss",3,"click"],["btnSize","btn-lg",3,"buttons","buttonClick"],[3,"buttons","buttonClick"],["btnSize","btn-sm",3,"buttons","buttonClick"],["btnSize","btn-xs",3,"buttons","buttonClick"],[1,"btn-white-grad"],[1,"btn-alt","btn-lg",3,"click"],[1,"btn-alt",3,"click"],[1,"btn-alt","btn-sm",3,"click"],[1,"btn-alt","btn-xs",3,"click"],[1,"btn","btn-lg"],[1,"btn-icon"],["src","assets/icons/pencil.svg"],[1,"btn"],[1,"btn","btn-sm"],[1,"btn","btn-xs"],[1,"btn-grey","btn-lg",3,"click"],[1,"btn-grey",3,"click"],[1,"btn-grey","btn-sm",3,"click"],[1,"btn-grey","btn-xs",3,"click"],[1,"btn-grey-alt","btn-lg",3,"click"],[1,"btn-grey-alt",3,"click"],[1,"btn-grey-alt","btn-sm",3,"click"],[1,"btn-grey-alt","btn-xs",3,"click"],[1,"btn","btn-grey","btn-lg"],[1,"btn","btn-grey"],[1,"btn","btn-grey","btn-sm"],[1,"btn","btn-grey","btn-xs"],[1,"button-region","gradient"],[1,"btn-white","btn-lg",3,"click"],[1,"btn-white",3,"click"],[1,"btn-white","btn-sm",3,"click"],[1,"btn-white","btn-xs",3,"click"],[1,"btn-white-outline","btn-lg",3,"click"],[1,"btn-white-outline",3,"click"],[1,"btn-white-outline","btn-sm",3,"click"],[1,"btn-white-outline","btn-xs",3,"click"],[1,"btn","btn-white","btn-lg"],[1,"btn","btn-white"],[1,"btn","btn-white","btn-sm"],[1,"btn","btn-white","btn-xs"],[1,"btn-grey-dark","btn-lg",3,"click"],[1,"btn-grey-dark",3,"click"],[1,"btn-grey-dark","btn-sm",3,"click"],[1,"btn-grey-dark","btn-xs",3,"click"],[1,"btn-grey-dark-alt","btn-lg",3,"click"],[1,"btn-grey-dark-alt",3,"click"],[1,"btn-grey-dark-alt","btn-sm",3,"click"],[1,"btn-grey-dark-alt","btn-xs",3,"click"],[1,"btn","btn-grey-dark","btn-lg"],[1,"btn","btn-grey-dark"],[1,"btn","btn-grey-dark","btn-sm"],[1,"btn","btn-grey-dark","btn-xs"],[1,"form-input-region"],["myForm","ngForm"],[1,"input"],["id","textbox","label","Default Textbox","name","textbox",3,"ngModel","ngModelChange"],["id","textbox_peach","label","Peach","name","textbox_peach",3,"ngModel","ngModelChange"],["id","textbox_error","label","Error Textbox","name","textbox_error",3,"errorMessage","ngModel","ngModelChange"],[1,"radio-group"],["type","radio","id","radioOption1","name","radioGroup","value","option1",3,"ngModel","ngModelChange"],["for","radioOption1"],["type","radio","id","radioOption2","name","radioGroup","value","option2",3,"ngModel","ngModelChange"],["for","radioOption2"],[1,"radio-group","vertical"],["type","radio","id","radioOptionB1","name","radioGroupB","value","option1",1,"radio-alt",3,"ngModel","ngModelChange"],["for","radioOptionB1"],["type","radio","id","radioOptionB2","name","radioGroupB","value","option2",1,"radio-alt",3,"ngModel","ngModelChange"],["for","radioOptionB2"],[1,"checkbox-group"],["type","checkbox","id","checkbox","name","checkbox",1,"switch",3,"ngModel","ngModelChange"],["type","checkbox","id","checkbox2","name","checkbox2",1,"switch","switch-lg",3,"ngModel","ngModelChange"],[1,"success-indicator"],[1,"wide-tick","success"],[1,"dropdown"],["name","myDropdown","prompt","Custom prompt",3,"ngModel","options","ngModelChange"],[1,"form-results"],[1,"toasts"],[1,"buttons"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h1"),C(2,"Fonts"),b(),v0(3,"hr"),v(4,"h1"),C(5,"Heading 1"),b(),v(6,"h2"),C(7,"Heading 2"),b(),v(8,"h3"),C(9,"Heading 3"),b(),v(10,"h4"),C(11,"Heading 4"),b(),v(12,"p",1),C(13,"important"),b(),v(14,"p",2),C(15,"label"),b(),v(16,"p"),C(17,"default paragraph"),b(),v(18,"button"),C(19,"Buttons"),b(),v(20,"h1"),C(21,"Colours"),b(),v0(22,"hr"),v(23,"h2"),C(24,"Main"),b(),v(25,"div",3)(26,"div",4),C(27,"$light-beige"),b(),v(28,"div",5),C(29,"$brown"),b(),v(30,"div",6),C(31,"$white"),b()(),v(32,"h2"),C(33,"Gradients"),b(),v(34,"div",3)(35,"div",7),C(36,"$gradient-3"),b(),v(37,"div",8),C(38,"$gradient-4"),b()(),v(39,"h2"),C(40,"Gradient Components"),b(),v(41,"div",3)(42,"div",9),C(43,"$yellow"),b(),v(44,"div",10),C(45,"$coral"),b(),v(46,"div",11),C(47,"$peach"),b(),v(48,"div",12),C(49,"$pink"),b()(),v(50,"h2"),C(51,"Secondary"),b(),v(52,"div",3)(53,"div",13),C(54,"$grey-light"),b(),v(55,"div",14),C(56,"$grey-dark"),b()(),v(57,"h1"),C(58,"Buttons"),b(),v0(59,"hr"),v(60,"div",15)(61,"h2"),C(62,"Standard"),b(),v(63,"div",16)(64,"button",17),f0("click",function(){return s.buttonClick("btn-lg")}),C(65,"btn-lg"),b(),v(66,"button",18),f0("click",function(){return s.buttonClick("default")}),C(67,"default"),b(),v(68,"button",19),f0("click",function(){return s.buttonClick("btn-sm")}),C(69,"btn-sm"),b(),v(70,"button",20),f0("click",function(){return s.buttonClick("btn-xs")}),C(71,"btn-xs"),b(),v(72,"button",21),f0("click",function(){return s.buttonClick("btn-xss")}),C(73,"btn-xss"),b()(),v(74,"h2"),C(75,"Multi Button"),b(),v(76,"div",16)(77,"app-multi-button",22),f0("buttonClick",function(o){return s.handleMultiButtonClick(o)}),b(),v(78,"app-multi-button",23),f0("buttonClick",function(o){return s.handleMultiButtonClick(o)}),b(),v(79,"app-multi-button",24),f0("buttonClick",function(o){return s.handleMultiButtonClick(o)}),b(),v(80,"app-multi-button",25),f0("buttonClick",function(o){return s.handleMultiButtonClick(o)}),b()(),v(81,"h2"),C(82,"White Gradient"),b(),v(83,"div",16)(84,"div",26)(85,"button",17),f0("click",function(){return s.buttonClick("btn-lg")}),C(86,"btn-white-grad > btn-lg"),b()(),v(87,"div",26)(88,"button",18),f0("click",function(){return s.buttonClick("default")}),C(89,"btn-white-grad > default"),b()(),v(90,"div",26)(91,"button",19),f0("click",function(){return s.buttonClick("btn-sm")}),C(92,"btn-white-grad > btn-sm"),b()(),v(93,"div",26)(94,"button",20),f0("click",function(){return s.buttonClick("btn-xs")}),C(95,"btn-white-grad > btn-xs"),b()()(),v(96,"h2"),C(97,"White Coral"),b(),v(98,"div",16)(99,"button",27),f0("click",function(){return s.buttonClick("btn-lg")}),C(100,"btn-alt btn-lg"),b(),v(101,"button",28),f0("click",function(){return s.buttonClick("default")}),C(102,"btn-alt"),b(),v(103,"button",29),f0("click",function(){return s.buttonClick("btn-sm")}),C(104,"btn-alt btn-sm"),b(),v(105,"button",30),f0("click",function(){return s.buttonClick("btn-xs")}),C(106,"btn-alt btn-xs"),b()(),v(107,"h2"),C(108,"CTA"),b(),v(109,"div",16)(110,"a",31),C(111,"a.btn.btn-lg "),v(112,"i",32),v0(113,"img",33),b()(),v(114,"a",34),C(115,"a.btn "),v(116,"i",32),v0(117,"img",33),b()(),v(118,"a",35),C(119,"a.btn.btn-sm "),v(120,"i",32),v0(121,"img",33),b()(),v(122,"a",36),C(123,"a.btn.btn-xs "),v(124,"i",32),v0(125,"img",33),b()()(),v(126,"h2"),C(127,"Grey Light"),b(),v(128,"div",16)(129,"button",37),f0("click",function(){return s.buttonClick("btn-lg")}),C(130,"btn-grey btn-lg"),b(),v(131,"button",38),f0("click",function(){return s.buttonClick("default")}),C(132,"btn-grey"),b(),v(133,"button",39),f0("click",function(){return s.buttonClick("btn-sm")}),C(134,"btn-grey btn-sm"),b(),v(135,"button",40),f0("click",function(){return s.buttonClick("btn-xs")}),C(136,"btn-grey btn-xs"),b()(),v(137,"h2"),C(138,"White Grey"),b(),v(139,"div",16)(140,"button",41),f0("click",function(){return s.buttonClick("btn-lg")}),C(141,"btn-grey-alt btn-lg"),b(),v(142,"button",42),f0("click",function(){return s.buttonClick("default")}),C(143,"btn-grey-alt"),b(),v(144,"button",43),f0("click",function(){return s.buttonClick("btn-sm")}),C(145,"btn-grey-alt btn-sm"),b(),v(146,"button",44),f0("click",function(){return s.buttonClick("btn-xs")}),C(147,"btn-grey-alt btn-xs"),b()(),v(148,"h2"),C(149,"CTA Grey"),b(),v(150,"div",16)(151,"a",45),C(152,"a.btn.btn-grey.btn-lg "),v(153,"i",32),v0(154,"img",33),b()(),v(155,"a",46),C(156,"a.btn.btn-grey "),v(157,"i",32),v0(158,"img",33),b()(),v(159,"a",47),C(160,"a.btn.btn-grey.btn-sm "),v(161,"i",32),v0(162,"img",33),b()(),v(163,"a",48),C(164,"a.btn.btn-grey.btn-xs "),v(165,"i",32),v0(166,"img",33),b()()()(),v(167,"div",49)(168,"h2"),C(169,"White"),b(),v(170,"div",16)(171,"button",50),f0("click",function(){return s.buttonClick("btn-lg")}),C(172,"btn-white btn-lg"),b(),v(173,"button",51),f0("click",function(){return s.buttonClick("default")}),C(174,"btn-white"),b(),v(175,"button",52),f0("click",function(){return s.buttonClick("btn-sm")}),C(176,"btn-white btn-sm"),b(),v(177,"button",53),f0("click",function(){return s.buttonClick("btn-xs")}),C(178,"btn-white btn-xs"),b()(),v(179,"h2"),C(180,"White"),b(),v(181,"div",16)(182,"button",54),f0("click",function(){return s.buttonClick("btn-lg")}),C(183,"btn-white-outline btn-lg"),b(),v(184,"button",55),f0("click",function(){return s.buttonClick("default")}),C(185,"btn-white-outline"),b(),v(186,"button",56),f0("click",function(){return s.buttonClick("btn-sm")}),C(187,"btn-white-outline btn-sm"),b(),v(188,"button",57),f0("click",function(){return s.buttonClick("btn-xs")}),C(189,"btn-white-outline btn-xs"),b()(),v(190,"h2"),C(191,"CTA"),b(),v(192,"div",16)(193,"a",58),C(194,"a.btn.btn-white.btn-lg "),v(195,"i",32),v0(196,"img",33),b()(),v(197,"a",59),C(198,"a.btn.btn-white "),v(199,"i",32),v0(200,"img",33),b()(),v(201,"a",60),C(202,"a.btn.btn-white.btn-sm "),v(203,"i",32),v0(204,"img",33),b()(),v(205,"a",61),C(206,"a.btn.btn-white.btn-xs "),v(207,"i",32),v0(208,"img",33),b()()(),v(209,"h2"),C(210,"Grey Dark"),b(),v(211,"div",16)(212,"button",62),f0("click",function(){return s.buttonClick("btn-lg")}),C(213,"btn-grey-dark btn-lg"),b(),v(214,"button",63),f0("click",function(){return s.buttonClick("default")}),C(215,"btn-grey-dark"),b(),v(216,"button",64),f0("click",function(){return s.buttonClick("btn-sm")}),C(217,"btn-grey-dark btn-sm"),b(),v(218,"button",65),f0("click",function(){return s.buttonClick("btn-xs")}),C(219,"btn-grey-dark btn-xs"),b()(),v(220,"h2"),C(221,"Grey Alt"),b(),v(222,"div",16)(223,"button",66),f0("click",function(){return s.buttonClick("btn-lg")}),C(224,"btn-grey-dark-alt btn-lg"),b(),v(225,"button",67),f0("click",function(){return s.buttonClick("default")}),C(226,"btn-grey-dark-alt"),b(),v(227,"button",68),f0("click",function(){return s.buttonClick("btn-sm")}),C(228,"btn-grey-dark-alt btn-sm"),b(),v(229,"button",69),f0("click",function(){return s.buttonClick("btn-xs")}),C(230,"btn-grey-dark-alt btn-xs"),b()(),v(231,"h2"),C(232,"CTA Grey Dark"),b(),v(233,"div",16)(234,"a",70),C(235,"a.btn.btn-grey-dark.btn-lg "),v(236,"i",32),v0(237,"img",33),b()(),v(238,"a",71),C(239,"a.btn.btn-grey-dark "),v(240,"i",32),v0(241,"img",33),b()(),v(242,"a",72),C(243,"a.btn.btn-grey-dark.btn-sm "),v(244,"i",32),v0(245,"img",33),b()(),v(246,"a",73),C(247,"a.btn.btn-grey-dark.btn-xs "),v(248,"i",32),v0(249,"img",33),b()()()(),v(250,"h1"),C(251,"Form Inputs"),b(),v(252,"div",74)(253,"form",null,75)(255,"h2"),C(256,"Input"),b(),v(257,"div",76)(258,"app-wide-input",77),f0("ngModelChange",function(o){return s.form.textboxValue1=o}),b()(),v(259,"div",76)(260,"app-wide-input",78),f0("ngModelChange",function(o){return s.form.textboxValue2=o}),b()(),v(261,"div",76)(262,"app-wide-input",79),f0("ngModelChange",function(o){return s.form.textboxValue3=o}),b()(),v(263,"h2"),C(264,"Radio"),b(),v(265,"div",80)(266,"input",81),f0("ngModelChange",function(o){return s.form.radioValue=o}),b(),v(267,"label",82),C(268,"Option 1"),b(),v(269,"input",83),f0("ngModelChange",function(o){return s.form.radioValue=o}),b(),v(270,"label",84),C(271,"Option 2"),b()(),v(272,"h3"),C(273,"Top-down, variant"),b(),v(274,"div",85)(275,"input",86),f0("ngModelChange",function(o){return s.form.radioValueB=o}),b(),v(276,"label",87),C(277,"Option 1"),b(),v(278,"input",88),f0("ngModelChange",function(o){return s.form.radioValueB=o}),b(),v(279,"label",89),C(280,"Option 2"),b()(),v(281,"h2"),C(282,"Checkbox"),b(),v(283,"div",90)(284,"h3"),C(285,"Small Checkbox (.switch)"),b(),v(286,"input",91),f0("ngModelChange",function(o){return s.form.checkboxValue=o}),b()(),v(287,"div",90)(288,"h3"),C(289,"Large checkbox (.switch .switch-lg)"),b(),v(290,"input",92),f0("ngModelChange",function(o){return s.form.checkboxValue2=o}),b()(),v(291,"h3"),C(292,"Success indicator"),b(),v(293,"div",93),v0(294,"i",94),C(295," Success indicator "),b(),v(296,"h3"),C(297,"Dropdown"),b(),v(298,"div",95)(299,"app-wide-dropdown",96),f0("ngModelChange",function(o){return s.form.selectedOption=o}),b()()(),v(300,"h2"),C(301,"Form Results"),b(),v(302,"div",97),C(303),E2(304,"json"),b()(),v(305,"div",98)(306,"h1"),C(307,"Toast Messages"),b(),v(308,"div",99)(309,"button",18),f0("click",function(){return s.showToast("info")}),C(310,"Info"),b(),v(311,"button",18),f0("click",function(){return s.showToast("error")}),C(312,"Error"),b(),v(313,"button",18),f0("click",function(){return s.showToast("warning")}),C(314,"Warning"),b(),v(315,"button",18),f0("click",function(){return s.showToast("success")}),C(316,"Success"),b()()()()),i&2&&(F(77),Y("buttons",Ja(24,mp,L3(21,up),L3(22,dp),L3(23,pp))),F(1),Y("buttons",Ja(31,mp,L3(28,up),L3(29,dp),L3(30,pp))),F(1),Y("buttons",Ja(38,mp,L3(35,up),L3(36,dp),L3(37,pp))),F(1),Y("buttons",Ja(45,mp,L3(42,up),L3(43,dp),L3(44,pp))),F(178),Y("ngModel",s.form.textboxValue1),F(2),pL("peach"),Y("ngModel",s.form.textboxValue2),F(2),Y("errorMessage","This is an error message. You've done a whoopsie")("ngModel",s.form.textboxValue3),F(4),Y("ngModel",s.form.radioValue),F(3),Y("ngModel",s.form.radioValue),F(6),Y("ngModel",s.form.radioValueB),F(3),Y("ngModel",s.form.radioValueB),F(8),Y("ngModel",s.form.checkboxValue),F(4),Y("ngModel",s.form.checkboxValue2),F(9),Y("ngModel",s.form.selectedOption)("options",L3(49,R40)),F(4),m1(" ",n3(304,19,s.form)," "))},dependencies:[s1,o4,w8,ID,hi,oz,uz,L9,ED,ze,hz,OD,ui,hp],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.kitchen-sink[_ngcontent-%COMP%]{margin-bottom:120px}.toasts[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px}.toasts[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.form-input-region[_ngcontent-%COMP%]{background-color:#fff;padding:20px}.form-input-region[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.swatches[_ngcontent-%COMP%]{display:flex}.swatches[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:120px;margin:20px;border:1px solid #F2F2F2;border-radius:25px;padding-top:80px;padding-bottom:20px;padding-left:20px}.swatches[_ngcontent-%COMP%]   .color-swatch.light-beige[_ngcontent-%COMP%]{background-color:#faf7f6}.swatches[_ngcontent-%COMP%]   .color-swatch.brown[_ngcontent-%COMP%]{background-color:#3e1b07;color:#fff}.swatches[_ngcontent-%COMP%]   .color-swatch.white[_ngcontent-%COMP%]{background-color:#fff}.swatches[_ngcontent-%COMP%]   .color-swatch.grad-3[_ngcontent-%COMP%]{background:linear-gradient(60deg,#FFC586,25%,#FF7872,75%,#F57F9F)}.swatches[_ngcontent-%COMP%]   .color-swatch.grad-4[_ngcontent-%COMP%]{background:linear-gradient(60deg,#FF7872,5%,#FFC586,40%,#FCAB90,80%,#F57F9F)}.swatches[_ngcontent-%COMP%]   .color-swatch.yellow[_ngcontent-%COMP%]{background-color:#ffc586}.swatches[_ngcontent-%COMP%]   .color-swatch.coral[_ngcontent-%COMP%]{background-color:#ff7872}.swatches[_ngcontent-%COMP%]   .color-swatch.peach[_ngcontent-%COMP%]{background-color:#fcab90}.swatches[_ngcontent-%COMP%]   .color-swatch.pink[_ngcontent-%COMP%]{background-color:#f57f9f}.swatches[_ngcontent-%COMP%]   .color-swatch.grey-dark[_ngcontent-%COMP%]{background-color:#727272;color:#fff}.swatches[_ngcontent-%COMP%]   .color-swatch.grey-light[_ngcontent-%COMP%]{background-color:#cbcbcb}.button-set[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.button-region[_ngcontent-%COMP%]{padding:100px 20px}.button-region.gradient[_ngcontent-%COMP%]{color:#faf7f6;background:linear-gradient(60deg,#FF7872,5%,#FFC586,40%,#FCAB90,80%,#F57F9F)}']});let t=e;return t})();var pl=a4(pz()),vs=a4(mz());var S1=class extends Error{constructor(e,n){super(e),this.innerError=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";let r=JSON.stringify(e,(i,s)=>typeof s=="bigint"?s.toString():s);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,innerError:this.innerError}}},i2=class extends S1{constructor(e,n){super(`Invalid value given "${S1.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}};var Lo=class extends S1{constructor(){super("Private key must be 32 bytes."),this.code=701}},vp=class extends S1{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702}},bp=class extends S1{constructor(e){super(`"${e}"`),this.code=802}},Io=class extends S1{constructor(){super("Invalid key derivation function"),this.code=703}},xp=class extends S1{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704}},wp=class extends S1{constructor(){super("Unsupported key store version"),this.code=705}},yp=class extends S1{constructor(){super("Password cannot be empty"),this.code=706}},zp=class extends S1{constructor(){super("Initialization vector must be 16 bytes"),this.code=707}},Mp=class extends S1{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709}};var I9=class extends S1{constructor(e,n){super(e),this.code=500,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}};var Jt=class extends I9{constructor(e){super("Connection not open",e),this.code=503}};var Cp=class extends I9{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=505}},Ap=class extends I9{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506}},_p=class extends I9{constructor(e){super(`Request already sent with following id: ${e}`),this.code=507}};var Z4=class extends S1{constructor(e,n){super(e),this.code=300,this.receipt=n}},Do=class extends S1{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=301}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}};var Oo=class t extends Z4{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.innerError=new t(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}},f6=class extends Z4{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.innerError=new Oo(e)}},Ep=class extends i2{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=311}};var Sp=class extends S1{constructor(e){super(`ENS is not supported on network ${e}`),this.code=902}},kp=class extends S1{constructor(){super("Network not synced"),this.code=903}};var Fo=class extends S1{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=207}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}},Xt=class extends S1{constructor(){super(...arguments),this.code=201}},B6=class extends S1{constructor(){super("The method you're trying to call is not implemented."),this.code=202}},di=class extends S1{constructor(){super(...arguments),this.code=203}},Tp=class extends S1{constructor(){super(...arguments),this.code=204}},K1=class extends S1{constructor(e,n){super(e),this.code=205,this.props=n??{}}},Pp=class extends S1{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=206}};var D9=class extends S1{constructor(){super(...arguments),this.code=600}};var en=class extends S1{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=602}},u5=class extends S1{constructor(){super(...arguments),this.code=603}},Lp=class extends S1{constructor(){super(...arguments),this.code=604}};var Ip=class extends i2{constructor(){super(...arguments),this.code=801}};var Ho=class extends S1{constructor(e,n){super(e),this.receipt=n,this.code=400}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}};var O9=class extends S1{constructor(e,n,r,i){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${S1.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=i,this.code=402}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}},pi=class extends O9{constructor(e,n,r,i,s,a,o){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=i,this.signature=s,this.receipt=a,this.data=o,this.code=438}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}};var mi=class extends Ho{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${S1.convertToString(e)}`}`,e),this.code=405}};var Dp=class extends Ho{constructor(){super("Raw transaction undefined"),this.code=407}},Vo=class extends Ho{constructor(){super("Transaction not found"),this.code=430}},Ro=class extends i2{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=408}},Op=class extends i2{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=437}};var Fp=class extends i2{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410}},Hp=class extends i2{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411}},Vp=class extends i2{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412}},Rp=class extends i2{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435}},Np=class extends i2{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436}},Bp=class extends i2{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413}},Zp=class extends i2{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=414}},fz=class extends S1{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440}},jp=class extends i2{constructor(e){var n,r,i,s;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,'"gas" is missing'),this.code=415,this.innerError=new fz}},gz=class extends S1{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441}},Up=class extends i2{constructor(e){var n,r,i,s;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(i=e.maxPriorityFeePerGas)!==null&&i!==void 0?i:"undefined"}, maxFeePerGas: ${(s=e.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.innerError=new gz}},Gp=class extends i2{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=416}},qp=class extends i2{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417}},Wp=class extends i2{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=418}},No=class extends i2{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419}},$p=class extends i2{constructor(e){super(e,"invalid transaction object"),this.code=420}},Kp=class extends i2{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=421}},Qp=class extends i2{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422}},Yp=class extends i2{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423}},Bo=class extends i2{constructor(e){super(e,"unsupported transaction type"),this.code=424}},fi=class extends i2{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=425}},Jp=class extends S1{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=431}};function VD(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}var Xp=class extends S1{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${VD(e.transactionHash)}`),this.code=426}},Zo=class extends S1{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${VD(e.transactionHash)}`),this.code=432}},em=class extends i2{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=427}},tm=class extends i2{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=428}},gi=class extends S1{constructor(e){super(`Invalid signature. "${e}"`),this.code=433}},jo=class extends i2{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429}},nm=class extends S1{constructor(e,n){let r=[];e.forEach(i=>r.push(i.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=439}};var y8=class extends i2{constructor(e){super(e,"can not parse as byte data"),this.code=1002}},tn=class extends i2{constructor(e){super(e,"can not parse as number data"),this.code=1003}},F9=class extends i2{constructor(e){super(e,"invalid ethereum address"),this.code=1005}},rm=class extends i2{constructor(e){super(e,"not a valid string"),this.code=1001}},Uo=class extends i2{constructor(e){super(e,"invalid unit"),this.code=1004}},im=class extends i2{constructor(e){super(e,"can not be converted to hex"),this.code=1006}},Go=class extends i2{constructor(e){super(e,"value greater than the nibble width"),this.code=1014}};var H9=class extends i2{constructor(e){super(e,"not a valid boolean."),this.code=1008}},sm=class extends i2{constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}},qo=class extends i2{constructor(e){super(e,"invalid size given."),this.code=1010}},Wo=class extends i2{constructor(e){super(e,"value is larger than size."),this.code=1011}},am=class extends i2{constructor(e){super(e,"invalid string given"),this.code=1012}};var f60=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),RD=t=>f60(t)?t.error.message:"",G5=class extends S1{constructor(e,n,r){var i;super(n??`Returned error: ${Array.isArray(e)?e.map(a=>RD(a)).join(","):RD(e)}`),this.code=100,n||(this.data=Array.isArray(e)?e.map(a=>{var o;return(o=a.error)===null||o===void 0?void 0:o.data}):(i=e?.error)===null||i===void 0?void 0:i.data),this.request=r;let s;"error"in e?s=e.error:e instanceof Array&&(s=e.map(a=>a.error)),this.innerError=s}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request})}},T7=class extends G5{constructor(e,n){super(e,void 0,n),this.code=101;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(i=>i.error)),this.innerError=r}};var $o=class extends S1{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=1101}},Ko=class extends S1{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=1101}};var vz="An Rpc error has occured with a code of *code*",Q4={[-32700]:{message:"Parse error",description:"Invalid JSON"},[-32600]:{message:"Invalid request",description:"JSON is not a valid request object	"},[-32601]:{message:"Method not found",description:"Method does not exist	"},[-32602]:{message:"Invalid params",description:"Invalid method parameters"},[-32603]:{message:"Internal error",description:"Internal JSON-RPC error"},[-32e3]:{message:"Invalid input",description:"Missing or invalid parameters"},[-32001]:{message:"Resource not found",description:"Requested resource not found"},[-32002]:{message:"Resource unavailable",description:"Requested resource not available"},[-32003]:{message:"Transaction rejected",description:"Transaction creation failed"},[-32004]:{message:"Method not supported",description:"Method is not implemented"},[-32005]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[-32006]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[4001]:{name:"User Rejected Request",message:"The user rejected the request."},[4100]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[4200]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[4900]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[4901]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};var d5=class extends S1{constructor(e,n){super(n??vz.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}},om=class extends S1{constructor(e,n){var r,i,s,a;if(!e)super();else if(!((r=Q4[e])===null||r===void 0)&&r.message)super(Q4[e].message);else{let o=Object.keys(Q4).find(c=>typeof c=="string"&&e>=parseInt(c.split("-")[0],10)&&e<=parseInt(c.split("-")[1],10));super((s=(i=Q4[o??""])===null||i===void 0?void 0:i.message)!==null&&s!==void 0?s:vz.replace("*code*",(a=e?.toString())!==null&&a!==void 0?a:'""'))}this.code=e,this.data=n}},bz=class extends d5{constructor(e){super(e,Q4[-32700].message),this.code=-32700}},xz=class extends d5{constructor(e){super(e,Q4[-32600].message),this.code=-32600}},wz=class extends d5{constructor(e){super(e,Q4[-32601].message),this.code=-32601}},yz=class extends d5{constructor(e){super(e,Q4[-32602].message),this.code=-32602}},zz=class extends d5{constructor(e){super(e,Q4[-32603].message),this.code=-32603}},Mz=class extends d5{constructor(e){super(e,Q4[-32e3].message),this.code=-32e3}},Cz=class extends d5{constructor(e){super(e,Q4[-32004].message),this.code=-32004}},Az=class extends d5{constructor(e){super(e,Q4[-32002].message),this.code=-32002}},_z=class extends d5{constructor(e){super(e,Q4[-32001].message),this.code=-32001}},Ez=class extends d5{constructor(e){super(e,Q4[-32006].message),this.code=-32006}},Sz=class extends d5{constructor(e){super(e,Q4[-32003].message),this.code=-32003}},kz=class extends d5{constructor(e){super(e,Q4[-32005].message),this.code=-32005}},Y4=new Map;Y4.set(-32700,{error:bz});Y4.set(-32600,{error:xz});Y4.set(-32601,{error:wz});Y4.set(-32602,{error:yz});Y4.set(-32603,{error:zz});Y4.set(-32e3,{error:Mz});Y4.set(-32004,{error:Cz});Y4.set(-32002,{error:Az});Y4.set(-32003,{error:Sz});Y4.set(-32001,{error:_z});Y4.set(-32006,{error:Ez});Y4.set(-32005,{error:kz});var cm=class extends S1{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}};var Pc={};M5(Pc,{ChunkResponseParser:()=>Tc,Eip1193Provider:()=>Oi,EventEmitter:()=>hn,SocketProvider:()=>Fi,Web3DeferredPromise:()=>G9,asciiToHex:()=>SO,bytesToHex:()=>D1,bytesToUint8Array:()=>T5,checkAddressCheckSum:()=>S80,compareBlockNumbers:()=>O80,convert:()=>Fm,convertScalarValue:()=>Cc,encodePacked:()=>fM,ethUnitMap:()=>oM,format:()=>U0,fromAscii:()=>f80,fromDecimal:()=>d80,fromTwosComplement:()=>F80,fromUtf8:()=>Pm,fromWei:()=>v80,getStorageSlotNumForLongString:()=>j80,hexToAscii:()=>kO,hexToBytes:()=>W2,hexToNumber:()=>ln,hexToNumberString:()=>_O,hexToString:()=>m80,hexToUtf8:()=>Mc,isAddress:()=>ZO,isBatchRequest:()=>jm,isBatchResponse:()=>kc,isBloom:()=>k80,isContractAddressInBloom:()=>L80,isContractInitOptions:()=>U6,isDataFormat:()=>F7,isHex:()=>E80,isHexStrict:()=>BO,isInBloom:()=>T80,isNullish:()=>k1,isPromise:()=>gM,isResponseRpcError:()=>Bm,isResponseWithError:()=>Sc,isResponseWithNotification:()=>Zm,isResponseWithResult:()=>Ec,isSubscriptionResult:()=>YO,isTopic:()=>I80,isTopicInBloom:()=>D80,isUserEthereumAddressInBloom:()=>P80,isValidResponse:()=>bM,jsonRpc:()=>p3,keccak256:()=>U9,keccak256Wrapper:()=>U9,leftPad:()=>j9,mergeDeep:()=>G6,numberToHex:()=>_4,padLeft:()=>Z9,padRight:()=>UO,pollTillDefined:()=>G80,pollTillDefinedAndReturnIntervalId:()=>Vm,processSolidityEncodePackedArgs:()=>$O,randomBytes:()=>dn,randomHex:()=>U80,rejectIfConditionAtInterval:()=>vM,rejectIfTimeout:()=>Ac,rightPad:()=>Om,setRequestIdStart:()=>JO,sha3:()=>Ii,sha3Raw:()=>H4,soliditySha3:()=>B80,soliditySha3Raw:()=>Z80,stringToHex:()=>p80,toAscii:()=>g80,toBatchPayload:()=>XO,toBigInt:()=>_8,toBool:()=>cM,toChecksumAddress:()=>J4,toDecimal:()=>u80,toHex:()=>q5,toNumber:()=>j4,toPayload:()=>Di,toTwosComplement:()=>pM,toUtf8:()=>EO,toWei:()=>b80,uint8ArrayConcat:()=>Y3,uint8ArrayEquals:()=>un,utf8ToBytes:()=>Lm,utf8ToHex:()=>P5,uuidV4:()=>_c,validateResponse:()=>Nm,waitWithTimeout:()=>QO});function Tz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function M60(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function BD(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function C60(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Tz(t.outputLen),Tz(t.blockLen)}function A60(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _60(t,e){BD(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var E60={number:Tz,bool:M60,bytes:BD,hash:C60,exists:A60,output:_60},i3=E60;var lm=BigInt(4294967295),Pz=BigInt(32);function ZD(t,e=!1){return e?{h:Number(t&lm),l:Number(t>>Pz&lm)}:{h:Number(t>>Pz&lm)|0,l:Number(t&lm)|0}}function S60(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=ZD(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}var k60=(t,e)=>BigInt(t>>>0)<<Pz|BigInt(e>>>0),T60=(t,e,n)=>t>>>n,P60=(t,e,n)=>t<<32-n|e>>>n,L60=(t,e,n)=>t>>>n|e<<32-n,I60=(t,e,n)=>t<<32-n|e>>>n,D60=(t,e,n)=>t<<64-n|e>>>n-32,O60=(t,e,n)=>t>>>n-32|e<<64-n,F60=(t,e)=>e,H60=(t,e)=>t,V60=(t,e,n)=>t<<n|e>>>32-n,R60=(t,e,n)=>e<<n|t>>>32-n,N60=(t,e,n)=>e<<n-32|t>>>64-n,B60=(t,e,n)=>t<<n-32|e>>>64-n;function Z60(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}var j60=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),U60=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,G60=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),q60=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,W60=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),$60=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,K60={fromBig:ZD,split:S60,toBig:k60,shrSH:T60,shrSL:P60,rotrSH:L60,rotrSL:I60,rotrBH:D60,rotrBL:O60,rotr32H:F60,rotr32L:H60,rotlSH:V60,rotlSL:R60,rotlBH:N60,rotlBL:B60,add:Z60,add3L:j60,add3H:U60,add4L:G60,add4H:q60,add5H:$60,add5L:W60},e2=K60;var vi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var jD=t=>t instanceof Uint8Array;var bi=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),nn=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),P7=(t,e)=>t<<32-e|t>>>e,Q60=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Q60)throw new Error("Non little-endian hardware is not supported");var sC0=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function z8(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function L7(t){if(typeof t=="string"&&(t=z8(t)),!jD(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function rn(...t){let e=new Uint8Array(t.reduce((r,i)=>r+i.length,0)),n=0;return t.forEach(r=>{if(!jD(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}var V9=class{clone(){return this._cloneInto()}},Y60=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function hm(t,e){if(e!==void 0&&(typeof e!="object"||!Y60(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}function M8(t){let e=r=>t().update(L7(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function UD(t){let e=(r,i)=>t(i).update(L7(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function cc(t=32){if(vi&&typeof vi.getRandomValues=="function")return vi.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var[WD,$D,KD]=[[],[],[]],J60=BigInt(0),lc=BigInt(1),X60=BigInt(2),e70=BigInt(7),t70=BigInt(256),n70=BigInt(113);for(let t=0,e=lc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],WD.push(2*(5*r+n)),$D.push((t+1)*(t+2)/2%64);let i=J60;for(let s=0;s<7;s++)e=(e<<lc^(e>>e70)*n70)%t70,e&X60&&(i^=lc<<(lc<<BigInt(s))-lc);KD.push(i)}var[r70,i70]=e2.split(KD,!0),GD=(t,e,n)=>n>32?e2.rotlBH(t,e,n):e2.rotlSH(t,e,n),qD=(t,e,n)=>n>32?e2.rotlBL(t,e,n):e2.rotlSL(t,e,n);function s70(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let o=(a+8)%10,c=(a+2)%10,l=n[c],h=n[c+1],u=GD(l,h,1)^n[o],p=qD(l,h,1)^n[o+1];for(let g=0;g<50;g+=10)t[a+g]^=u,t[a+g+1]^=p}let i=t[2],s=t[3];for(let a=0;a<24;a++){let o=$D[a],c=GD(i,s,o),l=qD(i,s,o),h=WD[a];i=t[h],s=t[h+1],t[h]=c,t[h+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=r70[r],t[1]^=i70[r]}n.fill(0)}var um=class t extends V9{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i3.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bi(this.state)}keccak(){s70(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i3.exists(this);let{blockLen:n,state:r}=this;e=L7(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){i3.exists(this,!1),i3.bytes(e),this.finish();let n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i3.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i3.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},R9=(t,e,n)=>M8(()=>new um(e,t,n)),uC0=R9(6,144,224/8),dC0=R9(6,136,256/8),pC0=R9(6,104,384/8),mC0=R9(6,72,512/8),QD=R9(1,144,224/8),Lz=R9(1,136,256/8),YD=R9(1,104,384/8),JD=R9(1,72,512/8),XD=(t,e,n)=>UD((r={})=>new um(e,t,r.dkLen===void 0?n:r.dkLen,!0)),fC0=XD(31,168,128/8),gC0=XD(31,136,256/8);var yC0=i3.bool,xi=i3.bytes;function Iz(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function eO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hc(t){return e=>(i3.bytes(e),t(e))}var zC0=(()=>{let t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();var EC0=hc(QD),U3=(()=>{let t=hc(Lz);return t.create=Lz.create,t})(),SC0=hc(YD),kC0=hc(JD);var s3;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{let s={};for(let a of i)s[a]=a;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(let o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(let a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(s3||(s3={}));var rO=function(t){return t.mergeShapes=(e,n)=>c0(c0({},e),n),t}(rO||{}),f1=s3.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),N9=t=>{switch(typeof t){case"undefined":return f1.undefined;case"string":return f1.string;case"number":return isNaN(t)?f1.nan:f1.number;case"boolean":return f1.boolean;case"function":return f1.function;case"bigint":return f1.bigint;case"symbol":return f1.symbol;case"object":return Array.isArray(t)?f1.array:t===null?f1.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?f1.promise:typeof Map<"u"&&t instanceof Map?f1.map:typeof Set<"u"&&t instanceof Set?f1.set:typeof Date<"u"&&t instanceof Date?f1.date:f1.object;default:return f1.unknown}},Q0=s3.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),o70=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Me=(()=>{class t extends Error{constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){let r=n||function(a){return a.message},i={_errors:[]},s=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)i._errors.push(r(o));else{let c=i,l=0;for(;l<o.path.length;){let h=o.path[l];l===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(r(o))):c[h]=c[h]||{_errors:[]},c=c[h],l++}}};return s(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,s3.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=r=>r.message){let r={},i=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(n(s))):i.push(n(s));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}return t.create=e=>new t(e),t})(),dc=(t,e)=>{let n;switch(t.code){case Q0.invalid_type:t.received===f1.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q0.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,s3.jsonStringifyReplacer)}`;break;case Q0.unrecognized_keys:n=`Unrecognized key(s) in object: ${s3.joinValues(t.keys,", ")}`;break;case Q0.invalid_union:n="Invalid input";break;case Q0.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${s3.joinValues(t.options)}`;break;case Q0.invalid_enum_value:n=`Invalid enum value. Expected ${s3.joinValues(t.options)}, received '${t.received}'`;break;case Q0.invalid_arguments:n="Invalid function arguments";break;case Q0.invalid_return_type:n="Invalid function return type";break;case Q0.invalid_date:n="Invalid date";break;case Q0.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:s3.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q0.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q0.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q0.custom:n="Invalid input";break;case Q0.invalid_intersection_types:n="Intersection results could not be merged";break;case Q0.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q0.not_finite:n="Number must be finite";break;default:n=e.defaultError,s3.assertNever(t)}return{message:n}},iO=dc;function c70(t){iO=t}function pm(){return iO}var mm=t=>{let{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a=i1(c0({},i),{path:s}),o="",c=r.filter(l=>!!l).slice().reverse();for(let l of c)o=l(a,{data:e,defaultError:o}).message;return i1(c0({},i),{path:s,message:i.message||o})},l70=[];function y1(t,e){let n=mm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pm(),dc].filter(r=>!!r)});t.common.issues.push(n)}var p5=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){let r=[];for(let i of n){if(i.status==="aborted")return s2;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,n){return y0(this,null,function*(){let r=[];for(let i of n)r.push({key:yield i.key,value:yield i.value});return t.mergeObjectSync(e,r)})}static mergeObjectSync(e,n){let r={};for(let i of n){let{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return s2;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}},s2=Object.freeze({status:"aborted"}),sO=t=>({status:"dirty",value:t}),S5=t=>({status:"valid",value:t}),Oz=t=>t.status==="aborted",Fz=t=>t.status==="dirty",pc=t=>t.status==="valid",fm=t=>typeof Promise<"u"&&t instanceof Promise,N1=function(t){return t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message,t}(N1||{}),Z6=class{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},tO=(t,e)=>{if(pc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new Me(t.common.issues);return this._error=n,this._error}}};function d2(t){if(!t)return{};let{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>a.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:n??o.defaultError},description:i}}var p2=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return N9(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:N9(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new p5,ctx:{common:e.parent.common,data:e.data,parsedType:N9(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let n=this._parse(e);if(fm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){let n=this._parse(e);return Promise.resolve(n)}parse(e,n){let r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;let i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:N9(e)},s=this._parseSync({data:e,path:i.path,parent:i});return tO(i,s)}parseAsync(e,n){return y0(this,null,function*(){let r=yield this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error})}safeParseAsync(e,n){return y0(this,null,function*(){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:N9(e)},i=this._parse({data:e,path:r.path,parent:r}),s=yield fm(i)?i:Promise.resolve(i);return tO(r,s)})}refine(e,n){let r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{let a=e(i),o=()=>s.addIssue(c0({code:Q0.custom},r(i)));return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new on({schema:this,typeName:X1.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return an.create(this,this._def)}nullable(){return fc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mc.create(this,this._def)}promise(){return Mm.create(this,this._def)}or(e){return Uz.create([this,e],this._def)}and(e){return Gz.create(this,e,this._def)}transform(e){return new on(i1(c0({},d2(this._def)),{schema:this,typeName:X1.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let n=typeof e=="function"?e:()=>e;return new Kz(i1(c0({},d2(this._def)),{innerType:this,defaultValue:n,typeName:X1.ZodDefault}))}brand(){return new wm(c0({typeName:X1.ZodBranded,type:this},d2(this._def)))}catch(e){let n=typeof e=="function"?e:()=>e;return new uO(i1(c0({},d2(this._def)),{innerType:this,catchValue:n,typeName:X1.ZodCatch}))}describe(e){let n=this.constructor;return new n(i1(c0({},this._def),{description:e}))}pipe(e){return gc.create(this,e)}readonly(){return pO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},h70=/^c[^\s-]{8,}$/i,u70=/^[a-z][a-z0-9]*$/,d70=/^[0-9A-HJKMNP-TV-Z]{26}$/,p70=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m70=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f70="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Dz,g70=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,v70=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,b70=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function x70(t,e){return!!((e==="v4"||!e)&&g70.test(t)||(e==="v6"||!e)&&v70.test(t))}var ym=(()=>{class t extends p2{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==f1.string){let a=this._getOrReturnCtx(n);return y1(a,{code:Q0.invalid_type,expected:f1.string,received:a.parsedType}),s2}let i=new p5,s;for(let a of this._def.checks)if(a.kind==="min")n.data.length<a.value&&(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")n.data.length>a.value&&(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){let o=n.data.length>a.value,c=n.data.length<a.value;(o||c)&&(s=this._getOrReturnCtx(n,s),o?y1(s,{code:Q0.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&y1(s,{code:Q0.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")m70.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"email",code:Q0.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Dz||(Dz=new RegExp(f70,"u")),Dz.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"emoji",code:Q0.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")p70.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"uuid",code:Q0.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")h70.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"cuid",code:Q0.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")u70.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"cuid2",code:Q0.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")d70.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"ulid",code:Q0.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(n.data)}catch{s=this._getOrReturnCtx(n,s),y1(s,{validation:"url",code:Q0.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"regex",code:Q0.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?n.data=n.data.trim():a.kind==="includes"?n.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?n.data=n.data.toLowerCase():a.kind==="toUpperCase"?n.data=n.data.toUpperCase():a.kind==="startsWith"?n.data.startsWith(a.value)||(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?n.data.endsWith(a.value)||(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?b70(a).test(n.data)||(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="ip"?x70(n.data,a.version)||(s=this._getOrReturnCtx(n,s),y1(s,{validation:"ip",code:Q0.invalid_string,message:a.message}),i.dirty()):s3.assertNever(a);return{status:i.value,value:n.data}}_regex(n,r,i){return this.refinement(s=>n.test(s),c0({validation:r,code:Q0.invalid_string},N1.errToObj(i)))}_addCheck(n){return new t(i1(c0({},this._def),{checks:[...this._def.checks,n]}))}email(n){return this._addCheck(c0({kind:"email"},N1.errToObj(n)))}url(n){return this._addCheck(c0({kind:"url"},N1.errToObj(n)))}emoji(n){return this._addCheck(c0({kind:"emoji"},N1.errToObj(n)))}uuid(n){return this._addCheck(c0({kind:"uuid"},N1.errToObj(n)))}cuid(n){return this._addCheck(c0({kind:"cuid"},N1.errToObj(n)))}cuid2(n){return this._addCheck(c0({kind:"cuid2"},N1.errToObj(n)))}ulid(n){return this._addCheck(c0({kind:"ulid"},N1.errToObj(n)))}ip(n){return this._addCheck(c0({kind:"ip"},N1.errToObj(n)))}datetime(n){var r;return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:n}):this._addCheck(c0({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:(r=n?.offset)!==null&&r!==void 0?r:!1},N1.errToObj(n?.message)))}regex(n,r){return this._addCheck(c0({kind:"regex",regex:n},N1.errToObj(r)))}includes(n,r){return this._addCheck(c0({kind:"includes",value:n,position:r?.position},N1.errToObj(r?.message)))}startsWith(n,r){return this._addCheck(c0({kind:"startsWith",value:n},N1.errToObj(r)))}endsWith(n,r){return this._addCheck(c0({kind:"endsWith",value:n},N1.errToObj(r)))}min(n,r){return this._addCheck(c0({kind:"min",value:n},N1.errToObj(r)))}max(n,r){return this._addCheck(c0({kind:"max",value:n},N1.errToObj(r)))}length(n,r){return this._addCheck(c0({kind:"length",value:n},N1.errToObj(r)))}nonempty(n){return this.min(1,N1.errToObj(n))}trim(){return new t(i1(c0({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new t(i1(c0({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new t(i1(c0({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get minLength(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxLength(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}}return t.create=e=>{var n;return new t(c0({checks:[],typeName:X1.ZodString,coerce:(n=e?.coerce)!==null&&n!==void 0?n:!1},d2(e)))},t})();function w70(t,e){let n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}var Vz=(()=>{class t extends p2{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==f1.number){let a=this._getOrReturnCtx(n);return y1(a,{code:Q0.invalid_type,expected:f1.number,received:a.parsedType}),s2}let i,s=new p5;for(let a of this._def.checks)a.kind==="int"?s3.isInteger(n.data)||(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?n.data<a.value:n.data<=a.value)&&(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?n.data>a.value:n.data>=a.value)&&(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?w70(n.data,a.value)!==0&&(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(n.data)||(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.not_finite,message:a.message}),s.dirty()):s3.assertNever(a);return{status:s.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,N1.toString(r))}gt(n,r){return this.setLimit("min",n,!1,N1.toString(r))}lte(n,r){return this.setLimit("max",n,!0,N1.toString(r))}lt(n,r){return this.setLimit("max",n,!1,N1.toString(r))}setLimit(n,r,i,s){return new t(i1(c0({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:i,message:N1.toString(s)}]}))}_addCheck(n){return new t(i1(c0({},this._def),{checks:[...this._def.checks,n]}))}int(n){return this._addCheck({kind:"int",message:N1.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N1.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N1.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N1.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N1.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:N1.toString(r)})}finite(n){return this._addCheck({kind:"finite",message:N1.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N1.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N1.toString(n)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&s3.isInteger(n.value))}get isFinite(){let n=null,r=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(r)&&Number.isFinite(n)}}return t.create=e=>new t(c0({checks:[],typeName:X1.ZodNumber,coerce:e?.coerce||!1},d2(e))),t})(),Rz=(()=>{class t extends p2{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce&&(n.data=BigInt(n.data)),this._getType(n)!==f1.bigint){let a=this._getOrReturnCtx(n);return y1(a,{code:Q0.invalid_type,expected:f1.bigint,received:a.parsedType}),s2}let i,s=new p5;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?n.data<a.value:n.data<=a.value)&&(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?n.data>a.value:n.data>=a.value)&&(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?n.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(n,i),y1(i,{code:Q0.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):s3.assertNever(a);return{status:s.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,N1.toString(r))}gt(n,r){return this.setLimit("min",n,!1,N1.toString(r))}lte(n,r){return this.setLimit("max",n,!0,N1.toString(r))}lt(n,r){return this.setLimit("max",n,!1,N1.toString(r))}setLimit(n,r,i,s){return new t(i1(c0({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:i,message:N1.toString(s)}]}))}_addCheck(n){return new t(i1(c0({},this._def),{checks:[...this._def.checks,n]}))}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N1.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N1.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N1.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N1.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:N1.toString(r)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}}return t.create=e=>{var n;return new t(c0({checks:[],typeName:X1.ZodBigInt,coerce:(n=e?.coerce)!==null&&n!==void 0?n:!1},d2(e)))},t})(),Nz=(()=>{class t extends p2{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==f1.boolean){let i=this._getOrReturnCtx(n);return y1(i,{code:Q0.invalid_type,expected:f1.boolean,received:i.parsedType}),s2}return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodBoolean,coerce:e?.coerce||!1},d2(e))),t})(),Bz=(()=>{class t extends p2{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==f1.date){let a=this._getOrReturnCtx(n);return y1(a,{code:Q0.invalid_type,expected:f1.date,received:a.parsedType}),s2}if(isNaN(n.data.getTime())){let a=this._getOrReturnCtx(n);return y1(a,{code:Q0.invalid_date}),s2}let i=new p5,s;for(let a of this._def.checks)a.kind==="min"?n.data.getTime()<a.value&&(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?n.data.getTime()>a.value&&(s=this._getOrReturnCtx(n,s),y1(s,{code:Q0.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):s3.assertNever(a);return{status:i.value,value:new Date(n.data.getTime())}}_addCheck(n){return new t(i1(c0({},this._def),{checks:[...this._def.checks,n]}))}min(n,r){return this._addCheck({kind:"min",value:n.getTime(),message:N1.toString(r)})}max(n,r){return this._addCheck({kind:"max",value:n.getTime(),message:N1.toString(r)})}get minDate(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n!=null?new Date(n):null}}return t.create=e=>new t(c0({checks:[],coerce:e?.coerce||!1,typeName:X1.ZodDate},d2(e))),t})(),aO=(()=>{class t extends p2{_parse(n){if(this._getType(n)!==f1.symbol){let i=this._getOrReturnCtx(n);return y1(i,{code:Q0.invalid_type,expected:f1.symbol,received:i.parsedType}),s2}return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodSymbol},d2(e))),t})(),Zz=(()=>{class t extends p2{_parse(n){if(this._getType(n)!==f1.undefined){let i=this._getOrReturnCtx(n);return y1(i,{code:Q0.invalid_type,expected:f1.undefined,received:i.parsedType}),s2}return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodUndefined},d2(e))),t})(),jz=(()=>{class t extends p2{_parse(n){if(this._getType(n)!==f1.null){let i=this._getOrReturnCtx(n);return y1(i,{code:Q0.invalid_type,expected:f1.null,received:i.parsedType}),s2}return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodNull},d2(e))),t})(),gm=(()=>{class t extends p2{constructor(){super(...arguments),this._any=!0}_parse(n){return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodAny},d2(e))),t})(),uc=(()=>{class t extends p2{constructor(){super(...arguments),this._unknown=!0}_parse(n){return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodUnknown},d2(e))),t})(),sn=(()=>{class t extends p2{_parse(n){let r=this._getOrReturnCtx(n);return y1(r,{code:Q0.invalid_type,expected:f1.never,received:r.parsedType}),s2}}return t.create=e=>new t(c0({typeName:X1.ZodNever},d2(e))),t})(),oO=(()=>{class t extends p2{_parse(n){if(this._getType(n)!==f1.undefined){let i=this._getOrReturnCtx(n);return y1(i,{code:Q0.invalid_type,expected:f1.void,received:i.parsedType}),s2}return S5(n.data)}}return t.create=e=>new t(c0({typeName:X1.ZodVoid},d2(e))),t})(),mc=(()=>{class t extends p2{_parse(n){let{ctx:r,status:i}=this._processInputParams(n),s=this._def;if(r.parsedType!==f1.array)return y1(r,{code:Q0.invalid_type,expected:f1.array,received:r.parsedType}),s2;if(s.exactLength!==null){let o=r.data.length>s.exactLength.value,c=r.data.length<s.exactLength.value;(o||c)&&(y1(r,{code:o?Q0.too_big:Q0.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(y1(r,{code:Q0.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(y1(r,{code:Q0.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>s.type._parseAsync(new Z6(r,o,r.path,c)))).then(o=>p5.mergeArray(i,o));let a=[...r.data].map((o,c)=>s.type._parseSync(new Z6(r,o,r.path,c)));return p5.mergeArray(i,a)}get element(){return this._def.type}min(n,r){return new t(i1(c0({},this._def),{minLength:{value:n,message:N1.toString(r)}}))}max(n,r){return new t(i1(c0({},this._def),{maxLength:{value:n,message:N1.toString(r)}}))}length(n,r){return new t(i1(c0({},this._def),{exactLength:{value:n,message:N1.toString(r)}}))}nonempty(n){return this.min(1,n)}}return t.create=(e,n)=>new t(c0({type:e,minLength:null,maxLength:null,exactLength:null,typeName:X1.ZodArray},d2(n))),t})();function wi(t){if(t instanceof yi){let e={};for(let n in t.shape){let r=t.shape[n];e[n]=an.create(wi(r))}return new yi(i1(c0({},t._def),{shape:()=>e}))}else return t instanceof mc?new mc(i1(c0({},t._def),{type:wi(t.element)})):t instanceof an?an.create(wi(t.unwrap())):t instanceof fc?fc.create(wi(t.unwrap())):t instanceof zi?zi.create(t.items.map(e=>wi(e))):t}var yi=(()=>{class t extends p2{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let n=this._def.shape(),r=s3.objectKeys(n);return this._cached={shape:n,keys:r}}_parse(n){if(this._getType(n)!==f1.object){let h=this._getOrReturnCtx(n);return y1(h,{code:Q0.invalid_type,expected:f1.object,received:h.parsedType}),s2}let{status:i,ctx:s}=this._processInputParams(n),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof sn&&this._def.unknownKeys==="strip"))for(let h in s.data)o.includes(h)||c.push(h);let l=[];for(let h of o){let u=a[h],p=s.data[h];l.push({key:{status:"valid",value:h},value:u._parse(new Z6(s,p,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof sn){let h=this._def.unknownKeys;if(h==="passthrough")for(let u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(h==="strict")c.length>0&&(y1(s,{code:Q0.unrecognized_keys,keys:c}),i.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let h=this._def.catchall;for(let u of c){let p=s.data[u];l.push({key:{status:"valid",value:u},value:h._parse(new Z6(s,p,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(()=>y0(this,null,function*(){let h=[];for(let u of l){let p=yield u.key;h.push({key:p,value:yield u.value,alwaysSet:u.alwaysSet})}return h})).then(h=>p5.mergeObjectSync(i,h)):p5.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(n){return N1.errToObj,new t(c0(i1(c0({},this._def),{unknownKeys:"strict"}),n!==void 0?{errorMap:(r,i)=>{var s,a,o,c;let l=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,i).message)!==null&&o!==void 0?o:i.defaultError;return r.code==="unrecognized_keys"?{message:(c=N1.errToObj(n).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}))}strip(){return new t(i1(c0({},this._def),{unknownKeys:"strip"}))}passthrough(){return new t(i1(c0({},this._def),{unknownKeys:"passthrough"}))}extend(n){return new t(i1(c0({},this._def),{shape:()=>c0(c0({},this._def.shape()),n)}))}merge(n){return new t({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>c0(c0({},this._def.shape()),n._def.shape()),typeName:X1.ZodObject})}setKey(n,r){return this.augment({[n]:r})}catchall(n){return new t(i1(c0({},this._def),{catchall:n}))}pick(n){let r={};return s3.objectKeys(n).forEach(i=>{n[i]&&this.shape[i]&&(r[i]=this.shape[i])}),new t(i1(c0({},this._def),{shape:()=>r}))}omit(n){let r={};return s3.objectKeys(this.shape).forEach(i=>{n[i]||(r[i]=this.shape[i])}),new t(i1(c0({},this._def),{shape:()=>r}))}deepPartial(){return wi(this)}partial(n){let r={};return s3.objectKeys(this.shape).forEach(i=>{let s=this.shape[i];n&&!n[i]?r[i]=s:r[i]=s.optional()}),new t(i1(c0({},this._def),{shape:()=>r}))}required(n){let r={};return s3.objectKeys(this.shape).forEach(i=>{if(n&&!n[i])r[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof an;)a=a._def.innerType;r[i]=a}}),new t(i1(c0({},this._def),{shape:()=>r}))}keyof(){return hO(s3.objectKeys(this.shape))}}return t.create=(e,n)=>new t(c0({shape:()=>e,unknownKeys:"strip",catchall:sn.create(),typeName:X1.ZodObject},d2(n))),t.strictCreate=(e,n)=>new t(c0({shape:()=>e,unknownKeys:"strict",catchall:sn.create(),typeName:X1.ZodObject},d2(n))),t.lazycreate=(e,n)=>new t(c0({shape:e,unknownKeys:"strip",catchall:sn.create(),typeName:X1.ZodObject},d2(n))),t})(),Uz=(()=>{class t extends p2{_parse(n){let{ctx:r}=this._processInputParams(n),i=this._def.options;function s(a){for(let c of a)if(c.result.status==="valid")return c.result;for(let c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;let o=a.map(c=>new Me(c.ctx.common.issues));return y1(r,{code:Q0.invalid_union,unionErrors:o}),s2}if(r.common.async)return Promise.all(i.map(a=>y0(this,null,function*(){let o=i1(c0({},r),{common:i1(c0({},r.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}}))).then(s);{let a,o=[];for(let l of i){let h=i1(c0({},r),{common:i1(c0({},r.common),{issues:[]}),parent:null}),u=l._parseSync({data:r.data,path:r.path,parent:h});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let c=o.map(l=>new Me(l));return y1(r,{code:Q0.invalid_union,unionErrors:c}),s2}}get options(){return this._def.options}}return t.create=(e,n)=>new t(c0({options:e,typeName:X1.ZodUnion},d2(n))),t})(),dm=t=>t instanceof qz?dm(t.schema):t instanceof on?dm(t.innerType()):t instanceof Wz?[t.value]:t instanceof zm?t.options:t instanceof $z?Object.keys(t.enum):t instanceof Kz?dm(t._def.innerType):t instanceof Zz?[void 0]:t instanceof jz?[null]:null,vm=class t extends p2{_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==f1.object)return y1(n,{code:Q0.invalid_type,expected:f1.object,received:n.parsedType}),s2;let r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(y1(n,{code:Q0.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),s2)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){let i=new Map;for(let s of n){let a=dm(s.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new t(c0({typeName:X1.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i},d2(r)))}};function Hz(t,e){let n=N9(t),r=N9(e);if(t===e)return{valid:!0,data:t};if(n===f1.object&&r===f1.object){let i=s3.objectKeys(e),s=s3.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a=c0(c0({},t),e);for(let o of s){let c=Hz(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===f1.array&&r===f1.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let a=t[s],o=e[s],c=Hz(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===f1.date&&r===f1.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Gz=(()=>{class t extends p2{_parse(n){let{status:r,ctx:i}=this._processInputParams(n),s=(a,o)=>{if(Oz(a)||Oz(o))return s2;let c=Hz(a.value,o.value);return c.valid?((Fz(a)||Fz(o))&&r.dirty(),{status:r.value,value:c.data}):(y1(i,{code:Q0.invalid_intersection_types}),s2)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}return t.create=(e,n,r)=>new t(c0({left:e,right:n,typeName:X1.ZodIntersection},d2(r))),t})(),zi=(()=>{class t extends p2{_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==f1.array)return y1(i,{code:Q0.invalid_type,expected:f1.array,received:i.parsedType}),s2;if(i.data.length<this._def.items.length)return y1(i,{code:Q0.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s2;!this._def.rest&&i.data.length>this._def.items.length&&(y1(i,{code:Q0.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...i.data].map((o,c)=>{let l=this._def.items[c]||this._def.rest;return l?l._parse(new Z6(i,o,i.path,c)):null}).filter(o=>!!o);return i.common.async?Promise.all(a).then(o=>p5.mergeArray(r,o)):p5.mergeArray(r,a)}get items(){return this._def.items}rest(n){return new t(i1(c0({},this._def),{rest:n}))}}return t.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new t(c0({items:e,typeName:X1.ZodTuple,rest:null},d2(n)))},t})(),bm=class t extends p2{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==f1.object)return y1(r,{code:Q0.invalid_type,expected:f1.object,received:r.parsedType}),s2;let i=[],s=this._def.keyType,a=this._def.valueType;for(let o in r.data)i.push({key:s._parse(new Z6(r,o,r.path,o)),value:a._parse(new Z6(r,r.data[o],r.path,o))});return r.common.async?p5.mergeObjectAsync(n,i):p5.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof p2?new t(c0({keyType:e,valueType:n,typeName:X1.ZodRecord},d2(r))):new t(c0({keyType:ym.create(),valueType:e,typeName:X1.ZodRecord},d2(n)))}},cO=(()=>{class t extends p2{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==f1.map)return y1(i,{code:Q0.invalid_type,expected:f1.map,received:i.parsedType}),s2;let s=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([c,l],h)=>({key:s._parse(new Z6(i,c,i.path,[h,"key"])),value:a._parse(new Z6(i,l,i.path,[h,"value"]))}));if(i.common.async){let c=new Map;return Promise.resolve().then(()=>y0(this,null,function*(){for(let l of o){let h=yield l.key,u=yield l.value;if(h.status==="aborted"||u.status==="aborted")return s2;(h.status==="dirty"||u.status==="dirty")&&r.dirty(),c.set(h.value,u.value)}return{status:r.value,value:c}}))}else{let c=new Map;for(let l of o){let h=l.key,u=l.value;if(h.status==="aborted"||u.status==="aborted")return s2;(h.status==="dirty"||u.status==="dirty")&&r.dirty(),c.set(h.value,u.value)}return{status:r.value,value:c}}}}return t.create=(e,n,r)=>new t(c0({valueType:n,keyType:e,typeName:X1.ZodMap},d2(r))),t})(),lO=(()=>{class t extends p2{_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==f1.set)return y1(i,{code:Q0.invalid_type,expected:f1.set,received:i.parsedType}),s2;let s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(y1(i,{code:Q0.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(y1(i,{code:Q0.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let a=this._def.valueType;function o(l){let h=new Set;for(let u of l){if(u.status==="aborted")return s2;u.status==="dirty"&&r.dirty(),h.add(u.value)}return{status:r.value,value:h}}let c=[...i.data.values()].map((l,h)=>a._parse(new Z6(i,l,i.path,h)));return i.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(n,r){return new t(i1(c0({},this._def),{minSize:{value:n,message:N1.toString(r)}}))}max(n,r){return new t(i1(c0({},this._def),{maxSize:{value:n,message:N1.toString(r)}}))}size(n,r){return this.min(n,r).max(n,r)}nonempty(n){return this.min(1,n)}}return t.create=(e,n)=>new t(c0({valueType:e,minSize:null,maxSize:null,typeName:X1.ZodSet},d2(n))),t})(),xm=class t extends p2{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==f1.function)return y1(n,{code:Q0.invalid_type,expected:f1.function,received:n.parsedType}),s2;function r(o,c){return mm({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,pm(),dc].filter(l=>!!l),issueData:{code:Q0.invalid_arguments,argumentsError:c}})}function i(o,c){return mm({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,pm(),dc].filter(l=>!!l),issueData:{code:Q0.invalid_return_type,returnTypeError:c}})}let s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Mm){let o=this;return S5(function(...c){return y0(this,null,function*(){let l=new Me([]),h=yield o._def.args.parseAsync(c,s).catch(g=>{throw l.addIssue(r(c,g)),l}),u=yield Reflect.apply(a,this,h);return yield o._def.returns._def.type.parseAsync(u,s).catch(g=>{throw l.addIssue(i(u,g)),l})})})}else{let o=this;return S5(function(...c){let l=o._def.args.safeParse(c,s);if(!l.success)throw new Me([r(c,l.error)]);let h=Reflect.apply(a,this,l.data),u=o._def.returns.safeParse(h,s);if(!u.success)throw new Me([i(h,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t(i1(c0({},this._def),{args:zi.create(e).rest(uc.create())}))}returns(e){return new t(i1(c0({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new t(c0({args:e||zi.create([]).rest(uc.create()),returns:n||uc.create(),typeName:X1.ZodFunction},d2(r)))}},qz=(()=>{class t extends p2{get schema(){return this._def.getter()}_parse(n){let{ctx:r}=this._processInputParams(n);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}return t.create=(e,n)=>new t(c0({getter:e,typeName:X1.ZodLazy},d2(n))),t})(),Wz=(()=>{class t extends p2{_parse(n){if(n.data!==this._def.value){let r=this._getOrReturnCtx(n);return y1(r,{received:r.data,code:Q0.invalid_literal,expected:this._def.value}),s2}return{status:"valid",value:n.data}}get value(){return this._def.value}}return t.create=(e,n)=>new t(c0({value:e,typeName:X1.ZodLiteral},d2(n))),t})();function hO(t,e){return new zm(c0({values:t,typeName:X1.ZodEnum},d2(e)))}var zm=(()=>{class t extends p2{_parse(n){if(typeof n.data!="string"){let r=this._getOrReturnCtx(n),i=this._def.values;return y1(r,{expected:s3.joinValues(i),received:r.parsedType,code:Q0.invalid_type}),s2}if(this._def.values.indexOf(n.data)===-1){let r=this._getOrReturnCtx(n),i=this._def.values;return y1(r,{received:r.data,code:Q0.invalid_enum_value,options:i}),s2}return S5(n.data)}get options(){return this._def.values}get enum(){let n={};for(let r of this._def.values)n[r]=r;return n}get Values(){let n={};for(let r of this._def.values)n[r]=r;return n}get Enum(){let n={};for(let r of this._def.values)n[r]=r;return n}extract(n){return t.create(n)}exclude(n){return t.create(this.options.filter(r=>!n.includes(r)))}}return t.create=hO,t})(),$z=(()=>{class t extends p2{_parse(n){let r=s3.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(n);if(i.parsedType!==f1.string&&i.parsedType!==f1.number){let s=s3.objectValues(r);return y1(i,{expected:s3.joinValues(s),received:i.parsedType,code:Q0.invalid_type}),s2}if(r.indexOf(n.data)===-1){let s=s3.objectValues(r);return y1(i,{received:i.data,code:Q0.invalid_enum_value,options:s}),s2}return S5(n.data)}get enum(){return this._def.values}}return t.create=(e,n)=>new t(c0({values:e,typeName:X1.ZodNativeEnum},d2(n))),t})(),Mm=(()=>{class t extends p2{unwrap(){return this._def.type}_parse(n){let{ctx:r}=this._processInputParams(n);if(r.parsedType!==f1.promise&&r.common.async===!1)return y1(r,{code:Q0.invalid_type,expected:f1.promise,received:r.parsedType}),s2;let i=r.parsedType===f1.promise?r.data:Promise.resolve(r.data);return S5(i.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}return t.create=(e,n)=>new t(c0({type:e,typeName:X1.ZodPromise},d2(n))),t})(),on=(()=>{class t extends p2{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===X1.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){let{status:r,ctx:i}=this._processInputParams(n),s=this._def.effect||null,a={addIssue:o=>{y1(i,o),o.fatal?r.abort():r.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let o=s.transform(i.data,a);return i.common.issues.length?{status:"dirty",value:i.data}:i.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:i.path,parent:i})):this._def.schema._parseSync({data:o,path:i.path,parent:i})}if(s.type==="refinement"){let o=c=>{let l=s.refinement(c,a);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(i.common.async===!1){let c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?s2:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>c.status==="aborted"?s2:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(s.type==="transform")if(i.common.async===!1){let o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!pc(o))return o;let c=s.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>pc(o)?Promise.resolve(s.transform(o.value,a)).then(c=>({status:r.value,value:c})):o);s3.assertNever(s)}}return t.create=(e,n,r)=>new t(c0({schema:e,typeName:X1.ZodEffects,effect:n},d2(r))),t.createWithPreprocess=(e,n,r)=>new t(c0({schema:n,effect:{type:"preprocess",transform:e},typeName:X1.ZodEffects},d2(r))),t})(),an=(()=>{class t extends p2{_parse(n){return this._getType(n)===f1.undefined?S5(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}return t.create=(e,n)=>new t(c0({innerType:e,typeName:X1.ZodOptional},d2(n))),t})(),fc=(()=>{class t extends p2{_parse(n){return this._getType(n)===f1.null?S5(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}return t.create=(e,n)=>new t(c0({innerType:e,typeName:X1.ZodNullable},d2(n))),t})(),Kz=(()=>{class t extends p2{_parse(n){let{ctx:r}=this._processInputParams(n),i=r.data;return r.parsedType===f1.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}return t.create=(e,n)=>new t(c0({innerType:e,typeName:X1.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default},d2(n))),t})(),uO=(()=>{class t extends p2{_parse(n){let{ctx:r}=this._processInputParams(n),i=i1(c0({},r),{common:i1(c0({},r.common),{issues:[]})}),s=this._def.innerType._parse({data:i.data,path:i.path,parent:c0({},i)});return fm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Me(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Me(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}return t.create=(e,n)=>new t(c0({innerType:e,typeName:X1.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch},d2(n))),t})(),dO=(()=>{class t extends p2{_parse(n){if(this._getType(n)!==f1.nan){let i=this._getOrReturnCtx(n);return y1(i,{code:Q0.invalid_type,expected:f1.nan,received:i.parsedType}),s2}return{status:"valid",value:n.data}}}return t.create=e=>new t(c0({typeName:X1.ZodNaN},d2(e))),t})(),y70=Symbol("zod_brand"),wm=class extends p2{_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},gc=class t extends p2{_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(()=>y0(this,null,function*(){let s=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?s2:s.status==="dirty"?(n.dirty(),sO(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})}))();{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?s2:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new t({in:e,out:n,typeName:X1.ZodPipeline})}},pO=(()=>{class t extends p2{_parse(n){let r=this._def.innerType._parse(n);return pc(r)&&(r.value=Object.freeze(r.value)),r}}return t.create=(e,n)=>new t(c0({innerType:e,typeName:X1.ZodReadonly},d2(n))),t})(),mO=(t,e={},n)=>t?gm.create().superRefine((r,i)=>{var s,a;if(!t(r)){let o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(a=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,l=typeof o=="string"?{message:o}:o;i.addIssue(i1(c0({code:"custom"},l),{fatal:c}))}}):gm.create(),z70={object:yi.lazycreate},X1=function(t){return t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly",t}(X1||{}),M70=(t,e={message:`Input not instance of ${t.name}`})=>mO(n=>n instanceof t,e),fO=ym.create,gO=Vz.create,C70=dO.create,A70=Rz.create,vO=Nz.create,_70=Bz.create,E70=aO.create,S70=Zz.create,k70=jz.create,T70=gm.create,P70=uc.create,L70=sn.create,I70=oO.create,D70=mc.create,O70=yi.create,F70=yi.strictCreate,H70=Uz.create,V70=vm.create,R70=Gz.create,N70=zi.create,B70=bm.create,Z70=cO.create,j70=lO.create,U70=xm.create,G70=qz.create,q70=Wz.create,W70=zm.create,$70=$z.create,K70=Mm.create,nO=on.create,Q70=an.create,Y70=fc.create,J70=on.createWithPreprocess,X70=gc.create,e80=()=>fO().optional(),t80=()=>gO().optional(),n80=()=>vO().optional(),r80={string:t=>ym.create(i1(c0({},t),{coerce:!0})),number:t=>Vz.create(i1(c0({},t),{coerce:!0})),boolean:t=>Nz.create(i1(c0({},t),{coerce:!0})),bigint:t=>Rz.create(i1(c0({},t),{coerce:!0})),date:t=>Bz.create(i1(c0({},t),{coerce:!0}))},i80=s2,I7=Object.freeze({__proto__:null,defaultErrorMap:dc,setErrorMap:c70,getErrorMap:pm,makeIssue:mm,EMPTY_PATH:l70,addIssueToContext:y1,ParseStatus:p5,INVALID:s2,DIRTY:sO,OK:S5,isAborted:Oz,isDirty:Fz,isValid:pc,isAsync:fm,get util(){return s3},get objectUtil(){return rO},ZodParsedType:f1,getParsedType:N9,ZodType:p2,ZodString:ym,ZodNumber:Vz,ZodBigInt:Rz,ZodBoolean:Nz,ZodDate:Bz,ZodSymbol:aO,ZodUndefined:Zz,ZodNull:jz,ZodAny:gm,ZodUnknown:uc,ZodNever:sn,ZodVoid:oO,ZodArray:mc,ZodObject:yi,ZodUnion:Uz,ZodDiscriminatedUnion:vm,ZodIntersection:Gz,ZodTuple:zi,ZodRecord:bm,ZodMap:cO,ZodSet:lO,ZodFunction:xm,ZodLazy:qz,ZodLiteral:Wz,ZodEnum:zm,ZodNativeEnum:$z,ZodPromise:Mm,ZodEffects:on,ZodTransformer:on,ZodOptional:an,ZodNullable:fc,ZodDefault:Kz,ZodCatch:uO,ZodNaN:dO,BRAND:y70,ZodBranded:wm,ZodPipeline:gc,ZodReadonly:pO,custom:mO,Schema:p2,ZodSchema:p2,late:z70,get ZodFirstPartyTypeKind(){return X1},coerce:r80,any:T70,array:D70,bigint:A70,boolean:vO,date:_70,discriminatedUnion:V70,effect:nO,enum:W70,function:U70,instanceof:M70,intersection:R70,lazy:G70,literal:q70,map:Z70,nan:C70,nativeEnum:$70,never:L70,null:k70,nullable:Y70,number:gO,object:O70,oboolean:n80,onumber:t80,optional:Q70,ostring:e80,pipeline:X70,preprocess:J70,promise:K70,record:B70,set:j70,strictObject:F70,string:fO,symbol:E70,transformer:nO,tuple:N70,undefined:S70,union:H70,unknown:P70,void:I70,NEVER:i80,ZodIssueCode:Q0,quotelessJson:o70,ZodError:Me});var a80=t=>t.message?t.message:"unspecified error",g6=class extends S1{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(a80)}};var D3={};M5(D3,{abiSchemaToJsonSchema:()=>_m,codePointToInt:()=>tM,ethAbiToJsonSchema:()=>Xz,fetchArrayElement:()=>eM,hexToNumber:()=>Em,hexToUint8Array:()=>vc,numberToHex:()=>nM,padLeft:()=>rM,parseBaseType:()=>C8,transformJsonDataToAbiFormat:()=>Am,uint8ArrayToHexString:()=>_i});var bO=["bool","int","uint","bytes","string","address","tuple"];var Qz=t=>typeof t=="object"&&"type"in t&&"name"in t;var Mi=t=>typeof t=="string",t2=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function Yz(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}var Ci=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function Cm(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}var Ai=function(t){for(let[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)};var o80=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],C8=t=>{let e=t.replace(/ /,""),n,r=!1,i=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),i=[...t.matchAll(/(?:\[(\d*)\])/g)].map(s=>parseInt(s[1],10)).map(s=>Number.isNaN(s)?-1:s),r=i.length>0),bO.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:i}},Jz=(t,e={})=>{if(Object.keys(e).includes("type"))throw new g6([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);let{baseType:r,baseTypeSize:i}=C8(t);if(!r&&!o80.includes(t))throw new g6([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${i??""}`,required:!0}}return t?{format:t,required:!0}:{}},_m=(t,e="/0")=>{let n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(let[r,i]of t.entries()){let s,a,o=[];Qz(i)?(s=i.type,a=i.name,o=i.components):typeof i=="string"?(s=i,a=`${e}/${r}`):Array.isArray(i)&&(i[0]&&typeof i[0]=="string"&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(s=i[0],a=`${e}/${r}`,o=i[1]):(s="tuple",a=`${e}/${r}`,o=i));let{baseType:c,isArray:l,arraySizes:h}=C8(s),u,p=n;for(let g=h.length-1;g>0;g-=1)u={type:"array",items:[],maxItems:h[g],minItems:h[g]},h[g]<0&&(delete u.maxItems,delete u.minItems),Array.isArray(p.items)?p.items.length===0?p.items=u:p.items.push(u):p.items=[p.items,u],p=u;if(c==="tuple"&&!l){let g=_m(o,a);g.$id=a,p.items.push(g)}else if(c==="tuple"&&l){let g=h[0],f={$id:a,type:"array",items:_m(o,a),maxItems:g,minItems:g};g<0&&(delete f.maxItems,delete f.minItems),p.items.push(f)}else if(l){let g=h[0],f={type:"array",$id:a,items:Jz(String(c)),minItems:g,maxItems:g};g<0&&(delete f.maxItems,delete f.minItems),p.items.push(f)}else Array.isArray(p.items)?p.items.push(Object.assign({$id:a},Jz(s))):p.items.items.push(Object.assign({$id:a},Jz(s)));p=n}return n},Xz=t=>_m(t),eM=(t,e)=>e===1?t:eM(t[0],e-1),Am=(t,e,n)=>{let r=[];for(let[i,s]of t.entries()){let a,o,c=[];Qz(s)?(a=s.type,o=s.name,c=s.components):typeof s=="string"?a=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(a=s[0],c=s[1]):(a="tuple",c=s));let{baseType:l,isArray:h,arraySizes:u}=C8(a),p=Array.isArray(e)?e[i]:e[o];if(l==="tuple"&&!h)r.push(Am(c,p,n));else if(l==="tuple"&&h){let g=[];for(let f of p)if(u.length>1){let w=eM(f,u.length-1),L=[];for(let A of w)L.push(Am(c,A,n));g.push(L)}else g.push(Am(c,f,n));r.push(g)}else r.push(p)}return n=n??[],n.push(...r),n},tM=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},Em=t=>{if(!t2(t))throw new Error("Invalid hex string");let[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},nM=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&t2(t)){let[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!t2(t))return nM(BigInt(t));throw new tn(t)},rM=(t,e,n="0")=>{if(typeof t=="string"&&!t2(t))return t.padStart(e,n);let r=typeof t=="string"&&t2(t)?t:nM(t),[i,s]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${i}${s.padStart(e,n)}`};function _i(t){let e="0x";for(let n of t){let r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}function vc(t){let e;if(t.toLowerCase().startsWith("0x")?e=t.slice(2):e=t,e.length%2!==0)throw new y8(`hex string has odd length: ${t}`);let n=new Uint8Array(Math.ceil(e.length/2));for(let r=0;r<n.length;r+=1){let i=parseInt(e.substring(r*2,r*2+2),16);n[r]=i}return n}var iM=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;let e=t.slice(2),n=z8(e.toLowerCase()),r=_i(U3(n)).slice(2);for(let i=0;i<40;i+=1)if(parseInt(r[i],16)>7&&e[i].toUpperCase()!==e[i]||parseInt(r[i],16)<=7&&e[i].toLowerCase()!==e[i])return!1;return!0},G3=(t,e=!0)=>{if(typeof t!="string"&&!(t instanceof Uint8Array))return!1;let n;return t instanceof Uint8Array?n=_i(t):typeof t=="string"&&!t2(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?iM(n):!0:!1};var k5=function(t){return t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT",t}(k5||{}),D7=function(t){return t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY",t}(D7||{}),g1={number:k5.BIGINT,bytes:D7.HEX},H1={number:k5.HEX,bytes:D7.HEX};var j6=function(t){return t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t}(j6||{}),bc=function(t){return t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai",t}(bc||{});var xc=Object.getPrototypeOf(Uint8Array);var xO=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},wO=Symbol.for("web3/base-provider"),B9=class t{static isWeb3Provider(e){return e instanceof t||!!(e&&e[wO])}get[wO](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return xO(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){let e=Object.create(this),n=e.request;return e.request=function(i){return xO(this,void 0,void 0,function*(){return(yield n(i)).result})},e.asEIP1193Provider=void 0,e}};var Sm=class extends Array{constructor(e){super(),this._accountProvider=e}};var Ei=(t,e)=>{let n=t;for(let r=1;r<e;r+=1)n*=t;return n},A8=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e?.abiType){let{baseTypeSize:i}=C8(e.abiType);i&&(n=i)}else e.bitSize&&(n=e.bitSize);let r=Ei(BigInt(2),BigInt(n??256))-BigInt(1);try{let i=typeof t=="string"&&t2(t)?BigInt(Em(t)):BigInt(t);return i>=0&&i<=r}catch{return!1}},Si=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e?.abiType){let{baseTypeSize:s,baseType:a}=C8(e.abiType);if(a!=="int")return!1;s&&(n=s)}else e.bitSize&&(n=e.bitSize);let r=Ei(BigInt(2),BigInt((n??256)-1)),i=BigInt(-1)*Ei(BigInt(2),BigInt((n??256)-1));try{let s=typeof t=="string"&&t2(t)?BigInt(Em(t)):BigInt(t);return s>=i&&s<=r}catch{return!1}},km=t=>!!(Si(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number");var sM=t=>A8(t),c4=t=>Object.values(j6).includes(t),wc=t=>c4(t)||sM(t);var Ce=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),ki=(t,e)=>{if(typeof e=="string"&&!t2(e)||!Ce(t))return!1;let n=typeof e=="string"?vc(e):e,r=_i(U3(n)).slice(2);for(let i=0;i<12;i+=4){let s=(parseInt(r.slice(i,i+2),16)<<8)+parseInt(r.slice(i+2,i+4),16)&2047,a=tM(t.charCodeAt(t.length-1-Math.floor(s/4))),o=1<<s%4;if((a&o)!==o)return!1}return!0},yO=(t,e)=>{if(!Ce(t)||!G3(e))return!1;let n=rM(e,64);return ki(t,n)},zO=(t,e)=>!Ce(t)||!G3(e)?!1:ki(t,e);var MO=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!t2(t)?t==="1"||t==="0":typeof t=="string"&&t2(t)?t==="0x1"||t==="0x0":t===1||t===0:!1;var O7=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!(t instanceof Uint8Array)||typeof t=="string"&&t2(t)&&t.startsWith("-")||typeof t=="string"&&!t2(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=vc(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e?.abiType){let{baseTypeSize:r}=C8(e.abiType);return r?n.length===r:!0}return e?.size?n.length===e?.size:!0};var A0=t=>t==null,cn=t=>typeof t=="object"&&!A0(t)&&!Array.isArray(t)&&!(t instanceof xc);var Ti=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),CO=(t,e)=>!Ce(t)||!Ti(e)?!1:ki(t,e);var AO=t=>{let e=["fromBlock","toBlock","address","topics","blockHash"];if(A0(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!A0(t.fromBlock)&&!wc(t.fromBlock)||!A0(t.toBlock)&&!wc(t.toBlock))return!1;if(!A0(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>G3(n)))return!1}else if(!G3(t.address))return!1}return!(!A0(t.topics)&&!t.topics.every(n=>A0(n)?!0:Array.isArray(n)?n.every(r=>Ti(r)):!!Ti(n)))};var Pi={address:t=>G3(t),bloom:t=>Ce(t),blockNumber:t=>sM(t),blockTag:t=>c4(t),blockNumberOrTag:t=>wc(t),bool:t=>MO(t),bytes:t=>O7(t),filter:t=>AO(t),hex:t=>t2(t),uint:t=>A8(t),int:t=>Si(t),number:t=>km(t),string:t=>Mi(t)};for(let t=8;t<=256;t+=8)Pi[`int${t}`]=e=>Si(e,{bitSize:t}),Pi[`uint${t}`]=e=>A8(e,{bitSize:t});for(let t=1;t<=32;t+=1)Pi[`bytes${t}`]=e=>O7(e,{size:t});Pi.bytes256=Pi.bytes;var aM=Pi;var yc=t=>{if((!t?.type||t?.type==="object")&&t?.properties){let e={};for(let n of Object.keys(t.properties)){let r=yc(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?I7.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):I7.object(e).partial()}if(t?.type==="array"&&t?.items){if(Array.isArray(t.items)&&t.items.length>0){let e=[];for(let n of t.items){let r=yc(n);r&&e.push(r)}return I7.tuple(e)}return I7.array(yc(t.items))}if(t.oneOf&&Array.isArray(t.oneOf))return I7.union(t.oneOf.map(e=>yc(e)));if(t?.format){if(!aM[t.format])throw new cm(t.format);return I7.any().refine(aM[t.format],e=>({params:{value:e,format:t.format}}))}return t?.type&&t?.type!=="object"&&typeof I7[String(t.type)]=="function"?I7[String(t.type)]():I7.object({data:I7.any()}).partial()},Tm=class t{static factory(){return t.validatorInstance||(t.validatorInstance=new t),t.validatorInstance}validate(e,n,r){var i,s;let o=yc(e).safeParse(n);if(!o.success){let c=this.convertErrors((s=(i=o.error)===null||i===void 0?void 0:i.issues)!==null&&s!==void 0?s:[]);if(c){if(r?.silent)return c;throw new g6(c)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let i,s,a,o;o=n.path.join("/");let c=String(n.path[n.path.length-1]),l=n.path.join("/");if(n.code===Q0.too_big)s="maxItems",o=`${l}/maxItems`,a={limit:n.maximum},i=`must NOT have more than ${n.maximum} items`;else if(n.code===Q0.too_small)s="minItems",o=`${l}/minItems`,a={limit:n.minimum},i=`must NOT have fewer than ${n.minimum} items`;else if(n.code===Q0.custom){let{value:h,format:u}=(r=n.params)!==null&&r!==void 0?r:{};typeof h>"u"?i=`value at "/${o}" is required`:i=`value "${typeof h=="object"?JSON.stringify(h):h}" at "/${o}" must pass "${u}" validation`,a={value:h}}return{keyword:s??c,instancePath:l?`/${l}`:"",schemaPath:o?`#${o}`:"#",params:a??{value:n.message},message:i??n.message}})}};var zc=class{constructor(){this._validator=Tm.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var i,s;let a=Xz(e);if(!(Array.isArray(a.items)&&((i=a.items)===null||i===void 0?void 0:i.length)===0&&n.length===0)){if(Array.isArray(a.items)&&((s=a.items)===null||s===void 0?void 0:s.length)===0&&n.length!==0)throw new g6([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(a,n,r)}}};var C1=new zc;var oM={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},T5=t=>{if(C1.validate(["bytes"],[t]),t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return D3.hexToUint8Array(t);throw new y8(t)},{uint8ArrayToHexString:h80}=D3,D1=t=>h80(T5(t)),W2=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?T5(`0x${t}`):T5(t),ln=t=>(C1.validate(["hex"],[t]),D3.hexToNumber(t)),u80=ln,_4=(t,e)=>{typeof t!="bigint"&&C1.validate(["int"],[t]);let n=D3.numberToHex(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},d80=_4,_O=t=>ln(t).toString(),P5=t=>{C1.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),D1(new TextEncoder().encode(e))},Pm=P5,p80=P5,Mc=t=>Iz(W2(t)),EO=t=>typeof t=="string"?Mc(t):(C1.validate(["bytes"],[t]),Iz(t)),Lm=z8,m80=Mc,SO=t=>{C1.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},f80=SO,kO=t=>new TextDecoder("ascii").decode(W2(t)),g80=kO,q5=(t,e)=>{if(typeof t=="string"&&G3(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":_4(t);if(typeof t=="bigint")return e?"bigint":_4(t);if(typeof t=="object"&&t)return e?"string":P5(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":_4(t);if(t2(t))return e?"bytes":t;if(Ci(t)&&!Si(t))return e?"bytes":`0x${t}`;if(!Number.isFinite(t))return e?"string":P5(t)}throw new im(t)},j4=t=>{if(typeof t=="number")return t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&t2(t))return ln(t);try{return j4(BigInt(t))}catch{throw new tn(t)}},_8=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Ci(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new tn(t)},v80=(t,e)=>{let n=oM[e];if(!n)throw new Uo(e);let r=String(j4(t)),i=n.toString().length-1;if(i<=0)return r.toString();let s=r.padStart(i,"0"),a=s.slice(0,-i),o=s.slice(-i).replace(/\.?0+$/,"");return a===""?`0.${o}`:o===""?a:`${a}.${o}`},b80=(t,e)=>{C1.validate(["number"],[t]);let n=oM[e];if(!n)throw new Uo(e);let[r,i]=String(typeof t=="string"&&!t2(t)?t:j4(t)).split(".").concat(""),a=BigInt(`${r}${i}`)*n,o=n.toString().length-1,c=Math.min(i.length,o);return c===0?a.toString():a.toString().padStart(c,"0").slice(0,-c)},J4=t=>{if(!G3(t,!1))throw new F9(t);let e=t.toLowerCase().replace(/^0x/i,""),n=D3.uint8ArrayToHexString(U3(Lm(e)));if(A0(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x",i=n.replace(/^0x/i,"");for(let s=0;s<e.length;s+=1)parseInt(i[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return r},cM=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!t2(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&t2(t)&&(t==="0x1"||t==="0x0"))return!!j4(t);throw new H9(t)};var NO=a4(hM(),1),A80=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},_80=t=>e=>t(e.detail),uM=class extends EventTarget{constructor(){super(...arguments),this._listeners={},this.maxListeners=Number.MAX_SAFE_INTEGER}on(e,n){return this.addEventListener(e,n),this}once(e,n){let r=i=>A80(this,void 0,void 0,function*(){this.off(e,r),yield n(i)});return this.on(e,r)}off(e,n){return this.removeEventListener(e,n),this}emit(e,n){let r=new CustomEvent(e,{detail:n});return super.dispatchEvent(r)}listenerCount(e){let n=this._listeners[e];return n?n.length:0}listeners(e){return this._listeners[e].map(n=>n[0])||[]}eventNames(){return Object.keys(this._listeners)}removeAllListeners(){return Object.keys(this._listeners).forEach(e=>{this._listeners[e].forEach(n=>{super.removeEventListener(e,n[1])})}),this._listeners={},this}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}addEventListener(e,n){let r=_80(n);super.addEventListener(e,r),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push([n,r])}removeEventListener(e,n){let r=this._listeners[e];if(r){let i=r.findIndex(s=>s[0]===n);i!==-1&&(super.removeEventListener(e,r[i][1]),r.splice(i,1))}}},dM;typeof window>"u"?dM=NO.EventEmitter:dM=uM;var hn=class extends dM{};var BO=t2,E80=Ci,S80=iM,ZO=G3,k80=Ce,T80=ki,P80=yO,L80=zO,I80=Ti,D80=CO,O80=(t,e)=>{let n=typeof t=="string"&&c4(t),r=typeof e=="string"&&c4(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest"&&e>0)return-1;if(e==="earliest"&&t>0)return 1;if(n&&r){let a={[j6.EARLIEST]:1,[j6.FINALIZED]:2,[j6.SAFE]:3,[j6.LATEST]:4,[j6.PENDING]:5};return a[t]<a[e]?-1:1}if(n&&!r||!n&&r)throw new am("Cannot compare blocktag with provided non-blocktag input.");let i=BigInt(t),s=BigInt(e);return i<s?-1:i===s?0:1},U6=t=>typeof t=="object"&&!A0(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),k1=A0;var jO=t=>typeof t=="object"&&!A0(t)&&!Array.isArray(t)&&!(t instanceof xc),G6=(t,...e)=>{let n=t;if(!jO(n))return n;for(let r of e)for(let i in r)jO(r[i])?(n[i]||(n[i]={}),G6(n[i],r[i])):!A0(r[i])&&Object.hasOwnProperty.call(r,i)&&(Array.isArray(r[i])||r[i]instanceof xc?n[i]=r[i].slice(0):n[i]=r[i]);return n};var Z9=(t,e,n="0")=>typeof t=="string"?t2(t)?D3.padLeft(t,e,n):t.padStart(e,n):(C1.validate(["int"],[t]),D3.padLeft(t,e,n)),UO=(t,e,n="0")=>{if(typeof t=="string"&&!t2(t))return t.padEnd(e,n);C1.validate(["int"],[t]);let r=typeof t=="string"&&t2(t)?t:_4(t),i=r.startsWith("-")?3:2;return r.padEnd(e+i,n)},Om=UO,j9=Z9,pM=(t,e=64)=>{C1.validate(["int"],[t]);let n=j4(t);if(n>=0)return Z9(q5(n),e);let r=Ei(BigInt(2),BigInt(e*4));if(-n>=r)throw new Go(`value: ${t}, nibbleWidth: ${e}`);let s=BigInt(n)+r;return Z9(_4(s),e)},F80=(t,e=64)=>{C1.validate(["int"],[t]);let n=j4(t);if(n<0)return n;let r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new Go(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;let i=Ei(BigInt(2),BigInt(e)*BigInt(4));return j4(BigInt(n)-i)};function Y3(...t){let e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return n}function un(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}var{parseBaseType:H80}=D3,F7=t=>typeof t=="object"&&!A0(t)&&"number"in t&&"bytes"in t,V80=(t,e,n=[])=>{let r=Object.assign({},t),i;for(let s of e){if(r.oneOf&&i){let a=n.find(function(o){return this===o[0]},i??"");a&&a[0]===i&&(r=r.oneOf[a[1]])}if(!r.properties&&!r.items)return;if(r.properties)r=r.properties[s];else if(r.items&&r.items.properties){let a=r.items.properties;if(!a)return;r=a[s]}else r.items&&cn(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(s,10)]);r&&s&&(i=s)}return r},Cc=(t,e,n)=>{try{let{baseType:r,baseTypeSize:i}=H80(e);if(r==="int"||r==="uint")switch(n.number){case k5.NUMBER:return Number(_8(t));case k5.HEX:return _4(_8(t));case k5.STR:return _8(t).toString();case k5.BIGINT:return _8(t);default:throw new Xt(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let s;switch(i?typeof t=="string"?s=Z9(t,i*2):t instanceof Uint8Array&&(s=Y3(new Uint8Array(i-t.length),t)):s=t,n.bytes){case D7.HEX:return D1(T5(s));case D7.UINT8ARRAY:return T5(s);default:throw new Xt(`Invalid format: ${String(n.bytes)}`)}}}catch{return t}return t},Fm=(t,e,n,r,i=[])=>{var s,a;if(!cn(t)&&!Array.isArray(t))return Cc(t,e?.format,r);let o=t;for(let[c,l]of Object.entries(o)){n.push(c);let h=V80(e,n,i);if(A0(h)){delete o[c],n.pop();continue}if(cn(l)){Fm(l,e,n,r),n.pop();continue}if(Array.isArray(l)){let u=h;if(h?.oneOf!==void 0&&h.oneOf.forEach((p,g)=>{var f,w;!Array.isArray(h?.items)&&(typeof l[0]=="object"&&((f=p?.items)===null||f===void 0?void 0:f.type)==="object"||typeof l[0]=="string"&&((w=p?.items)===null||w===void 0?void 0:w.type)!=="object")&&(u=p,i.push([c,g]))}),A0(u?.items)){delete o[c],n.pop();continue}if(cn(u.items)&&!A0(u.items.format)){for(let p=0;p<l.length;p+=1)o[c][p]=Cc(l[p],(s=u?.items)===null||s===void 0?void 0:s.format,r);n.pop();continue}if(!Array.isArray(u?.items)&&((a=u?.items)===null||a===void 0?void 0:a.type)==="object"){for(let p of l)Fm(p,e,n,r,i);n.pop();continue}if(Array.isArray(u?.items)){for(let p=0;p<l.length;p+=1)o[c][p]=Cc(l[p],u.items[p].format,r);n.pop();continue}}o[c]=Cc(l,h.format,r),n.pop()}return o},U0=(t,e,n)=>{let r;cn(e)?r=G6({},e):Array.isArray(e)?r=[...e]:r=e;let i=cn(t)?t:D3.ethAbiToJsonSchema(t);if(!i.properties&&!i.items&&!i.format)throw new Xt("Invalid json schema for formatting");return Fm(r,i,[],n)};var WO="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Ii=t=>{let e;typeof t=="string"?t.startsWith("0x")&&t2(t)?e=W2(t):e=z8(t):e=t;let n=D1(U3(e));return n===WO?void 0:n},H4=t=>{let e=Ii(t);return A0(e)?WO:e},U9=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=z8(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!t2(t)?e=z8(t):e=T5(t),D1(U3(e))};var R80=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=q5(t,!0),n=q5(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=_8(n)),[e,n]},N80=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,mM=(t,e)=>{let n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},GO=t=>t.toString(2).length,qO=(t,e)=>{let n=e.toString();if(t==="string"){if(typeof e=="string")return P5(e);throw new rm(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new H9(e)}if(t==="address"){if(!G3(n))throw new F9(n);return n}let r=N80(t);if(t.startsWith("uint")){let i=mM(r,4);if(i%8||i<8||i>256)throw new qo(n);let s=j4(n);if(GO(s)>i)throw new Wo(n);if(s<BigInt(0))throw new sm(n);return i?j9(s.toString(16),i/8*2):s.toString(16)}if(t.startsWith("int")){let i=mM(r,3);if(i%8||i<8||i>256)throw new qo(t);let s=j4(n);if(GO(s)>i)throw new Wo(n);return s<BigInt(0)?pM(s.toString(),i/8*2):i?j9(s.toString(16),i/4):s.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new y8(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new y8(n);let i=mM(t,5);if(!i||i<1||i>64||i<n.replace(/^0x/i,"").length/2)throw new y8(n);return Om(n,i*2)}return""},$O=t=>{let[e,n]=R80(t);return Array.isArray(n)?n.map(s=>qO(e,s).replace("0x","")).join(""):qO(e,n).replace("0x","")},fM=(...t)=>`0x${t.map($O).join("").toLowerCase()}`,B80=(...t)=>Ii(fM(...t)),Z80=(...t)=>H4(fM(...t)),j80=t=>Ii(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function KO(t){return cc(t)}var dn=t=>KO(t),U80=t=>D1(dn(t));var Hm=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function gM(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function QO(t,e,n){return Hm(this,void 0,void 0,function*(){let r,i=yield Promise.race([t instanceof Promise?t:t(),new Promise((s,a)=>{r=setTimeout(()=>n?a(n):s(void 0),e)})]);if(r&&clearTimeout(r),i instanceof Error)throw i;return i})}function Vm(t,e){let n;return[new Promise((i,s)=>{n=setInterval(function a(){return Hm(this,void 0,void 0,function*(){try{let o=yield QO(t,e);A0(o)||(clearInterval(n),i(o))}catch(o){clearInterval(n),s(o)}}),a}(),e)}),n]}function G80(t,e){return Hm(this,void 0,void 0,function*(){return Vm(t,e)[0]})}function Ac(t,e){let n,r=new Promise((i,s)=>{n=setTimeout(()=>{s(e)},t)});return[n,r]}function vM(t,e){let n,r=new Promise((i,s)=>{n=setInterval(()=>{Hm(this,void 0,void 0,function*(){let a=yield t();a&&(clearInterval(n),s(a))})},e)});return[n,r]}var p3={};M5(p3,{isBatchRequest:()=>jm,isBatchResponse:()=>kc,isResponseRpcError:()=>Bm,isResponseWithError:()=>Sc,isResponseWithNotification:()=>Zm,isResponseWithResult:()=>Ec,isSubscriptionResult:()=>YO,isValidResponse:()=>bM,setRequestIdStart:()=>JO,toBatchPayload:()=>XO,toPayload:()=>Di,validateResponse:()=>Nm});var _c=()=>{let t=dn(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e=D1(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")};var Bm=t=>{let e=t.error.code;return Y4.has(e)||e>=-32099&&e<=-32e3},Ec=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&A0(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),Sc=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&A0(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),Zm=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!A0(t.params)&&!A0(t.method),YO=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,Nm=t=>Ec(t)||Sc(t),bM=t=>Array.isArray(t)?t.every(Nm):Nm(t),kc=t=>Array.isArray(t)&&t.length>0&&bM(t),Rm,JO=t=>{Rm=t},Di=t=>{var e,n,r,i;return typeof Rm<"u"&&(Rm+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:Rm)!==null&&r!==void 0?r:_c(),method:t.method,params:(i=t.params)!==null&&i!==void 0?i:void 0}},XO=t=>t.map(e=>Di(e)),jm=t=>Array.isArray(t)&&t.length>0;var xM=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},eF,G9=class{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[eF]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return xM(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return xM(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return xM(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new di(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}};eF=Symbol.toStringTag;var Tc=class{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){let n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let s=i;this.lastChunk&&(s=this.lastChunk+s);let a;try{a=JSON.parse(s)}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new T7({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},1e3*15);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,a&&n.push(a)}),n}};var nF=a4(hM(),1);var tF=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Oi=class extends B9{constructor(){super(...arguments),this._eventEmitter=new nF.EventEmitter,this._chainId="",this._accounts=[]}_getChainId(){var e;return tF(this,void 0,void 0,function*(){let n=yield this.request(Di({method:"eth_chainId",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:""})}_getAccounts(){var e;return tF(this,void 0,void 0,function*(){let n=yield this.request(Di({method:"eth_accounts",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new om(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}};var wM=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},q80={autoReconnect:!0,delay:5e3,maxAttempts:5},W80=1e3,Fi=class extends Oi{constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new en(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},q80),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new Tc(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new I9(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new en(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){let r=e??W80;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n,r=!1,i=1e3){return wM(this,void 0,void 0,function*(){let s=0;yield(()=>wM(this,void 0,void 0,function*(){return new Promise(o=>{let c=setInterval(()=>{r&&s===5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(c),o(!0)),s+=1},i)})}))(),this.disconnect(e,n)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new Ap),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new Cp(this._reconnectOptions.maxAttempts))))}request(e){return wM(this,void 0,void 0,function*(){if(k1(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();let n=jm(e)?e[0].id:e.id;if(!n)throw new Lp("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new _p(n);let r=new G9;r.catch(s=>{this._eventEmitter.emit("error",s)});let i={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,i),i.deferredPromise;this._sentRequestsQueue.set(n,i);try{this._sendToSocket(i.payload)}catch(s){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",s)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(let[e,n]of this._pendingRequestsQueue.entries())this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}_onMessage(e){let n=this._parseResponses(e);if(!(k1(n)||n.length===0))for(let r of n){if(Zm(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}let i=kc(r)?r[0].id:r.id,s=this._sentRequestsQueue.get(i);if(!s)return;(kc(r)||Ec(r)||Sc(r))&&(this._eventEmitter.emit("message",r),s.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(i)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new Jt(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new Jt(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}};var E8=class{constructor(){this._emitter=new hn}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}};var q9=function(t){return t.CONFIG_CHANGE="CONFIG_CHANGE",t}(q9||{}),Um=class extends E8{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:q5(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0},this.setConfig(e??{})}setConfig(e){let n=Object.keys(e);for(let r of n)this._triggerConfigChange(r,e[r]);Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!k1(this.config.defaultCommon)&&!k1(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new Ko(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!k1(this.config.defaultCommon)&&!k1(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new $o(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!k1(this.config.defaultHardfork)&&!k1(e)&&!k1(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new $o(this.config.defaultHardfork,e.hardfork);if(!k1(this.config.defaultChain)&&!k1(e)&&!k1(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new Ko(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}_triggerConfigChange(e,n){this.emit(q9.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}};var sF=a4(iF(),1);var $80=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Lc=class t extends B9{constructor(e,n){if(super(),!t.validateClientUrl(e))throw new en(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new B6}supportsSubscriptions(){return!1}request(e,n){var r;return $80(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),s=yield(0,sF.default)(this.clientUrl,Object.assign(Object.assign({},i),{method:"POST",headers:Object.assign(Object.assign({},i.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!s.ok)throw new G5(yield s.json());return yield s.json()})}on(){throw new B6}removeListener(){throw new B6}once(){throw new B6}removeAllListeners(){throw new B6}connect(){throw new B6}disconnect(){throw new B6}reset(){throw new B6}reconnect(){throw new B6}};var Vi=null;typeof WebSocket<"u"?Vi=WebSocket:typeof MozWebSocket<"u"?Vi=MozWebSocket:typeof global<"u"?Vi=global.WebSocket||global.MozWebSocket:typeof window<"u"?Vi=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Vi=self.WebSocket||self.MozWebSocket);var aF=Vi;var Ic=class extends Fi{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!k1(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new aF(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new Jt;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,i;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",s=>this._onCloseHandler(s)),(i=this._socketConnection)===null||i===void 0||i.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}};var yM=t=>B9.isWeb3Provider(t);var zM=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",MM=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",CM=t=>typeof t!="string"&&"send"in t,AM=t=>typeof t!="string"&&"sendAsync"in t,pn=t=>t&&(yM(t)||MM(t)||zM(t)||AM(t)||CM(t)),oF=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var _M=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Ri=function(t){return t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE",t}(Ri||{}),cF={HttpProvider:Lc,WebsocketProvider:Ic},mn=class t extends E8{constructor(e,n){super(),k1(e)||this.setProvider(e),this.useRpcCallSpecification=n}static get providers(){return cF}get provider(){return this._provider}get providers(){return cF}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new D9(`Can't autodetect provider for "${e}"`);else k1(e)?n=void 0:n=e;return this.emit(Ri.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(Ri.PROVIDER_CHANGED,this._provider),!0}send(e){return _M(this,void 0,void 0,function*(){let n=yield this._sendRequest(e);if(p3.isResponseWithResult(n))return n.result;throw new G5(n)})}sendBatch(e){return _M(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return _M(this,void 0,void 0,function*(){let{provider:n}=this;if(k1(n))throw new D9("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=p3.isBatchRequest(e)?p3.toBatchPayload(e):p3.toPayload(e);if(yM(n)){let i;try{i=yield n.request(r)}catch(s){i=s}return this._processJsonRpcResponse(r,i,{legacy:!1,error:!1})}if(MM(n))return n.request(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));if(zM(n))return new Promise((i,s)=>{let a=l=>s(this._processJsonRpcResponse(r,l,{legacy:!0,error:!0})),o=l=>i(this._processJsonRpcResponse(r,l,{legacy:!0,error:!1})),c=n.request(r,(l,h)=>l?a(l):o(h));gM(c)&&c.then(o).catch(a)});if(CM(n))return new Promise((i,s)=>{n.send(r,(a,o)=>{if(a)return s(this._processJsonRpcResponse(r,a,{legacy:!0,error:!0}));if(k1(o))throw new G5("",'Got a "nullish" response from provider.');return i(this._processJsonRpcResponse(r,o,{legacy:!0,error:!1}))})});if(AM(n))return n.sendAsync(r).then(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!1})).catch(i=>this._processJsonRpcResponse(r,i,{legacy:!0,error:!0}));throw new D9("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:i}){if(k1(n))return this._buildResponse(e,null,i);if(p3.isResponseWithError(n)){if(this.useRpcCallSpecification&&Bm(n)){let s=n;if(Y4.get(s.error.code)){let a=Y4.get(s.error.code).error;throw new a(s)}else throw new d5(s)}else if(!t._isReverted(n))throw new T7(n,e)}if(p3.isResponseWithResult(n))return n;if(n instanceof Error)throw t._isReverted(n),n;if(!r&&p3.isBatchRequest(e)&&p3.isBatchResponse(n)||r&&!i&&p3.isBatchRequest(e))return n;if(r&&i&&p3.isBatchRequest(e))throw n;if(r&&!p3.isResponseWithError(n)&&!p3.isResponseWithResult(n))return this._buildResponse(e,n,i);throw p3.isBatchRequest(e)&&!Array.isArray(n)?new G5(n,"Got normal response for a batch request."):!p3.isBatchRequest(e)&&Array.isArray(n)?new G5(n,"Got batch response for a normal request."):(p3.isResponseWithError(n)||p3.isResponseWithResult(n))&&!p3.isBatchRequest(e)&&n.id&&e.id!==n.id?new T7(n):new G5(n,"Invalid response")}static _isReverted(e){let n;if(p3.isResponseWithError(e)?n=e.error:e instanceof Error&&(n=e),n?.message.includes("revert"))throw new f6(n);return!1}_buildResponse(e,n,r){let i={jsonrpc:"2.0",id:p3.isBatchRequest(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},i),{error:n}):Object.assign(Object.assign({},i),{result:n})}};var Dc=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},fn=class{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(Ri.BEFORE_PROVIDER_CHANGE,()=>Dc(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(Ri.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){let e=this.requestManager.provider;!this.requestManager.provider||typeof e?.supportsSubscriptions=="function"&&!e?.supportsSubscriptions()||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,i;if(!e)throw new u5("Should not call messageListener with no data. Type was");let s=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((i=e.id)===null||i===void 0?void 0:i.toString(16));if(s){let a=this._subscriptions.get(s);a?.processSubscriptionData(e)}}subscribe(e,n,r=g1){return Dc(this,void 0,void 0,function*(){let i=this.registeredSubscriptions[e];if(!i)throw new u5("Invalid subscription type");let s=new i(n??void 0,{subscriptionManager:this,returnFormat:r});return yield this.addSubscription(s),s})}get subscriptions(){return this._subscriptions}addSubscription(e){return Dc(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new D9("Provider not available");if(!this.supportsSubscriptions())throw new u5("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new u5(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),k1(e.id))throw new u5("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return Dc(this,void 0,void 0,function*(){let{id:n}=e;if(k1(n))throw new u5("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new u5(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return Dc(this,void 0,void 0,function*(){let n=[];for(let[r,i]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:i}))&&n.push(this.removeSubscription(i));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return k1(this.requestManager.provider)?!1:oF(this.requestManager.provider)}};var Oc=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Ae=class extends E8{constructor(e,n){var r;super(),this.args=e;let{requestManager:i}=n,{subscriptionManager:s}=n;if(i&&s)throw new u5("Only requestManager or subscriptionManager should be provided at Subscription constructor");if(!i&&!s)throw new u5("Either requestManager or subscriptionManager should be provided at Subscription constructor");i?this._subscriptionManager=new fn(i,{},!0):this._subscriptionManager=s,this._returnFormat=(r=n?.returnFormat)!==null&&r!==void 0?r:g1}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return Oc(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e?.data?this._processSubscriptionResult((r=(n=e?.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e?.data):e&&p3.isResponseWithNotification(e)&&this._processSubscriptionResult(e?.params.result)}sendSubscriptionRequest(){return Oc(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return Oc(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return Oc(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return Oc(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}};var Ni=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Wm=class t extends Sm{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;let n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!A0(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){let n=this._addressMap.get(e.toLowerCase());return A0(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){let n=this._addressMap.get(e.toLowerCase());return A0(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return Ni(this,void 0,void 0,function*(){return Promise.all(this.map(r=>Ni(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return Ni(this,void 0,void 0,function*(){let i=yield Promise.all(e.map(s=>Ni(this,void 0,void 0,function*(){return this._accountProvider.decrypt(s,n,r)})));for(let s of i)this.add(s);return this})}save(e,n){return Ni(this,void 0,void 0,function*(){let r=t.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return Ni(this,void 0,void 0,function*(){let r=t.getStorage();if(!r)throw new Error("Local storage not available.");let i=r.getItem(n??this._defaultKeyName);return i&&(yield this.decrypt(JSON.parse(i)||[],e)),this})}};var S8={web:vi};function lF(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}function hF(t,e,n){return y0(this,null,function*(){if(!S8.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[yield S8.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]})}function $m(t,e,n,r="aes-128-ctr",i=!0){return y0(this,null,function*(){if(lF(e,n,r),S8.web){let[s,a]=yield hF(r,e,n),o=yield S8.web.subtle.encrypt(a,s,t),c=new Uint8Array(o);return!i&&a.name==="aes-cbc"&&!(t.length%16)&&(c=c.slice(0,-16)),c}else if(S8.node){let s=S8.node.createCipheriv(r,e,n);return s.setAutoPadding(i),rn(s.update(t),s.final())}else throw new Error("The environment doesn't have AES module")})}function Y80(t,e,n,r){return y0(this,null,function*(){let i=t.slice(-16);for(let a=0;a<16;a++)i[a]^=n[a]^16;return(yield $m(i,e,n,r)).slice(0,16)})}function uF(t,e,n,r="aes-128-ctr",i=!0){return y0(this,null,function*(){if(lF(e,n,r),S8.web){let[s,a]=yield hF(r,e,n);if(!i&&a.name==="aes-cbc"){let l=yield Y80(t,e,n,r);t=rn(t,l)}let o=yield S8.web.subtle.decrypt(a,s,t),c=new Uint8Array(o);if(a.name==="aes-cbc"){let l=yield $m(c,e,n,r);if(!eO(l,t))throw new Error("AES: wrong padding")}return c}else if(S8.node){let s=S8.node.createDecipheriv(r,e,n);return s.setAutoPadding(i),rn(s.update(t),s.final())}else throw new Error("The environment doesn't have AES module")})}var Km=class extends V9{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,i3.hash(e);let r=L7(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return i3.exists(this),this.iHash.update(e),this}digestInto(e){i3.exists(this),i3.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fc=(t,e,n)=>new Km(t,e).update(n).digest();Fc.create=(t,e)=>new Km(t,e);function X80(t,e,n,r){i3.hash(t);let i=hm({dkLen:32,asyncTick:10},r),{c:s,dkLen:a,asyncTick:o}=i;if(i3.number(s),i3.number(a),i3.number(o),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=L7(e),l=L7(n),h=new Uint8Array(a),u=Fc.create(t,c),p=u._cloneInto().update(l);return{c:s,dkLen:a,asyncTick:o,DK:h,PRF:u,PRFSalt:p}}function ee0(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function Hc(t,e,n,r){let{c:i,dkLen:s,DK:a,PRF:o,PRFSalt:c}=X80(t,e,n,r),l,h=new Uint8Array(4),u=nn(h),p=new Uint8Array(o.outputLen);for(let g=1,f=0;f<s;g++,f+=o.outputLen){let w=a.subarray(f,f+o.outputLen);u.setInt32(0,g,!1),(l=c._cloneInto(l)).update(h).digestInto(p),w.set(p.subarray(0,w.length));for(let L=1;L<i;L++){o._cloneInto(l).update(p).digestInto(p);for(let A=0;A<w.length;A++)w[A]^=p[A]}}return ee0(o,c,a,l,p)}function te0(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}var Bi=class extends V9{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nn(this.buffer)}update(e){i3.exists(this);let{view:n,buffer:r,blockLen:i}=this;e=L7(e);let s=e.length;for(let a=0;a<s;){let o=Math.min(i-this.pos,s-a);if(o===i){let c=nn(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){i3.exists(this),i3.output(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:s}=this,{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let u=a;u<i;u++)n[u]=0;te0(r,i-8,BigInt(this.length*8),s),this.process(r,0);let o=nn(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,h[u],s)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};var ne0=(t,e,n)=>t&e^~t&n,re0=(t,e,n)=>t&e^t&n^e&n,ie0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$9=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),K9=new Uint32Array(64),Qm=class extends Bi{constructor(){super(64,32,8,!1),this.A=$9[0]|0,this.B=$9[1]|0,this.C=$9[2]|0,this.D=$9[3]|0,this.E=$9[4]|0,this.F=$9[5]|0,this.G=$9[6]|0,this.H=$9[7]|0}get(){let{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let u=0;u<16;u++,n+=4)K9[u]=e.getUint32(n,!1);for(let u=16;u<64;u++){let p=K9[u-15],g=K9[u-2],f=P7(p,7)^P7(p,18)^p>>>3,w=P7(g,17)^P7(g,19)^g>>>10;K9[u]=w+K9[u-7]+f+K9[u-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:h}=this;for(let u=0;u<64;u++){let p=P7(o,6)^P7(o,11)^P7(o,25),g=h+p+ne0(o,c,l)+ie0[u]+K9[u]|0,w=(P7(r,2)^P7(r,13)^P7(r,22))+re0(r,i,s)|0;h=l,l=c,c=o,o=a+g|0,a=s,s=i,i=r,r=g+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(r,i,s,a,o,c,l,h)}roundClean(){K9.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},EM=class extends Qm{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},gn=M8(()=>new Qm),KS0=M8(()=>new EM);var[se0,ae0]=e2.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Q9=new Uint32Array(80),Y9=new Uint32Array(80),Zi=class extends Bi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:c,Eh:l,El:h,Fh:u,Fl:p,Gh:g,Gl:f,Hh:w,Hl:L}=this;return[e,n,r,i,s,a,o,c,l,h,u,p,g,f,w,L]}set(e,n,r,i,s,a,o,c,l,h,u,p,g,f,w,L){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=h|0,this.Fh=u|0,this.Fl=p|0,this.Gh=g|0,this.Gl=f|0,this.Hh=w|0,this.Hl=L|0}process(e,n){for(let R=0;R<16;R++,n+=4)Q9[R]=e.getUint32(n),Y9[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){let G=Q9[R-15]|0,K=Y9[R-15]|0,Z=e2.rotrSH(G,K,1)^e2.rotrSH(G,K,8)^e2.shrSH(G,K,7),$=e2.rotrSL(G,K,1)^e2.rotrSL(G,K,8)^e2.shrSL(G,K,7),n0=Q9[R-2]|0,h0=Y9[R-2]|0,X=e2.rotrSH(n0,h0,19)^e2.rotrBH(n0,h0,61)^e2.shrSH(n0,h0,6),H=e2.rotrSL(n0,h0,19)^e2.rotrBL(n0,h0,61)^e2.shrSL(n0,h0,6),U=e2.add4L($,H,Y9[R-7],Y9[R-16]),P=e2.add4H(U,Z,X,Q9[R-7],Q9[R-16]);Q9[R]=P|0,Y9[R]=U|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:c,Dh:l,Dl:h,Eh:u,El:p,Fh:g,Fl:f,Gh:w,Gl:L,Hh:A,Hl:_}=this;for(let R=0;R<80;R++){let G=e2.rotrSH(u,p,14)^e2.rotrSH(u,p,18)^e2.rotrBH(u,p,41),K=e2.rotrSL(u,p,14)^e2.rotrSL(u,p,18)^e2.rotrBL(u,p,41),Z=u&g^~u&w,$=p&f^~p&L,n0=e2.add5L(_,K,$,ae0[R],Y9[R]),h0=e2.add5H(n0,A,G,Z,se0[R],Q9[R]),X=n0|0,H=e2.rotrSH(r,i,28)^e2.rotrBH(r,i,34)^e2.rotrBH(r,i,39),U=e2.rotrSL(r,i,28)^e2.rotrBL(r,i,34)^e2.rotrBL(r,i,39),P=r&s^r&o^s&o,d=i&a^i&c^a&c;A=w|0,_=L|0,w=g|0,L=f|0,g=u|0,f=p|0,{h:u,l:p}=e2.add(l|0,h|0,h0|0,X|0),l=o|0,h=c|0,o=s|0,c=a|0,s=r|0,a=i|0;let y=e2.add3L(X,U,d);r=e2.add3H(y,h0,H,P),i=y|0}({h:r,l:i}=e2.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=e2.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:c}=e2.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:h}=e2.add(this.Dh|0,this.Dl|0,l|0,h|0),{h:u,l:p}=e2.add(this.Eh|0,this.El|0,u|0,p|0),{h:g,l:f}=e2.add(this.Fh|0,this.Fl|0,g|0,f|0),{h:w,l:L}=e2.add(this.Gh|0,this.Gl|0,w|0,L|0),{h:A,l:_}=e2.add(this.Hh|0,this.Hl|0,A|0,_|0),this.set(r,i,s,a,o,c,l,h,u,p,g,f,w,L,A,_)}roundClean(){Q9.fill(0),Y9.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},SM=class extends Zi{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},kM=class extends Zi{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},TM=class extends Zi{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},dF=M8(()=>new Zi),ek0=M8(()=>new SM),tk0=M8(()=>new kM),nk0=M8(()=>new TM);function PM(t,e,n,r,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return xi(t),xi(e),Hc(i==="sha256"?gn:dF,t,e,{c:n,dkLen:r})}var a3=(t,e)=>t<<e|t>>>32-e;function pF(t,e,n,r,i,s){let a=t[e++]^n[r++],o=t[e++]^n[r++],c=t[e++]^n[r++],l=t[e++]^n[r++],h=t[e++]^n[r++],u=t[e++]^n[r++],p=t[e++]^n[r++],g=t[e++]^n[r++],f=t[e++]^n[r++],w=t[e++]^n[r++],L=t[e++]^n[r++],A=t[e++]^n[r++],_=t[e++]^n[r++],R=t[e++]^n[r++],G=t[e++]^n[r++],K=t[e++]^n[r++],Z=a,$=o,n0=c,h0=l,X=h,H=u,U=p,P=g,d=f,y=w,M=L,E=A,O=_,S=R,D=G,I=K;for(let m=0;m<8;m+=2)X^=a3(Z+O|0,7),d^=a3(X+Z|0,9),O^=a3(d+X|0,13),Z^=a3(O+d|0,18),y^=a3(H+$|0,7),S^=a3(y+H|0,9),$^=a3(S+y|0,13),H^=a3($+S|0,18),D^=a3(M+U|0,7),n0^=a3(D+M|0,9),U^=a3(n0+D|0,13),M^=a3(U+n0|0,18),h0^=a3(I+E|0,7),P^=a3(h0+I|0,9),E^=a3(P+h0|0,13),I^=a3(E+P|0,18),$^=a3(Z+h0|0,7),n0^=a3($+Z|0,9),h0^=a3(n0+$|0,13),Z^=a3(h0+n0|0,18),U^=a3(H+X|0,7),P^=a3(U+H|0,9),X^=a3(P+U|0,13),H^=a3(X+P|0,18),E^=a3(M+y|0,7),d^=a3(E+M|0,9),y^=a3(d+E|0,13),M^=a3(y+d|0,18),O^=a3(I+D|0,7),S^=a3(O+I|0,9),D^=a3(S+O|0,13),I^=a3(D+S|0,18);i[s++]=a+Z|0,i[s++]=o+$|0,i[s++]=c+n0|0,i[s++]=l+h0|0,i[s++]=h+X|0,i[s++]=u+H|0,i[s++]=p+U|0,i[s++]=g+P|0,i[s++]=f+d|0,i[s++]=w+y|0,i[s++]=L+M|0,i[s++]=A+E|0,i[s++]=_+O|0,i[s++]=R+S|0,i[s++]=G+D|0,i[s++]=K+I|0}function LM(t,e,n,r,i){let s=r+0,a=r+16*i;for(let o=0;o<16;o++)n[a+o]=t[e+(2*i-1)*16+o];for(let o=0;o<i;o++,s+=16,e+=16)pF(n,a,t,e,n,s),o>0&&(a+=16),pF(n,s,t,e+=16,n,a)}function oe0(t,e,n){let r=hm({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:a,dkLen:o,asyncTick:c,maxmem:l,onProgress:h}=r;if(i3.number(i),i3.number(s),i3.number(a),i3.number(o),i3.number(c),i3.number(l),h!==void 0&&typeof h!="function")throw new Error("progressCb should be function");let u=128*s,p=u/4;if(i<=1||i&i-1||i>=2**(u/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/u)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let g=u*(i+a);if(g>l)throw new Error(`Scrypt: parameters too large, ${g} (128 * r * (N + p)) > ${l} (maxmem)`);let f=Hc(gn,t,e,{c:1,dkLen:u*a}),w=bi(f),L=bi(new Uint8Array(u*i)),A=bi(new Uint8Array(u)),_=()=>{};if(h){let R=2*i*a,G=Math.max(Math.floor(R/1e4),1),K=0;_=()=>{K++,h&&(!(K%G)||K===R)&&h(K/R)}}return{N:i,r:s,p:a,dkLen:o,blockSize32:p,V:L,B32:w,B:f,tmp:A,blockMixCb:_,asyncTick:c}}function ce0(t,e,n,r,i){let s=Hc(gn,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),i.fill(0),s}function mF(t,e,n){let{N:r,r:i,p:s,dkLen:a,blockSize32:o,V:c,B32:l,B:h,tmp:u,blockMixCb:p}=oe0(t,e,n);for(let g=0;g<s;g++){let f=o*g;for(let w=0;w<o;w++)c[w]=l[f+w];for(let w=0,L=0;w<r-1;w++)LM(c,L,c,L+=o,i),p();LM(c,(r-1)*o,l,f,i),p();for(let w=0;w<r;w++){let L=l[f+o-16]%r;for(let A=0;A<o;A++)u[A]=l[f+A]^c[L*o+A];LM(u,0,l,f,i),p()}}return ce0(t,a,h,c,u)}function IM(t,e,n,r,i,s,a){return xi(t),xi(e),mF(t,e,{N:n,r:i,p:r,dkLen:s,onProgress:a})}var GM={};M5(GM,{secp256k1:()=>Rc});var VM={};M5(VM,{bitGet:()=>me0,bitLen:()=>pe0,bitMask:()=>Vc,bitSet:()=>fe0,bytesToHex:()=>vn,bytesToNumberBE:()=>H7,bytesToNumberLE:()=>Xm,concatBytes:()=>J9,createHmacDrbg:()=>HM,ensureBytes:()=>L5,equalBytes:()=>de0,hexToBytes:()=>bn,hexToNumber:()=>OM,numberToBytesBE:()=>_e,numberToBytesLE:()=>FM,numberToHexUnpadded:()=>vF,numberToVarBytesBE:()=>ue0,utf8ToBytes:()=>bF,validateObject:()=>Ee});var gF=BigInt(0),Ym=BigInt(1),le0=BigInt(2),Jm=t=>t instanceof Uint8Array,he0=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vn(t){if(!Jm(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=he0[t[n]];return e}function vF(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function OM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function bn(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){let i=r*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function H7(t){return OM(vn(t))}function Xm(t){if(!Jm(t))throw new Error("Uint8Array expected");return OM(vn(Uint8Array.from(t).reverse()))}function _e(t,e){return bn(t.toString(16).padStart(e*2,"0"))}function FM(t,e){return _e(t,e).reverse()}function ue0(t){return bn(vF(t))}function L5(t,e,n){let r;if(typeof e=="string")try{r=bn(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Jm(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function J9(...t){let e=new Uint8Array(t.reduce((r,i)=>r+i.length,0)),n=0;return t.forEach(r=>{if(!Jm(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function de0(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function bF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function pe0(t){let e;for(e=0;t>gF;t>>=Ym,e+=1);return e}function me0(t,e){return t>>BigInt(e)&Ym}var fe0=(t,e,n)=>t|(n?Ym:gF)<<BigInt(e),Vc=t=>(le0<<BigInt(t-1))-Ym,DM=t=>new Uint8Array(t),fF=t=>Uint8Array.from(t);function HM(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=DM(t),i=DM(t),s=0,a=()=>{r.fill(1),i.fill(0),s=0},o=(...u)=>n(i,r,...u),c=(u=DM())=>{i=o(fF([0]),u),r=o(),u.length!==0&&(i=o(fF([1]),u),r=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,p=[];for(;u<e;){r=o();let g=r.slice();p.push(g),u+=r.length}return J9(...p)};return(u,p)=>{a(),c(u);let g;for(;!(g=p(l()));)c();return a(),g}}var ge0={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ee(t,e,n={}){let r=(i,s,a)=>{let o=ge0[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);let c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(let[i,s]of Object.entries(e))r(i,s,!1);for(let[i,s]of Object.entries(n))r(i,s,!0);return t}var V4=BigInt(0),l4=BigInt(1),xn=BigInt(2),ve0=BigInt(3),RM=BigInt(4),xF=BigInt(5),wF=BigInt(8),be0=BigInt(9),xe0=BigInt(16);function X4(t,e){let n=t%e;return n>=V4?n:e+n}function we0(t,e,n){if(n<=V4||e<V4)throw new Error("Expected power/modulo > 0");if(n===l4)return V4;let r=l4;for(;e>V4;)e&l4&&(r=r*t%n),t=t*t%n,e>>=l4;return r}function v6(t,e,n){let r=t;for(;e-- >V4;)r*=r,r%=n;return r}function ef(t,e){if(t===V4||e<=V4)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=X4(t,e),r=e,i=V4,s=l4,a=l4,o=V4;for(;n!==V4;){let l=r/n,h=r%n,u=i-a*l,p=s-o*l;r=n,n=h,i=a,s=o,a=u,o=p}if(r!==l4)throw new Error("invert: does not exist");return X4(i,e)}function ye0(t){let e=(t-l4)/xn,n,r,i;for(n=t-l4,r=0;n%xn===V4;n/=xn,r++);for(i=xn;i<t&&we0(i,e,t)!==t-l4;i++);if(r===1){let a=(t+l4)/RM;return function(c,l){let h=c.pow(l,a);if(!c.eql(c.sqr(h),l))throw new Error("Cannot find square root");return h}}let s=(n+l4)/xn;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=r,h=o.pow(o.mul(o.ONE,i),n),u=o.pow(c,s),p=o.pow(c,n);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let g=1;for(let w=o.sqr(p);g<l&&!o.eql(w,o.ONE);g++)w=o.sqr(w);let f=o.pow(h,l4<<BigInt(l-g-1));h=o.sqr(f),u=o.mul(u,f),p=o.mul(p,h),l=g}return u}}function ze0(t){if(t%RM===ve0){let e=(t+l4)/RM;return function(r,i){let s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%wF===xF){let e=(t-xF)/wF;return function(r,i){let s=r.mul(i,xn),a=r.pow(s,e),o=r.mul(i,a),c=r.mul(r.mul(o,xn),a),l=r.mul(o,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%xe0,ye0(t)}var Me0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function NM(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Me0.reduce((r,i)=>(r[i]="function",r),e);return Ee(t,n)}function Ce0(t,e,n){if(n<V4)throw new Error("Expected power > 0");if(n===V4)return t.ONE;if(n===l4)return e;let r=t.ONE,i=e;for(;n>V4;)n&l4&&(r=t.mul(r,i)),i=t.sqr(i),n>>=l4;return r}function Ae0(t,e){let n=new Array(e.length),r=e.reduce((s,a,o)=>t.is0(a)?s:(n[o]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,o)=>t.is0(a)?s:(n[o]=t.mul(s,n[o]),t.mul(s,a)),i),n}function tf(t,e){let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yF(t,e,n=!1,r={}){if(t<=V4)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=tf(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=ze0(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Vc(i),ZERO:V4,ONE:l4,create:c=>X4(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return V4<=c&&c<t},is0:c=>c===V4,isOdd:c=>(c&l4)===l4,neg:c=>X4(-c,t),eql:(c,l)=>c===l,sqr:c=>X4(c*c,t),add:(c,l)=>X4(c+l,t),sub:(c,l)=>X4(c-l,t),mul:(c,l)=>X4(c*l,t),pow:(c,l)=>Ce0(o,c,l),div:(c,l)=>X4(c*ef(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ef(c,t),sqrt:r.sqrt||(c=>a(o,c)),invertBatch:c=>Ae0(o,c),cmov:(c,l,h)=>h?l:c,toBytes:c=>n?FM(c,s):_e(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Xm(c):H7(c)}});return Object.freeze(o)}function zF(t,e,n=!1){t=L5("privateHash",t);let r=t.length,i=tf(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);let s=n?Xm(t):H7(t);return X4(s,e-l4)+l4}var Ee0=BigInt(0),BM=BigInt(1);function MF(t,e){let n=(i,s)=>{let a=s.negate();return i?a:s},r=i=>{let s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:n,unsafeLadder(i,s){let a=t.ZERO,o=i;for(;s>Ee0;)s&BM&&(a=a.add(o)),o=o.double(),s>>=BM;return a},precomputeWindow(i,s){let{windows:a,windowSize:o}=r(s),c=[],l=i,h=l;for(let u=0;u<a;u++){h=l,c.push(h);for(let p=1;p<o;p++)h=h.add(l),c.push(h);l=h.double()}return c},wNAF(i,s,a){let{windows:o,windowSize:c}=r(i),l=t.ZERO,h=t.BASE,u=BigInt(2**i-1),p=2**i,g=BigInt(i);for(let f=0;f<o;f++){let w=f*c,L=Number(a&u);a>>=g,L>c&&(L-=p,a+=BM);let A=w,_=w+Math.abs(L)-1,R=f%2!==0,G=L<0;L===0?h=h.add(n(R,s[A])):l=l.add(n(G,s[_]))}return{p:l,f:h}},wNAFCached(i,s,a,o){let c=i._WINDOW_SIZE||1,l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,o(l))),this.wNAF(c,l,a)}}}function ZM(t){return NM(t.Fp),Ee(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(i1(c0(c0({},tf(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}function Se0(t){let e=ZM(t);Ee(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(c0({},e))}var{bytesToNumberBE:ke0,hexToBytes:Te0}=VM,wn={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=wn;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ke0(r),l:t.subarray(n+2)}},toSig(t){let{Err:e}=wn,n=typeof t=="string"?Te0(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=wn._parseInt(n.subarray(2)),{d:a,l:o}=wn._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let h=l.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,a=i.length/2,o=n(s),c=n(a);return`30${n(a+s+4)}02${c}${i}02${o}${r}`}},Se=BigInt(0),q6=BigInt(1),Tk0=BigInt(2),CF=BigInt(3),Pk0=BigInt(4);function Pe0(t){let e=Se0(t),{Fp:n}=e,r=e.toBytes||((f,w,L)=>{let A=w.toAffine();return J9(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),i=e.fromBytes||(f=>{let w=f.subarray(1),L=n.fromBytes(w.subarray(0,n.BYTES)),A=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:L,y:A}});function s(f){let{a:w,b:L}=e,A=n.sqr(f),_=n.mul(A,f);return n.add(n.add(_,n.mul(f,w)),L)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(f){return typeof f=="bigint"&&Se<f&&f<e.n}function o(f){if(!a(f))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(f){let{allowedPrivateKeyLengths:w,nByteLength:L,wrapPrivateKey:A,n:_}=e;if(w&&typeof f!="bigint"){if(f instanceof Uint8Array&&(f=vn(f)),typeof f!="string"||!w.includes(f.length))throw new Error("Invalid key");f=f.padStart(L*2,"0")}let R;try{R=typeof f=="bigint"?f:H7(L5("private key",f,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof f}`)}return A&&(R=X4(R,_)),o(R),R}let l=new Map;function h(f){if(!(f instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(w,L,A){if(this.px=w,this.py=L,this.pz=A,w==null||!n.isValid(w))throw new Error("x required");if(L==null||!n.isValid(L))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required")}static fromAffine(w){let{x:L,y:A}=w||{};if(!w||!n.isValid(L)||!n.isValid(A))throw new Error("invalid affine point");if(w instanceof u)throw new Error("projective point not allowed");let _=R=>n.eql(R,n.ZERO);return _(L)&&_(A)?u.ZERO:new u(L,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let L=n.invertBatch(w.map(A=>A.pz));return w.map((A,_)=>A.toAffine(L[_])).map(u.fromAffine)}static fromHex(w){let L=u.fromAffine(i(L5("pointHex",w)));return L.assertValidity(),L}static fromPrivateKey(w){return u.BASE.multiply(c(w))}_setWindowSize(w){this._WINDOW_SIZE=w,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:w,y:L}=this.toAffine();if(!n.isValid(w)||!n.isValid(L))throw new Error("bad point: x or y not FE");let A=n.sqr(L),_=s(w);if(!n.eql(A,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){h(w);let{px:L,py:A,pz:_}=this,{px:R,py:G,pz:K}=w,Z=n.eql(n.mul(L,K),n.mul(R,_)),$=n.eql(n.mul(A,K),n.mul(G,_));return Z&&$}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){let{a:w,b:L}=e,A=n.mul(L,CF),{px:_,py:R,pz:G}=this,K=n.ZERO,Z=n.ZERO,$=n.ZERO,n0=n.mul(_,_),h0=n.mul(R,R),X=n.mul(G,G),H=n.mul(_,R);return H=n.add(H,H),$=n.mul(_,G),$=n.add($,$),K=n.mul(w,$),Z=n.mul(A,X),Z=n.add(K,Z),K=n.sub(h0,Z),Z=n.add(h0,Z),Z=n.mul(K,Z),K=n.mul(H,K),$=n.mul(A,$),X=n.mul(w,X),H=n.sub(n0,X),H=n.mul(w,H),H=n.add(H,$),$=n.add(n0,n0),n0=n.add($,n0),n0=n.add(n0,X),n0=n.mul(n0,H),Z=n.add(Z,n0),X=n.mul(R,G),X=n.add(X,X),n0=n.mul(X,H),K=n.sub(K,n0),$=n.mul(X,h0),$=n.add($,$),$=n.add($,$),new u(K,Z,$)}add(w){h(w);let{px:L,py:A,pz:_}=this,{px:R,py:G,pz:K}=w,Z=n.ZERO,$=n.ZERO,n0=n.ZERO,h0=e.a,X=n.mul(e.b,CF),H=n.mul(L,R),U=n.mul(A,G),P=n.mul(_,K),d=n.add(L,A),y=n.add(R,G);d=n.mul(d,y),y=n.add(H,U),d=n.sub(d,y),y=n.add(L,_);let M=n.add(R,K);return y=n.mul(y,M),M=n.add(H,P),y=n.sub(y,M),M=n.add(A,_),Z=n.add(G,K),M=n.mul(M,Z),Z=n.add(U,P),M=n.sub(M,Z),n0=n.mul(h0,y),Z=n.mul(X,P),n0=n.add(Z,n0),Z=n.sub(U,n0),n0=n.add(U,n0),$=n.mul(Z,n0),U=n.add(H,H),U=n.add(U,H),P=n.mul(h0,P),y=n.mul(X,y),U=n.add(U,P),P=n.sub(H,P),P=n.mul(h0,P),y=n.add(y,P),H=n.mul(U,y),$=n.add($,H),H=n.mul(M,y),Z=n.mul(d,Z),Z=n.sub(Z,H),H=n.mul(d,U),n0=n.mul(M,n0),n0=n.add(n0,H),new u(Z,$,n0)}subtract(w){return this.add(w.negate())}is0(){return this.equals(u.ZERO)}wNAF(w){return g.wNAFCached(this,l,w,L=>{let A=n.invertBatch(L.map(_=>_.pz));return L.map((_,R)=>_.toAffine(A[R])).map(u.fromAffine)})}multiplyUnsafe(w){let L=u.ZERO;if(w===Se)return L;if(o(w),w===q6)return this;let{endo:A}=e;if(!A)return g.unsafeLadder(this,w);let{k1neg:_,k1:R,k2neg:G,k2:K}=A.splitScalar(w),Z=L,$=L,n0=this;for(;R>Se||K>Se;)R&q6&&(Z=Z.add(n0)),K&q6&&($=$.add(n0)),n0=n0.double(),R>>=q6,K>>=q6;return _&&(Z=Z.negate()),G&&($=$.negate()),$=new u(n.mul($.px,A.beta),$.py,$.pz),Z.add($)}multiply(w){o(w);let L=w,A,_,{endo:R}=e;if(R){let{k1neg:G,k1:K,k2neg:Z,k2:$}=R.splitScalar(L),{p:n0,f:h0}=this.wNAF(K),{p:X,f:H}=this.wNAF($);n0=g.constTimeNegate(G,n0),X=g.constTimeNegate(Z,X),X=new u(n.mul(X.px,R.beta),X.py,X.pz),A=n0.add(X),_=h0.add(H)}else{let{p:G,f:K}=this.wNAF(L);A=G,_=K}return u.normalizeZ([A,_])[0]}multiplyAndAddUnsafe(w,L,A){let _=u.BASE,R=(K,Z)=>Z===Se||Z===q6||!K.equals(_)?K.multiplyUnsafe(Z):K.multiply(Z),G=R(this,L).add(R(w,A));return G.is0()?void 0:G}toAffine(w){let{px:L,py:A,pz:_}=this,R=this.is0();w==null&&(w=R?n.ONE:n.inv(_));let G=n.mul(L,w),K=n.mul(A,w),Z=n.mul(_,w);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Z,n.ONE))throw new Error("invZ was invalid");return{x:G,y:K}}isTorsionFree(){let{h:w,isTorsionFree:L}=e;if(w===q6)return!0;if(L)return L(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:L}=e;return w===q6?this:L?L(u,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(u,this,w)}toHex(w=!0){return vn(this.toRawBytes(w))}}u.BASE=new u(e.Gx,e.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);let p=e.nBitLength,g=MF(u,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function Le0(t){let e=ZM(t);return Ee(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(c0({lowS:!0},e))}function AF(t){let e=Le0(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function a(y){return Se<y&&y<n.ORDER}function o(y){return X4(y,r)}function c(y){return ef(y,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:u,isWithinCurveOrder:p}=Pe0(i1(c0({},e),{toBytes(y,M,E){let O=M.toAffine(),S=n.toBytes(O.x),D=J9;return E?D(Uint8Array.from([M.hasEvenY()?2:3]),S):D(Uint8Array.from([4]),S,n.toBytes(O.y))},fromBytes(y){let M=y.length,E=y[0],O=y.subarray(1);if(M===i&&(E===2||E===3)){let S=H7(O);if(!a(S))throw new Error("Point is not on curve");let D=u(S),I=n.sqrt(D),m=(I&q6)===q6;return(E&1)===1!==m&&(I=n.neg(I)),{x:S,y:I}}else if(M===s&&E===4){let S=n.fromBytes(O.subarray(0,n.BYTES)),D=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:S,y:D}}else throw new Error(`Point of length ${M} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}})),g=y=>vn(_e(y,e.nByteLength));function f(y){let M=r>>q6;return y>M}function w(y){return f(y)?o(-y):y}let L=(y,M,E)=>H7(y.slice(M,E));class A{constructor(M,E,O){this.r=M,this.s=E,this.recovery=O,this.assertValidity()}static fromCompact(M){let E=e.nByteLength;return M=L5("compactSignature",M,E*2),new A(L(M,0,E),L(M,E,2*E))}static fromDER(M){let{r:E,s:O}=wn.toSig(L5("DER",M));return new A(E,O)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new A(this.r,this.s,M)}recoverPublicKey(M){let{r:E,s:O,recovery:S}=this,D=$(L5("msgHash",M));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");let I=S===2||S===3?E+e.n:E;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let m=S&1?"03":"02",z=l.fromHex(m+g(I)),r0=c(I),T=o(-D*r0),s0=o(O*r0),i0=l.BASE.multiplyAndAddUnsafe(z,T,s0);if(!i0)throw new Error("point at infinify");return i0.assertValidity(),i0}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return bn(this.toDERHex())}toDERHex(){return wn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return bn(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let _={isValidPrivateKey(y){try{return h(y),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let y=e.randomBytes(n.BYTES+8),M=zF(y,r);return _e(M,e.nByteLength)},precompute(y=8,M=l.BASE){return M._setWindowSize(y),M.multiply(BigInt(3)),M}};function R(y,M=!0){return l.fromPrivateKey(y).toRawBytes(M)}function G(y){let M=y instanceof Uint8Array,E=typeof y=="string",O=(M||E)&&y.length;return M?O===i||O===s:E?O===2*i||O===2*s:y instanceof l}function K(y,M,E=!0){if(G(y))throw new Error("first arg must be private key");if(!G(M))throw new Error("second arg must be public key");return l.fromHex(M).multiply(h(y)).toRawBytes(E)}let Z=e.bits2int||function(y){let M=H7(y),E=y.length*8-e.nBitLength;return E>0?M>>BigInt(E):M},$=e.bits2int_modN||function(y){return o(Z(y))},n0=Vc(e.nBitLength);function h0(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Se<=y&&y<n0))throw new Error(`bigint expected < 2^${e.nBitLength}`);return _e(y,e.nByteLength)}function X(y,M,E=H){if(["recovered","canonical"].some(q=>q in E))throw new Error("sign() legacy options not supported");let{hash:O,randomBytes:S}=e,{lowS:D,prehash:I,extraEntropy:m}=E;D==null&&(D=!0),y=L5("msgHash",y),I&&(y=L5("prehashed msgHash",O(y)));let z=$(y),r0=h(M),T=[h0(r0),h0(z)];if(m!=null){let q=m===!0?S(n.BYTES):m;T.push(L5("extraEntropy",q,n.BYTES))}let s0=J9(...T),i0=z;function W(q){let a0=Z(q);if(!p(a0))return;let u0=c(a0),C0=l.BASE.multiply(a0).toAffine(),Y0=o(C0.x);if(Y0===Se)return;let L0=o(u0*o(i0+Y0*r0));if(L0===Se)return;let g0=(C0.x===Y0?0:2)|Number(C0.y&q6),R0=L0;return D&&f(L0)&&(R0=w(L0),g0^=1),new A(Y0,R0,g0)}return{seed:s0,k2sig:W}}let H={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function P(y,M,E=H){let{seed:O,k2sig:S}=X(y,M,E),D=e;return HM(D.hash.outputLen,D.nByteLength,D.hmac)(O,S)}l.BASE._setWindowSize(8);function d(y,M,E,O=U){let S=y;if(M=L5("msgHash",M),E=L5("publicKey",E),"strict"in O)throw new Error("options.strict was renamed to lowS");let{lowS:D,prehash:I}=O,m,z;try{if(typeof S=="string"||S instanceof Uint8Array)try{m=A.fromDER(S)}catch(C0){if(!(C0 instanceof wn.Err))throw C0;m=A.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){let{r:C0,s:Y0}=S;m=new A(C0,Y0)}else throw new Error("PARSE");z=l.fromHex(E)}catch(C0){if(C0.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&m.hasHighS())return!1;I&&(M=e.hash(M));let{r:r0,s:T}=m,s0=$(M),i0=c(T),W=o(s0*i0),q=o(r0*i0),a0=l.BASE.multiplyAndAddUnsafe(z,W,q)?.toAffine();return a0?o(a0.x)===r0:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:K,sign:P,verify:d,ProjectivePoint:l,Signature:A,utils:_}}function Ie0(t){return{hash:t,hmac:(e,...n)=>Fc(t,e,rn(...n)),randomBytes:cc}}function _F(t,e){let n=r=>AF(c0(c0({},t),Ie0(r)));return Object.freeze(i1(c0({},n(e)),{create:n}))}var kF=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),EF=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),De0=BigInt(1),jM=BigInt(2),SF=(t,e)=>(t+e/jM)/e;function Oe0(t){let e=kF,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,u=v6(h,n,e)*h%e,p=v6(u,n,e)*h%e,g=v6(p,jM,e)*l%e,f=v6(g,i,e)*g%e,w=v6(f,s,e)*f%e,L=v6(w,o,e)*w%e,A=v6(L,c,e)*L%e,_=v6(A,o,e)*w%e,R=v6(_,n,e)*h%e,G=v6(R,a,e)*f%e,K=v6(G,r,e)*l%e,Z=v6(K,jM,e);if(!UM.eql(UM.sqr(Z),t))throw new Error("Cannot find square root");return Z}var UM=yF(kF,void 0,void 0,{sqrt:Oe0}),Rc=_F({a:BigInt(0),b:BigInt(7),Fp:UM,n:EF,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=EF,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-De0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=SF(s*t,e),c=SF(-r*t,e),l=X4(t-o*n-c*i,e),h=X4(-o*r-c*s,e),u=l>a,p=h>a;if(u&&(l=e-l),p&&(h=e-h),l>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:l,k2neg:p,k2:h}}}},gn),Xk0=BigInt(0);var eT0=Rc.ProjectivePoint;var qM,b6=(qM=Rc)!==null&&qM!==void 0?qM:GM,WM=BigInt("0xffffffffffffffff"),ke=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Fe0=b6.CURVE.n,TF=Fe0/BigInt(2);var PF={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Nc=function(t){return t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia",t}(Nc||{}),_3=function(t){return t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork",t}(_3||{});var m5=function(t){return t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum",t}(m5||{});var x6=function(t){return t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString",t}(x6||{});var LF=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Cm(t)?t.slice(2):t};function He0(t){return!t||t==="0x0"?"0x0000000000000000":Cm(t)?`0x${LF(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}var IF=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function Ve0(t,e=!0){var n,r;let{name:i,config:s,difficulty:a,mixHash:o,gasLimit:c,coinbase:l,baseFeePerGas:h}=t,{extraData:u,timestamp:p,nonce:g}=t,f=Number(p),{chainId:w}=s;if(u===""&&(u="0x"),Cm(p)||(p=IF(parseInt(p))),g.length!==18&&(g=He0(g)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");let L={name:i,chainId:w,networkId:w,genesis:{timestamp:p,gasLimit:parseInt(c),difficulty:parseInt(a),nonce:g,extraData:u,mixHash:o,coinbase:l,baseFeePerGas:h},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:s.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=s.clique.period)!==null&&n!==void 0?n:s.clique.blockperiodseconds,epoch:(r=s.clique.epoch)!==null&&r!==void 0?r:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},A={[_3.Homestead]:{name:"homesteadBlock"},[_3.Dao]:{name:"daoForkBlock"},[_3.TangerineWhistle]:{name:"eip150Block"},[_3.SpuriousDragon]:{name:"eip155Block"},[_3.Byzantium]:{name:"byzantiumBlock"},[_3.Constantinople]:{name:"constantinopleBlock"},[_3.Petersburg]:{name:"petersburgBlock"},[_3.Istanbul]:{name:"istanbulBlock"},[_3.MuirGlacier]:{name:"muirGlacierBlock"},[_3.Berlin]:{name:"berlinBlock"},[_3.London]:{name:"londonBlock"},[_3.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[_3.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[_3.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},_=Object.keys(A).reduce((K,Z)=>(K[A[Z].name]=Z,K),{}),R=Object.keys(s).filter(K=>_[K]!==void 0&&s[K]!==void 0&&s[K]!==null);if(L.hardforks=R.map(K=>({name:_[K],block:A[_[K]].isTimestamp===!0||typeof s[K]!="number"?null:s[K],timestamp:A[_[K]].isTimestamp===!0&&typeof s[K]=="number"?s[K]:void 0})).filter(K=>K.block!==null||K.timestamp!==void 0),L.hardforks.sort((K,Z)=>{var $,n0;return(($=K.block)!==null&&$!==void 0?$:1/0)-((n0=Z.block)!==null&&n0!==void 0?n0:1/0)}),L.hardforks.sort((K,Z)=>{var $,n0;return(($=K.timestamp)!==null&&$!==void 0?$:f)-((n0=Z.timestamp)!==null&&n0!==void 0?n0:f)}),s.terminalTotalDifficulty!==void 0){let K={name:_3.Merge,ttd:s.terminalTotalDifficulty,block:null},Z=L.hardforks.findIndex($=>{var n0;return((n0=A[$.name])===null||n0===void 0?void 0:n0.postMerge)===!0});Z!==-1?L.hardforks.splice(Z,0,K):L.hardforks.push(K)}let G=L.hardforks.length>0?L.hardforks.slice(-1)[0]:void 0;return L.hardfork=G?.name,L.hardforks.unshift({name:_3.Chainstart,block:0}),L}function DF(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),Ve0(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function OF(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}var FF=function(t){let e=IF(t);return W2(`0x${OF(e.slice(2))}`)},m3=function(t){if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!Yz(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return W2(OF(LF(t)))}if(typeof t=="number")return m3(_4(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e=`0${e}`),m3(`0x${e}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function o3(t){let e=D1(t);return BigInt(e==="0x"?0:e)}function Re0(t){return m3(`0x${t.toString(16)}`)}var $M=function(t){return new Uint8Array(t).fill(0)},Ne0=function(t,e,n){let r=$M(e);return n?t.length<e?(r.set(t),r):t.subarray(0,e):t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function nf(t){if(!(t instanceof Uint8Array)){let e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}var KM=function(t,e){return nf(t),Ne0(t,e,!1)};function Be0(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}var ji=function(t){return nf(t),Be0(t)},O3=t=>`0x${t.toString(16)}`;function D2(t){return ji(Re0(t))}function Ze0(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function je0(t){return t===BigInt(0)||t===BigInt(1)}var Ui=function(t,e,n,r,i){let s=Ze0(e,i);if(!je0(s))throw new Error("Invalid signature v value");return new b6.Signature(o3(n),o3(r)).addRecoveryBit(Number(s)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function yn(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!Yz(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let n=m3(t);switch(e){case x6.Uint8Array:return n;case x6.BigInt:return o3(n);case x6.Number:{let r=o3(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case x6.PrefixedHexString:return D1(n);default:throw new Error("unknown outputType")}}var hf=a4(sf(),1);var FH=a4(qF(),1);var WF={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]};var $F={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]};var KF={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]};var QF={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}};var YF={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}};var JF={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}};var XF={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}};var eH={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}};var tH={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}};var nH={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}};var rH={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}};var iH={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}};var sH={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}};var aH={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}};var oH={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var cH={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}};var lH={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var hH={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}};var uH={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}};var dH={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var pH={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}};var mH={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}};var fH={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}};var gH={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var vH={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}};var zn={1153:QF,1559:YF,2315:JF,2537:XF,2565:eH,2718:tH,2929:nH,2930:rH,3198:iH,3529:sH,3540:aH,3541:oH,3554:cH,3607:lH,3651:hH,3670:uH,3675:dH,3855:pH,3860:mH,4345:fH,4399:gH,5133:vH};var bH={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}};var xH={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}};var wH={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}};var yH={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}};var zH={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}};var MH={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}};var CH={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}};var AH={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}};var _H={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}};var EH={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}};var SH={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]};var kH={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]};var TH={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]};var PH={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}};var LH={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}};var IH={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]};var DH={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]};var OH={chainstart:bH,homestead:wH,dao:xH,tangerineWhistle:yH,spuriousDragon:zH,byzantium:MH,constantinople:CH,petersburg:AH,istanbul:_H,muirGlacier:EH,berlin:SH,london:kH,shanghai:TH,arrowGlacier:PH,grayGlacier:LH,mergeForkIdTransition:IH,merge:DH};var{buf:We0}=FH.default,T8=class t extends hn{constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:_3.Merge,this.HARDFORK_CHANGES=this.hardforks().map(i=>[i.name,OH[i.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,n={}){var r;let i=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",s=Object.assign({},t._getChainParams(i));if(s.name="custom-chain",typeof e!="string")return new t(Object.assign({chain:Object.assign(Object.assign({},s),e)},n));if(e===m5.PolygonMainnet)return t.custom({name:m5.PolygonMainnet,chainId:137,networkId:137},n);if(e===m5.PolygonMumbai)return t.custom({name:m5.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===m5.ArbitrumRinkebyTestnet)return t.custom({name:m5.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===m5.ArbitrumOne)return t.custom({name:m5.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===m5.xDaiChain)return t.custom({name:m5.xDaiChain,chainId:100,networkId:100},n);if(e===m5.OptimisticKovan)return t.custom({name:m5.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:_3.Berlin},n));if(e===m5.OptimisticEthereum)return t.custom({name:m5.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:_3.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:i,hardfork:s,mergeForkIdPostMerge:a}){var o;let c=DF(e,n,a),l=new t({chain:(o=c.name)!==null&&o!==void 0?o:"custom",customChains:[c],eips:r,hardfork:s??c.hardfork});return i!==void 0&&l.setForkHashes(i),l}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e,i=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),i.names[r]){let s=i.names[r];return i[s]}throw new Error(`Chain with ID ${r} not supported`)}if(i[r]!==void 0)return i[r];throw new Error(`Chain with name ${r} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=t._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");let n=["networkId","genesis","hardforks","bootstrapNodes"];for(let r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(let n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(let r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){let i=yn(e,x6.BigInt),s=yn(n,x6.BigInt),a=yn(r,x6.Number),o=this.hardforks().filter(g=>g.block!==null||g.ttd!==null&&g.ttd!==void 0||g.timestamp!==void 0),c=o.findIndex(g=>g.ttd!==null&&g.ttd!==void 0);if(o.slice(c+1).findIndex(g=>g.ttd!==null&&g.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let h=o.findIndex(g=>g.block!==null&&g.block>i||a!==void 0&&Number(g.timestamp)>a);if(h===-1)h=o.length;else if(h===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){let g=o.slice(0,h).reverse().findIndex(f=>f.block!==null||f.ttd!==void 0);h-=g}if(h-=1,o[h].block===null&&o[h].timestamp===void 0)(s==null||BigInt(o[h].ttd)>s)&&(h-=1);else if(c>=0&&s!==void 0&&s!==null){if(h>=c&&BigInt(o[c].ttd)>s)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(h<c&&BigInt(o[c].ttd)<=s)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}let u=h;for(;h<o.length-1&&!(o[h].block!==o[h+1].block||o[h].timestamp!==o[h+1].timestamp);h+=1);if(a){if(o.slice(0,u).reduce((w,L)=>{var A;return Math.max(Number((A=L.timestamp)!==null&&A!==void 0?A:"0"),w)},0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(h+1).reduce((w,L)=>{var A;return Math.min(Number((A=L.timestamp)!==null&&A!==void 0?A:a),w)},a)<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[h].name}setHardforkByBlockNumber(e,n,r){let i=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(i),i}_getHardfork(e){let n=this.hardforks();for(let r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(let n of e){if(!(n in zn))throw new Error(`${n} not supported`);let r=this.gteHardfork(zn[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(zn[n].requiredEIPs!==void 0){for(let i of zn[n].requiredEIPs)if(!(e.includes(i)||this.isActivatedEIP(i)))throw new Error(`${n} requires EIP ${i}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(let i of this._eips)if(r=this.paramByEIP(e,n,i),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let i=null;for(let s of this.HARDFORK_CHANGES){if("eips"in s[1]){let a=s[1].eips;for(let o of a){let c=this.paramByEIP(e,n,o);i=typeof c=="bigint"?c:i}}else{if(s[1][e]===void 0)throw new Error(`Topic ${e} not defined`);s[1][e][n]!==void 0&&(i=s[1][e][n].v)}if(s[0]===r)break}return BigInt(i??0)}paramByEIP(e,n,r){if(!(r in zn))throw new Error(`${r} not supported`);let i=zn[r];if(!(e in i))throw new Error(`Topic ${e} not defined`);if(i[e][n]===void 0)return;let s=i[e][n].v;return BigInt(s)}paramByBlock(e,n,r,i,s){let a=this.getHardforkByBlockNumber(r,i,s);return this.paramByHardfork(e,n,a)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(let n of this.HARDFORK_CHANGES){let r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){let r=yn(n,x6.BigInt),i=e??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)&&r>=s}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){let r=e??this._hardfork,i=this.hardforks(),s=-1,a=-1,o=0;for(let c of i)c.name===r&&(s=o),c.name===n&&(a=o),o+=1;return s>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;let r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return i==null?null:BigInt(i)}hardforkTimestamp(e){var n;let r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return i==null?null:BigInt(i)}eipBlock(e){for(let n of this.HARDFORK_CHANGES){let r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;let r=e??this._hardfork,i=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return i==null?null:BigInt(i)}isHardforkBlock(e,n){let r=yn(e,x6.BigInt),i=n??this._hardfork,s=this.hardforkBlock(i);return typeof s=="bigint"&&s!==BigInt(0)?s===r:!1}nextHardforkBlockOrTimestamp(e){var n,r;let i=e??this._hardfork,s=this.hardforks(),a=s.findIndex(h=>h.name===i);if(i===_3.Merge&&(a-=1),a<0)return null;let o=(n=s[a].timestamp)!==null&&n!==void 0?n:s[a].block;o=o!=null?Number(o):null;let c=s.slice(a+1).find(h=>{var u;let p=(u=h.timestamp)!==null&&u!==void 0?u:h.block;return p=p!=null?Number(p):null,h.name!==_3.Merge&&p!==null&&p!==void 0&&p!==o});if(c===void 0)return null;let l=(r=c.timestamp)!==null&&r!==void 0?r:c.block;return l==null?null:BigInt(l)}nextHardforkBlock(e){let n=e??this._hardfork,r=this.hardforkBlock(n);if(r===null&&n===_3.Merge){let s=this.hardforks(),a=s.findIndex(o=>o.ttd!==null&&o.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");r=this.hardforkBlock(s[a-1].name)}return r===null?null:this.hardforks().reduce((s,a)=>{let o=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return o>r&&s===null?o:s},null)}isNextHardforkBlock(e,n){let r=yn(e,x6.BigInt),i=n??this._hardfork,s=this.nextHardforkBlock(i);return s===null?!1:s===r}_calcForkHash(e,n){let r=new Uint8Array,i=0;for(let o of this.hardforks()){let{block:c,timestamp:l,name:h}=o,u=l??c;if(u=u!==null?Number(u):null,typeof u=="number"&&u!==0&&u!==i&&h!==_3.Merge){let p=W2(u.toString(16).padStart(16,"0"));r=Y3(r,p),i=u}if(o.name===e)break}let s=Y3(n,r);return D1(FF(We0(s)>>>0))}forkHash(e,n){let r=e??this._hardfork,i=this._getHardfork(r);if(i===null||i?.block===null&&i?.timestamp===void 0&&i?.ttd===void 0){let s="No fork hash calculation possible for future hardfork";throw new Error(s)}if(i?.forkHash!==null&&i?.forkHash!==void 0)return i.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){let n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(let r of this.hardforks()){let i=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(i!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){let e=this.hardfork(),n;for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){let e=this.hardfork(),n;for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;let n=this.hardfork(),r;for(let i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(r=i[1].consensus[i[1].consensus.algorithm]),i[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){let e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){let n={};for(let[i,s]of Object.entries(Nc))n[s]=i.toLowerCase();let r={mainnet:$F,goerli:WF,sepolia:KF};if(e)for(let i of e){let{name:s}=i;n[i.chainId.toString()]=s,r[s]=i}return r.names=n,r}};var V7=function(t){return t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists",t}(V7||{});function $e0(t){if(t.length===0)return!0;let e=t[0];return!!Array.isArray(e)}function HH(t){return!$e0(t)}var qi=class t{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new t($M(20))}equals(e){return un(this.buf,e.buf)}isZero(){return this.equals(t.zero())}toString(){return D1(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(nf(r),n&&r.length!==64&&(r=b6.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return U3(r).slice(-20)}};var VH=(t,e)=>{let n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},af=t=>{let e,n;if(HH(t)){e=t;let r=[];for(let i=0;i<t.length;i+=1){let s=t[i],a=m3(s.address),o=[];for(let c=0;c<s.storageKeys.length;c+=1)o.push(m3(s.storageKeys[c]));r.push([a,o])}n=r}else{n=t??[];let r=[];for(let i=0;i<n.length;i+=1){let s=n[i],a=D1(s[0]),o=[];for(let l=0;l<s[1].length;l+=1)o.push(D1(s[1][l]));let c={address:a,storageKeys:o};r.push(c)}e=r}return{AccessListJSON:e,accessList:n}},of=t=>{for(let e=0;e<t.length;e+=1){let n=t[e],r=n[0],i=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let s=0;s<i.length;s+=1)if(i[s].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},cf=t=>{let e=[];for(let n=0;n<t.length;n+=1){let r=t[n],i={address:D1(KM(r[0],20)),storageKeys:[]},s=r&&r[1];for(let a=0;a<s.length;a+=1){let o=s[a];i.storageKeys.push(D1(KM(o,32)))}e.push(i)}return e},lf=(t,e)=>{let n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost"),i=0;for(let a=0;a<t.length;a+=1){let c=t[a][1];i+=c.length}return t.length*Number(r)+i*Number(n)};var W6=class{constructor(e,n){var r,i;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Nc.Mainnet,this.DEFAULT_HARDFORK=_3.Merge;let{nonce:s,gasLimit:a,to:o,value:c,data:l,v:h,r:u,s:p,type:g}=e;this._type=Number(o3(m3(g))),this.txOptions=n;let f=m3(o===""?"0x":o),w=m3(h===""?"0x":h),L=m3(u===""?"0x":u),A=m3(p===""?"0x":p);this.nonce=o3(m3(s===""?"0x":s)),this.gasLimit=o3(m3(a===""?"0x":a)),this.to=f.length>0?new qi(f):void 0,this.value=o3(m3(c===""?"0x":c)),this.data=m3(l===""?"0x":l),this.v=w.length>0?o3(w):void 0,this.r=L.length>0?o3(L):void 0,this.s=A.length>0?o3(A):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);let _=this.to===void 0||this.to===null,R=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,G=(i=n.common)!==null&&i!==void 0?i:this._getCommon();_&&G.isActivatedEIP(3860)&&!R&&VH(G,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){let n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){let{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){let n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){let{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>TF){let n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){let e=this.common.param("gasPrices","tx"),n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){let r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){let e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero"),r=BigInt(0);for(let i=0;i<this.data.length;i+=1)this.data[i]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){let i=BigInt(Math.ceil(this.data.length/32)),s=this.common.param("gasPrices","initCodeWordCost")*i;r+=s}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){let{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{let e=this.getSenderPublicKey();return ji(e).length!==0}catch{return!1}}getSenderAddress(){return new qi(qi.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){let c=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(c)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(V7.EIP155ReplayProtection)&&(this.activeCapabilities.push(V7.EIP155ReplayProtection),n=!0);let r=this.getMessageToSign(!0),{v:i,r:s,s:a}=this._ecsign(r,e),o=this._processSignature(i,s,a);if(n){let c=this.activeCapabilities.indexOf(V7.EIP155ReplayProtection);c>-1&&this.activeCapabilities.splice(c,1)}return o}_getCommon(e,n){var r;if(n!==void 0){let i=o3(m3(n));if(e){if(e.chainId()!==i){let s=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(s)}return e.copy()}return T8.isSupportedChainId(i)?new T8({chain:i,hardfork:this.DEFAULT_HARDFORK}):T8.custom({name:"custom-chain",networkId:i,chainId:i},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}return(r=e?.copy())!==null&&r!==void 0?r:new T8({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(let[i,s]of Object.entries(e))switch(n){case 64:if(r){if(s!==void 0&&s>=WM){let a=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(a)}}else if(s!==void 0&&s>WM){let a=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(a)}break;case 256:if(r){if(s!==void 0&&s>=ke){let a=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(a)}}else if(s!==void 0&&s>ke){let a=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(a)}break;default:{let a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(e){let n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(let[r,i]of Object.entries(e))if(n.includes(r)&&Array.isArray(i))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?D1(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${n} hf=${r}`,i}_ecsign(e,n,r){let i=b6.sign(e,n),s=i.toCompactRawBytes(),a=s.subarray(0,32),o=s.subarray(32,64),c=r===void 0?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:o,v:c}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}};var nC=2,tC=W2(nC.toString(16).padStart(2,"0")),Wi=class t extends W6{constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:nC}),n),this.DEFAULT_HARDFORK="london";let{chainId:i,accessList:s,maxFeePerGas:a,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);let c=af(s??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,of(this.accessList),this.maxFeePerGas=o3(m3(a===""?"0x":a)),this.maxPriorityFeePerGas=o3(m3(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),W6._validateNotArray(e),this.gasLimit*this.maxFeePerGas>ke){let h=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(h)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){let h=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(h)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}static fromTxData(e,n={}){return new t(e,n)}static fromSerializedTx(e,n={}){if(!un(e.subarray(0,1),tC))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${nC}, received: ${D1(e.subarray(0,1))}`);let r=hf.RLP.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return t.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");let[r,i,s,a,o,c,l,h,u,p,g,f]=e;return this._validateNotArray({chainId:r,v:p}),Ai({nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:a,gasLimit:o,value:l,v:p,r:g,s:f}),new t({chainId:o3(r),nonce:i,maxPriorityFeePerGas:s,maxFeePerGas:a,gasLimit:o,to:c,value:l,data:h,accessList:u??[],v:p!==void 0?o3(p):void 0,r:g,s:f},n)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(lf(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){let n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,s=(n<r?n:r)+e;return this.gasLimit*s+this.value}raw(){return[D2(this.chainId),D2(this.nonce),D2(this.maxPriorityFeePerGas),D2(this.maxFeePerGas),D2(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),D2(this.value),this.data,this.accessList,this.v!==void 0?D2(this.v):Uint8Array.from([]),this.r!==void 0?D2(this.r):Uint8Array.from([]),this.s!==void 0?D2(this.s):Uint8Array.from([])]}serialize(){let e=this.raw();return Y3(tC,hf.RLP.encode(e))}getMessageToSign(e=!0){let n=this.raw().slice(0,9),r=Y3(tC,hf.RLP.encode(n));return e?U3(r):r}hash(){if(!this.isSigned()){let e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=U3(this.serialize())),this.cache.hash):U3(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){let s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}let e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return Ui(e,n+BigInt(27),D2(r),D2(i))}catch{let a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return t.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:o3(n),s:o3(r)},i)}toJSON(){let e=cf(this.accessList);return{chainId:O3(this.chainId),nonce:O3(this.nonce),maxPriorityFeePerGas:O3(this.maxPriorityFeePerGas),maxFeePerGas:O3(this.maxFeePerGas),gasLimit:O3(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:O3(this.value),data:D1(this.data),accessList:e,v:this.v!==void 0?O3(this.v):void 0,r:this.r!==void 0?O3(this.r):void 0,s:this.s!==void 0?O3(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}};var uf=a4(sf(),1);var iC=1,rC=W2(iC.toString(16).padStart(2,"0")),$i=class t extends W6{constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:iC}),n),this.DEFAULT_HARDFORK="berlin";let{chainId:i,accessList:s,gasPrice:a}=e;if(this.common=this._getCommon(n.common,i),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);let o=af(s??[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,of(this.accessList),this.gasPrice=o3(m3(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),W6._validateNotArray(e),this.gasPrice*this.gasLimit>ke){let l=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(l)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}static fromTxData(e,n={}){return new t(e,n)}static fromSerializedTx(e,n={}){if(!un(e.subarray(0,1),rC))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${iC}, received: ${D1(e.subarray(0,1))}`);let r=uf.RLP.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return t.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");let[r,i,s,a,o,c,l,h,u,p,g]=e;this._validateNotArray({chainId:r,v:u}),Ai({nonce:i,gasPrice:s,gasLimit:a,value:c,v:u,r:p,s:g});let f=[];return new t({chainId:o3(r),nonce:i,gasPrice:s,gasLimit:a,to:o,value:c,data:l,accessList:h??f,v:u!==void 0?o3(u):void 0,r:p,s:g},n)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(lf(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[D2(this.chainId),D2(this.nonce),D2(this.gasPrice),D2(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),D2(this.value),this.data,this.accessList,this.v!==void 0?D2(this.v):Uint8Array.from([]),this.r!==void 0?D2(this.r):Uint8Array.from([]),this.s!==void 0?D2(this.s):Uint8Array.from([])]}serialize(){let e=this.raw();return Y3(rC,uf.RLP.encode(e))}getMessageToSign(e=!0){let n=this.raw().slice(0,8),r=Y3(rC,uf.RLP.encode(n));return e?U3(r):r}hash(){if(!this.isSigned()){let e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=U3(this.serialize())),this.cache.hash):U3(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){let s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s)}let e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return Ui(e,n+BigInt(27),D2(r),D2(i))}catch{let a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return t.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:o3(n),s:o3(r)},i)}toJSON(){let e=cf(this.accessList);return{chainId:O3(this.chainId),nonce:O3(this.nonce),gasPrice:O3(this.gasPrice),gasLimit:O3(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:O3(this.value),data:D1(this.data),accessList:e,v:this.v!==void 0?O3(this.v):void 0,r:this.r!==void 0?O3(this.r):void 0,s:this.s!==void 0?O3(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}};var Mn=a4(sf(),1);var Qe0=0;function RH(t,e){let n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}var X9=class t extends W6{constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:Qe0}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=o3(m3(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>ke){let s=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(s)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),W6._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?RH(this.v,this.common.chainId())&&this.activeCapabilities.push(V7.EIP155ReplayProtection):this.activeCapabilities.push(V7.EIP155ReplayProtection)),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}static fromTxData(e,n={}){return new t(e,n)}static fromSerializedTx(e,n={}){let r=Mn.RLP.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");let[r,i,s,a,o,c,l,h,u]=e;return Ai({nonce:r,gasPrice:i,gasLimit:s,value:o,v:l,r:h,s:u}),new t({nonce:r,gasPrice:i,gasLimit:s,to:a,value:o,data:c,v:l,r:h,s:u},n)}raw(){return[D2(this.nonce),D2(this.gasPrice),D2(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),D2(this.value),this.data,this.v!==void 0?D2(this.v):Uint8Array.from([]),this.r!==void 0?D2(this.r):Uint8Array.from([]),this.s!==void 0?D2(this.s):Uint8Array.from([])]}serialize(){return Mn.RLP.encode(this.raw())}_getMessageToSign(){let e=[D2(this.nonce),D2(this.gasPrice),D2(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),D2(this.value),this.data];return this.supports(V7.EIP155ReplayProtection)&&(e.push(m3(this.common.chainId())),e.push(ji(m3(0))),e.push(ji(m3(0)))),e}getMessageToSign(e=!0){let n=this._getMessageToSign();return e?U3(Mn.RLP.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){let e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=U3(Mn.RLP.encode(this.raw()))),this.cache.hash):U3(Mn.RLP.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){let n=this._errorMsg("This transaction is not signed");throw new Error(n)}let e=this._getMessageToSign();return U3(Mn.RLP.encode(e))}getSenderPublicKey(){let e=this.getMessageToVerifySignature(),{v:n,r,s:i}=this;this._validateHighS();try{return Ui(e,n,D2(r),D2(i),this.supports(V7.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{let a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let i=e;this.supports(V7.EIP155ReplayProtection)&&(i+=this.common.chainId()*BigInt(2)+BigInt(8));let s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return t.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:o3(n),s:o3(r)},s)}toJSON(){return{nonce:O3(this.nonce),gasPrice:O3(this.gasPrice),gasLimit:O3(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:O3(this.value),data:D1(this.data),v:this.v!==void 0?O3(this.v):void 0,r:this.r!==void 0?O3(this.r):void 0,s:this.s!==void 0?O3(this.s):void 0}}_validateTxV(e,n){let r,i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!n||n.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(n){if(!RH(BigInt(i),n.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let s;(i-35)%2===0?s=35:s=36,r=BigInt(i-s)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}};var sC=new Map,$6=class t{constructor(){}static typeToInt(e){return Number(o3(m3(e)))}static registerTransactionType(e,n){let r=t.typeToInt(e);sC.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return X9.fromTxData(e,n);let r=t.typeToInt(e.type);if(r===0)return X9.fromTxData(e,n);if(r===1)return $i.fromTxData(e,n);if(r===2)return Wi.fromTxData(e,n);let i=sC.get(r);if(i?.fromTxData)return i.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return $i.fromSerializedTx(e,n);case 2:return Wi.fromSerializedTx(e,n);default:{let r=sC.get(Number(e[0]));if(r?.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return X9.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(e instanceof Uint8Array)return this.fromSerializedData(e,n);if(Array.isArray(e))return X9.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}};var pf=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Cn=(t,e)=>{let n;if(!e&&typeof t=="string"&&t2(t)&&t.length!==66)throw new Lo;try{n=t instanceof Uint8Array?t:T5(t)}catch{throw new vp}if(!e&&n.byteLength!==32)throw new Lo;return n},mf=t=>{let e=t2(t)?t:P5(t),n=W2(e),r=W2(Pm(`Ethereum Signed Message:
${n.byteLength}`)),i=Y3(r,n);return H4(i)},aC=(t,e)=>{let n=Cn(e),r=mf(t),i=b6.sign(r.substring(2),n),s=i.toCompactRawBytes(),a=i.r.toString(16).padStart(64,"0"),o=i.s.toString(16).padStart(64,"0"),c=i.recovery+27;return{message:t,messageHash:r,v:_4(c),r:`0x${a}`,s:`0x${o}`,signature:`${D1(s)}${c.toString(16)}`}},NH=(t,e)=>pf(void 0,void 0,void 0,function*(){let n=t.sign(W2(e));if(A0(n.v)||A0(n.r)||A0(n.s))throw new gi("Signer Error");let r=n.validate(!0);if(r.length>0){let a="Signer Error ";for(let o of r)a+=`${a} ${o}.`;throw new gi(a)}let i=D1(n.serialize()),s=H4(i);return{messageHash:D1(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:D1(s)}}),BH=t=>{if(A0(t))throw new Dp;let e=$6.fromSerializedData(W2(t));return J4(e.getSenderAddress().toString())},df=(t,e,n,r,i)=>{if(typeof t=="object"){let u=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return df(t.messageHash,u,n)}if(typeof e=="string"&&typeof n=="string"&&!A0(r)){let u=`${n}${r.slice(2)}${e.slice(2)}`;return df(t,u,i)}if(A0(e))throw new bp("signature string undefined");let s=130,a=n?t:mf(t),o=parseInt(e.substring(s),16);o>26&&(o-=27);let c=b6.Signature.fromCompact(e.slice(2,s)).addRecoveryBit(o).recoverPublicKey(a.replace("0x","")).toRawBytes(!1),l=H4(c.subarray(1));return J4(`0x${l.slice(-40)}`)},Ki=t=>{let e=Cn(t),n=b6.getPublicKey(e,!1),i=H4(n.slice(1)).slice(-40);return J4(`0x${i}`)},ZH=(t,e)=>{let n=Cn(t);return`0x${D1(b6.getPublicKey(n,e)).slice(4)}`},oC=(t,e,n)=>pf(void 0,void 0,void 0,function*(){var r,i,s,a,o,c,l;let h=Cn(t),u;if(n?.salt?u=typeof n.salt=="string"?W2(n.salt):n.salt:u=dn(32),!(Mi(e)||e instanceof Uint8Array))throw new yp;let p=typeof e=="string"?W2(P5(e)):e,g;if(n?.iv){if(g=typeof n.iv=="string"?W2(n.iv):n.iv,g.length!==16)throw new zp}else g=dn(16);let f=(r=n?.kdf)!==null&&r!==void 0?r:"scrypt",w,L;if(f==="pbkdf2"){if(L={dklen:(i=n?.dklen)!==null&&i!==void 0?i:32,salt:D1(u).replace("0x",""),c:(s=n?.c)!==null&&s!==void 0?s:262144,prf:"hmac-sha256"},L.c<1e3)throw new Mp;w=PM(p,u,L.c,L.dklen,"sha256")}else if(f==="scrypt")L={n:(a=n?.n)!==null&&a!==void 0?a:8192,r:(o=n?.r)!==null&&o!==void 0?o:8,p:(c=n?.p)!==null&&c!==void 0?c:1,dklen:(l=n?.dklen)!==null&&l!==void 0?l:32,salt:D1(u).replace("0x","")},w=IM(p,u,L.n,L.p,L.r,L.dklen);else throw new Io;let A=yield $m(h,w.slice(0,16),g,"aes-128-ctr"),_=D1(A).slice(2),R=H4(Y3(w.slice(16,32),A)).replace("0x","");return{version:3,id:_c(),address:Ki(h).toLowerCase().replace("0x",""),crypto:{ciphertext:_,cipherparams:{iv:D1(g).replace("0x","")},cipher:"aes-128-ctr",kdf:f,kdfparams:L,mac:R}}}),ff=(t,e)=>{let n=Cn(t,e);return{address:Ki(n),privateKey:D1(n),signTransaction:r=>{throw new gi("Do not have network access to sign the transaction")},sign:r=>aC(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,i)=>pf(void 0,void 0,void 0,function*(){return oC(n,r,i)})}},jH=()=>{let t=b6.utils.randomPrivateKey();return ff(`${D1(t)}`)},UH=(t,e,n)=>pf(void 0,void 0,void 0,function*(){let r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(C1.validateJSONSchema(PF,r),r.version!==3)throw new wp;let i=typeof e=="string"?W2(P5(e)):e;C1.validate(["bytes"],[i]);let s;if(r.crypto.kdf==="scrypt"){let l=r.crypto.kdfparams,h=typeof l.salt=="string"?W2(l.salt):l.salt;s=IM(i,h,l.n,l.p,l.r,l.dklen)}else if(r.crypto.kdf==="pbkdf2"){let l=r.crypto.kdfparams,h=typeof l.salt=="string"?W2(l.salt):l.salt;s=PM(i,h,l.c,l.dklen,"sha256")}else throw new Io;let a=W2(r.crypto.ciphertext);if(H4(Y3(s.slice(16,32),a)).replace("0x","")!==r.crypto.mac)throw new xp;let c=yield uF(W2(r.crypto.ciphertext),s.slice(0,16),W2(r.crypto.cipherparams.iv));return ff(c)});var GH=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Je0=1e3,gf=class{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){let n=p3.toPayload(e),r=new G9;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){var n;return GH(this,void 0,void 0,function*(){if(this.requests.length===0)return Promise.resolve([]);let r=new G9({timeout:(n=e?.timeout)!==null&&n!==void 0?n:Je0,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(i=>r.reject(i)),r.catch(i=>{i instanceof di&&this._abortAllRequests("Batch request timeout"),r.reject(i)}),r})}_processBatchRequest(e){var n,r;return GH(this,void 0,void 0,function*(){let i=yield this._requestManager.sendBatch([...this._requests.values()].map(o=>o.payload));if(i.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new G5(i,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${i.length}`);let s=this.requests.map(o=>o.id).map(Number).sort((o,c)=>o-c),a=i.map(o=>o.id).map(Number).sort((o,c)=>o-c);if(JSON.stringify(s)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new G5(i,`Batch request mismatch the results. Requests: [${s.join()}], Responses: [${a.join()}]`);for(let o of i)p3.isResponseWithResult(o)?(n=this._requests.get(o.id))===null||n===void 0||n.promise.resolve(o.result):p3.isResponseWithError(o)&&((r=this._requests.get(o.id))===null||r===void 0||r.promise.reject(o.error));e.resolve(i)})}_abortAllRequests(e){for(let{promise:n}of this._requests.values())n.reject(new Tp(e))}};var Xe0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},b4=class t extends Um{constructor(e){var n;if(super(),this.providers=mn.providers,k1(e)||typeof e=="string"&&e.trim()!==""||pn(e)){this._requestManager=new mn(e),this._subscriptionManager=new fn(this._requestManager,{});return}let{config:r,provider:i,requestManager:s,subscriptionManager:a,registeredSubscriptions:o,accountProvider:c,wallet:l}=e;this.setConfig(r??{}),this._requestManager=s??new mn(i,(n=r?.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout),a?this._subscriptionManager=a:this._subscriptionManager=new fn(this.requestManager,o??{}),c&&(this._accountProvider=c),l&&(this._wallet=l)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){let r=new e(...n,this.getContextObject());return this.on(q9.CONFIG_CHANGE,i=>{r.setConfig({[i.name]:i.newValue})}),r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(q9.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new Pp(e.pluginNamespace);let n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return t.givenProvider}setProvider(e){return this.provider=e,!0}get BatchRequest(){return gf.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{let i=(...s)=>Xe0(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:s})});e.property?this[e.property][r.name]=i:this[r.name]=i}),this}};b4.providers=mn.providers;var Qi=(()=>{class t{constructor(n){if(this.toAddress=()=>{if(this.isDirect()){let r=this._iban.slice(4),i=t._parseInt(r,36),s=j9(i,40);return J4(s)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},t.isIndirect(n)||t.isDirect(n))this._iban=n;else throw new Error("Invalid IBAN was provided")}static isDirect(n){return n.length===34||n.length===35}isDirect(){return t.isDirect(this._iban)}static isIndirect(n){return n.length===20}isIndirect(){return t.isIndirect(this._iban)}static isValid(n){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(n)&&t._mod9710(t._iso13616Prepare(n))===1}isValid(){return t.isValid(this._iban)}static fromBban(n){let r="XE",s=`0${(98-this._mod9710(this._iso13616Prepare(`${r}00${n}`))).toString()}`.slice(-2);return new t(`${r}${s}${n}`)}static createIndirect(n){return t.fromBban(`ETH${n.institution}${n.identifier}`)}static fromAddress(n){if(!G3(n))throw new F9(n);let i=BigInt(ln(n)).toString(36),s=j9(i,15);return t.fromBban(s.toUpperCase())}static toIban(n){return t.fromAddress(n).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}return t._iso13616Prepare=e=>{let n="A".charCodeAt(0),r="Z".charCodeAt(0),i=e.toUpperCase();return`${i.slice(4)}${i.slice(0,4)}`.split("").map(a=>{let o=a.charCodeAt(0);return o>=n&&o<=r?o-n+10:a}).join("")},t._parseInt=(e,n)=>[...e].reduce((r,i)=>BigInt(parseInt(i,n))+BigInt(n)*r,BigInt(0)),t._mod9710=e=>{let n=e,r;for(;n.length>2;)r=n.slice(0,9),n=`${(parseInt(r,10)%97).toString()}${n.slice(r.length)}`;return parseInt(n,10)%97},t.toAddress=e=>new t(e).toAddress(),t})();var cC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},qH,Bc=class extends E8{constructor(e){super(),this[qH]="Promise",this._promise=new Promise(e)}then(e,n){return cC(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return cC(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return cC(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}};qH=Symbol.toStringTag;var QV0=a4($H(),1);var q1={};M5(q1,{call:()=>M90,compileLLL:()=>O90,compileSerpent:()=>F90,compileSolidity:()=>D90,createAccessList:()=>X90,estimateGas:()=>C90,getAccounts:()=>l90,getBalance:()=>u90,getBlockByHash:()=>A90,getBlockByNumber:()=>_90,getBlockNumber:()=>h90,getBlockTransactionCountByHash:()=>m90,getBlockTransactionCountByNumber:()=>f90,getChainId:()=>Q90,getCode:()=>b90,getCoinbase:()=>s90,getCompilers:()=>I90,getFeeHistory:()=>W90,getFilterChanges:()=>B90,getFilterLogs:()=>Z90,getGasPrice:()=>c90,getHashRate:()=>o90,getLogs:()=>j90,getMining:()=>a90,getNodeInfo:()=>J90,getPendingTransactions:()=>$90,getProof:()=>Y90,getProtocolVersion:()=>r90,getStorageAt:()=>d90,getSyncing:()=>i90,getTransactionByBlockHashAndIndex:()=>S90,getTransactionByBlockNumberAndIndex:()=>k90,getTransactionByHash:()=>E90,getTransactionCount:()=>p90,getTransactionReceipt:()=>T90,getUncleByBlockHashAndIndex:()=>P90,getUncleByBlockNumberAndIndex:()=>L90,getUncleCountByBlockHash:()=>g90,getUncleCountByBlockNumber:()=>v90,getWork:()=>U90,newBlockFilter:()=>V90,newFilter:()=>H90,newPendingTransactionFilter:()=>R90,requestAccounts:()=>K90,sendRawTransaction:()=>z90,sendTransaction:()=>y90,sign:()=>x90,signTransaction:()=>w90,signTypedData:()=>et0,submitHashrate:()=>q90,submitWork:()=>G90,uninstallFilter:()=>N90});var B1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function r90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function i90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function s90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function a90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function o90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function c90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function l90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function h90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function u90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function d90(t,e,n,r){return B1(this,void 0,void 0,function*(){return C1.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function p90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function m90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function f90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function g90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function v90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function b90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function x90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function w90(t,e){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function y90(t,e){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function z90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function M90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function C90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function A90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function _90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function E90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function S90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function k90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function T90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function P90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function L90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function I90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_getCompilers",params:[]})})}function D90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["string"],[e]),t.send({method:"eth_compileSolidity",params:[e]})})}function O90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["string"],[e]),t.send({method:"eth_compileLLL",params:[e]})})}function F90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["string"],[e]),t.send({method:"eth_compileSerpent",params:[e]})})}function H90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function V90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function R90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function N90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function B90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function Z90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function j90(t,e){return B1(this,void 0,void 0,function*(){return C1.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function U90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function G90(t,e,n,r){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function q90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["bytes32","bytes32"],[e,n]),t.send({method:"eth_submitHashrate",params:[e,n]})})}function W90(t,e,n,r){return B1(this,void 0,void 0,function*(){C1.validate(["hex","blockNumberOrTag"],[e,n]);for(let i of r)C1.validate(["number"],[i]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function $90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function K90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function Q90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function Y90(t,e,n,r){return B1(this,void 0,void 0,function*(){return C1.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function J90(t){return B1(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function X90(t,e,n){return B1(this,void 0,void 0,function*(){return C1.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function et0(t,e,n,r=!1){return B1(this,void 0,void 0,function*(){return C1.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var Yi={};M5(Yi,{getId:()=>tt0,getPeerCount:()=>nt0,isListening:()=>rt0});var lC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function tt0(t){return lC(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function nt0(t){return lC(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function rt0(t){return lC(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var K6={};M5(K6,{ecRecover:()=>dt0,getAccounts:()=>it0,importRawKey:()=>ct0,lockAccount:()=>ot0,newAccount:()=>st0,sendTransaction:()=>lt0,sign:()=>ut0,signTransaction:()=>ht0,unlockAccount:()=>at0});var Te=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},it0=t=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),st0=(t,e)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),at0=(t,e,n,r)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),ot0=(t,e)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),ct0=(t,e,n)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),lt0=(t,e,n)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),ht0=(t,e,n)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),ut0=(t,e,n,r)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),dt0=(t,e,n)=>Te(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})});var KH={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},QH={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},YH={type:"object",properties:{gasPrice:{type:"null"}}},vf=(t,e,n)=>{try{C1.validateJSONSchema(t,e)}catch(r){throw r instanceof g6?new nm(r.errors,n):r}},mt0=t=>{var e,n;let r=t;if(!A0(r.type)){let s;switch(r.type){case"0x0":s=KH;break;case"0x1":s=QH;break;case"0x2":s=YH;break;default:return U0({format:"uint"},r.type,H1)}return vf(s,r,r.type),U0({format:"uint"},r.type,H1)}if(!A0(r.maxFeePerGas)||!A0(r.maxPriorityFeePerGas))return vf(YH,r,"0x2"),"0x2";if(!A0(r.accessList))return vf(QH,r,"0x1"),"0x1";let i=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!A0(i)){let s=Object.keys(bc).indexOf(i);if(s>=Object.keys(bc).indexOf("london"))return A0(r.gasPrice)?"0x2":"0x0";if(s===Object.keys(bc).indexOf("berlin"))return"0x0"}if(!A0(r.gasPrice))return vf(KH,r,"0x0"),"0x0"},hC=(t,e)=>{var n;return((n=e?.transactionTypeParser)!==null&&n!==void 0?n:mt0)(t)},JH=t=>t[0]>127?"0x0":q5(t[0]);var ft0={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},uC={type:"array",items:Object.assign({},ft0)},tV={type:"object",properties:{accessList:Object.assign({},uC),gasUsed:{type:"string"}}},XH={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},eV={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},gt0={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},dC={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},uC),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},XH),hardfork:Object.assign({},eV),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},gt0),baseChain:Object.assign({},XH),hardfork:Object.assign({},eV)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},bf={type:"object",properties:Object.assign(Object.assign({},dC.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},uC),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},Ji={type:"object",properties:{parentHash:{format:"bytes32"},sha3Uncles:{format:"bytes32"},miner:{format:"bytes"},stateRoot:{format:"bytes32"},transactionsRoot:{format:"bytes32"},receiptsRoot:{format:"bytes32"},logsBloom:{format:"bytes256"},difficulty:{format:"uint"},number:{format:"uint"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},timestamp:{format:"uint"},extraData:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},totalDifficulty:{format:"uint"},baseFeePerGas:{format:"uint"},size:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},bf)},{type:"array",items:{format:"bytes32"}}]},uncles:{type:"array",items:{format:"bytes32"}},hash:{format:"bytes32"}}},vt0={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},nV={type:"object",properties:{author:{format:"bytes32"},hash:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},miner:{format:"bytes"},stateRoot:{format:"bytes32"},transactionsRoot:{format:"bytes32"},withdrawalsRoot:{format:"bytes32"},logsBloom:{format:"bytes256"},difficulty:{format:"uint"},totalDifficulty:{format:"uint"},number:{format:"uint"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},timestamp:{format:"uint"},extraData:{format:"bytes"},nonce:{format:"uint"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},baseFeePerGas:{format:"uint"},excessDataGas:{format:"uint"},mixHash:{format:"bytes32"},transactions:{type:"array",items:{format:"bytes32"}},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},vt0)}}},An={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},rV={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},P8={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},An)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},iV={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},sV={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},bt0={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},aV={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},bt0)}}};function R4(t,e=g1,n={transactionSchema:bf,fillInputAndData:!1}){var r,i;let s=G6({},t);if(A0(t?.common)||(s.common=Object.assign({},t.common),A0((r=t.common)===null||r===void 0?void 0:r.customChain)||(s.common.customChain=Object.assign({},t.common.customChain))),s=U0((i=n.transactionSchema)!==null&&i!==void 0?i:bf,s,e),!A0(s.data)&&!A0(s.input)&&q5(s.data)!==q5(s.input))throw new fi({data:D1(s.data),input:D1(s.input)});return n.fillInputAndData&&(A0(s.data)?A0(s.input)||(s.data=s.input):s.input=s.data),A0(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}function oV(t,e,n={fillInputAndData:!1}){return{raw:U0({format:"bytes"},t,e),tx:R4(Object.assign(Object.assign({},$6.fromSerializedData(W2(t)).toJSON()),{hash:D1(U9(W2(t))),type:JH(W2(t))}),e,{fillInputAndData:n.fillInputAndData})}}var pC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function Xi(t,e){return pC(this,void 0,void 0,function*(){let n=yield Yi.getId(t.requestManager);return U0({format:"uint"},n,e)})}function cV(t,e){return pC(this,void 0,void 0,function*(){let n=yield Yi.getPeerCount(t.requestManager);return U0({format:"uint"},n,e)})}var lV=t=>pC(void 0,void 0,void 0,function*(){return Yi.isListening(t.requestManager)});var mC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},_n=class extends b4{getId(e=g1){return mC(this,void 0,void 0,function*(){return Xi(this,e)})}getPeerCount(e=g1){return mC(this,void 0,void 0,function*(){return cV(this,e)})}isListening(){return mC(this,void 0,void 0,function*(){return lV(this)})}};var Pe="ALLEVENTS",Zc={name:Pe,signature:"",type:"event",inputs:[]},En={bytes:D7.HEX,number:k5.NUMBER};var hV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function yt0(t,e,n){var r,i,s;return hV(this,void 0,void 0,function*(){let a=yield yf(e,e.defaultBlock,!1,n);if(A0(a.baseFeePerGas))throw new Yp;if(!A0(t.gasPrice)){let o=U0({format:"uint"},t.gasPrice,n);return{maxPriorityFeePerGas:o,maxFeePerGas:o}}return{maxPriorityFeePerGas:U0({format:"uint"},(r=t.maxPriorityFeePerGas)!==null&&r!==void 0?r:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:U0({format:"uint"},(i=t.maxFeePerGas)!==null&&i!==void 0?i:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas),n)}})}function xf(t,e,n){return hV(this,void 0,void 0,function*(){let r=fC(t,e);if(!A0(r)){if(r.startsWith("-"))throw new Bo(r);if(Number(r)<0||Number(r)>127)throw new Bo(r);if(A0(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield wf(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield yt0(t,e,n))}})}var gC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},zf=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&G3(n[t]))return n[t];if(!t2(n[t])&&km(n[t])){if(e.wallet){let i=e.wallet.get(U0({format:"uint"},n[t],En));if(!A0(i))return i.address;throw new jo}throw new jo}else throw t==="from"?new Ro(n.from):new Op(n.to)}if(t==="from"){if(!A0(r))return Ki(r);if(!A0(e.defaultAccount))return e.defaultAccount}},zt0=(t,e,n=g1)=>gC(void 0,void 0,void 0,function*(){if(A0(e))throw new Qp;return Mf(t,e,t.defaultBlock,n)}),fC=(t,e)=>{let n=hC(t,e);if(!A0(n))return n;if(!A0(e.defaultTransactionType))return U0({format:"uint"},e.defaultTransactionType,H1)};function Mt0(t){var e,n;return gC(this,void 0,void 0,function*(){let r=U0(dC,t.transaction,g1);if(A0(r.from)&&(r.from=zf("from",t.web3Context,void 0,t.privateKey)),A0(r.nonce)&&(r.nonce=yield zt0(t.web3Context,r.from,H1)),A0(r.value)&&(r.value="0x0"),A0(r.data))A0(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!A0(r.input)&&r.data!==r.input)throw new fi({data:D1(r.data),input:D1(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(A0(r.common)){if(t.web3Context.defaultCommon){let i=t.web3Context.defaultCommon,s=i.customChain.chainId,a=i.customChain.networkId,o=i.customChain.name;r.common=Object.assign(Object.assign({},i),{customChain:{chainId:s,networkId:a,name:o}})}A0(r.chain)&&(r.chain=t.web3Context.defaultChain),A0(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(A0(r.chainId)&&A0((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield Cf(t.web3Context,H1)),A0(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield Xi(t.web3Context,H1)),A0(r.gasLimit)&&!A0(r.gas)&&(r.gasLimit=r.gas),r.type=fC(r,t.web3Context),A0(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield xf(r,t.web3Context,H1))),A0(r.gas)&&A0(r.gasLimit)&&t.fillGasLimit){let i=yield es(t.web3Context,r,"latest",H1);r=Object.assign(Object.assign({},r),{gas:U0({format:"uint"},i,H1)})}return r})}var vC=t=>gC(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:Mt0)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var xC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function bC(t,e,n){let r=t.transactionPollingInterval,[i,s]=vM(()=>xC(this,void 0,void 0,function*(){let o;try{o=yield jc(t,En)}catch(l){console.warn("An error happen while trying to get the block number",l);return}let c=o-e;if(c>=t.transactionBlockTimeout)return new Zo({starterBlockNumber:e,numberOfBlocks:c,transactionHash:n})}),r);return[s,{clean:()=>{clearInterval(i)}}]}function Ct0(t,e,n){var r;return xC(this,void 0,void 0,function*(){let i=!0,s,a;function o(l,h){h&&console.warn("error happened at subscription. So revert to polling...",h),a.clean(),i=!1;let[u,p]=bC(t,e,n);a.clean=p.clean,u.catch(g=>l(g))}try{s=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),a={clean:()=>{var l;s.id&&((l=t.subscriptionManager)===null||l===void 0||l.removeSubscription(s).then(()=>{}).catch(()=>{}))}}}catch{return bC(t,e,n)}return[new Promise((l,h)=>{try{s.on("data",u=>{if(i=!1,!u?.number)return;let p=Number(BigInt(u.number)-BigInt(e));p>=t.transactionBlockTimeout&&h(new Zo({starterBlockNumber:e,numberOfBlocks:p,transactionHash:n}))}),s.on("error",u=>{o(h,u)})}catch(u){o(h,u)}setTimeout(()=>{i&&o(h)},t.blockHeaderTimeout*1e3)}),a]})}function Af(t,e){var n,r;return xC(this,void 0,void 0,function*(){let{provider:i}=t.requestManager,s,a=yield jc(t,En);return!((r=(n=i).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?s=yield Ct0(t,a,e):s=bC(t,a,e),s})}var At0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function Uc(t,e,n){return At0(this,void 0,void 0,function*(){let[r,i]=Ac(t.transactionSendTimeout,new Jp({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[s,a]=yield Af(t,n);try{return yield Promise.race([e(),i,s])}finally{clearTimeout(r),a.clean()}})}var uV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function wC(t,e,n){var r;return uV(this,void 0,void 0,function*(){let i=(r=t.transactionReceiptPollingInterval)!==null&&r!==void 0?r:t.transactionPollingInterval,[s,a]=Vm(()=>uV(this,void 0,void 0,function*(){try{return _f(t,e,n)}catch(u){console.warn("An error happen while trying to get the transaction receipt",u);return}}),i),[o,c]=Ac(t.transactionPollingTimeout,new Xp({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[l,h]=yield Af(t,e);try{return yield Promise.race([s,c,l])}finally{o&&clearTimeout(o),a&&clearInterval(a),h.clean()}})}var _t0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},ts=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:r})=>{var i;let s=1,a=setInterval(()=>{_t0(void 0,void 0,void 0,function*(){s>=t.transactionConfirmationBlocks&&clearInterval(a);let o=yield q1.getBlockByNumber(t.requestManager,_4(BigInt(e.blockNumber)+BigInt(s)),!1);o?.hash&&(s+=1,n.emit("confirmation",{confirmations:U0({format:"uint"},s,r),receipt:U0(P8,e,r),latestBlockHash:U0({format:"bytes32"},o.hash,r)}))})},(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval)};var dV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},pV=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:r})=>{let i=!0,s;setImmediate(()=>{var a;(a=t.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(o=>{o.on("data",c=>dV(void 0,void 0,void 0,function*(){var l;if(i=!1,!c?.number||s===c?.parentHash)return;s=c?.parentHash;let h=BigInt(c.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:U0({format:"uint"},h,r),receipt:U0(P8,e,r),latestBlockHash:U0({format:"bytes32"},c.parentHash,r)}),h>=t.transactionConfirmationBlocks&&(yield(l=t.subscriptionManager)===null||l===void 0?void 0:l.removeSubscription(o))})),o.on("error",()=>dV(void 0,void 0,void 0,function*(){var c;yield(c=t.subscriptionManager)===null||c===void 0?void 0:c.removeSubscription(o),i=!1,ts({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:r})}))}).catch(()=>{i=!1,ts({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:r})})}),setTimeout(()=>{i&&ts({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:r})},t.blockHeaderTimeout*1e3)};function mV(t,e,n,r,i){if(A0(n)||A0(n.blockHash))throw new em({receipt:n,blockHash:U0({format:"bytes32"},n?.blockHash,i),transactionHash:U0({format:"bytes32"},r,i)});if(!n.blockNumber)throw new tm({receipt:n});e.emit("confirmation",{confirmations:U0({format:"uint"},1,i),receipt:U0(P8,n,i),latestBlockHash:U0({format:"bytes32"},n.blockHash,i)});let s=t.requestManager.provider;s&&"supportsSubscriptions"in s&&s.supportsSubscriptions()?pV({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,returnFormat:i}):ts({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,returnFormat:i})}var Sn=t=>!k1(t)&&typeof t=="object"&&!k1(t.type)&&t.type==="error",Gc=t=>!k1(t)&&typeof t=="object"&&!k1(t.type)&&t.type==="event",ns=t=>!k1(t)&&typeof t=="object"&&!k1(t.type)&&t.type==="function",fV=t=>!k1(t)&&typeof t=="object"&&!k1(t.type)&&t.type==="constructor",gV=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",zC=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},MC=t=>{let e=[];for(let n of Object.keys(t)){let r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},zC(n)),{components:MC(r)})):e.push({name:n,type:t[n]})}return e};var yC=(t,e)=>{let n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new K1(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);let i=r.type.indexOf("["),s=i>=0?r.type.substring(i):"",a=yC(t,r.components);Array.isArray(a)&&t?n.push(`tuple(${a.join(",")})${s}`):t?n.push(`(${a.join()})`):n.push(`(${a.join(",")})${s}`)}else n.push(r.type)}),n},w6=t=>{var e,n,r,i;return Sn(t)||Gc(t)||ns(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${yC(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${yC(!1,(i=t.inputs)!==null&&i!==void 0?i:[]).join(",")})`};var vV=t=>{if(typeof t!="string"&&!Sn(t))throw new K1("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=w6(t):e=t,H4(e)};var rs=t=>{if(typeof t!="string"&&!Gc(t))throw new K1("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=w6(t):e=t,H4(e)};function Ef(t,e){return t.exec(e)?.groups}var CC=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,AC=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,_C=/^\(.+?\).*?$/;var Et0=Object.defineProperty,St0=(t,e,n)=>e in t?Et0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,is=(t,e,n)=>(St0(t,typeof e!="symbol"?e+"":e,n),n);var kt0="abitype",Tt0="0.7.1",W5=class extends Error{constructor(t,e={}){let n=e.cause instanceof W5?e.cause.details:e.cause?.message?e.cause.message:e.details,r=e.cause instanceof W5&&e.cause.docsPath||e.docsPath,i=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${kt0}@${Tt0}`].join(`
`);super(i),is(this,"details"),is(this,"docsPath"),is(this,"metaMessages"),is(this,"shortMessage"),is(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}};var xV=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function wV(t){return xV.test(t)}function Pt0(t){return Ef(xV,t)}var bV=new Set(["memory","indexed","storage","calldata"]);var Lt0=new Set(["calldata","memory","storage"]);function It0(t,e){return e?`${e}:${t}`:t}var EC=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var Dt0=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Ot0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,Ft0=/^u?int$/;function Sf(t,e){let n=It0(t,e?.type);if(EC.has(n))return EC.get(n);let r=_C.test(t),i=Ef(r?Ot0:Dt0,t);if(!i)throw new W5("Invalid ABI parameter.",{details:t});if(i.name&&Vt0(i.name))throw new W5("Invalid ABI parameter.",{details:t,metaMessages:[`"${i.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});let s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{},c,l={};if(r){c="tuple";let u=ss(i.type),p=[],g=u.length;for(let f=0;f<g;f++)p.push(Sf(u[f],{structs:o}));l={components:p}}else if(i.type in o)c="tuple",l={components:o[i.type]};else if(Ft0.test(i.type))c=`${i.type}256`;else if(c=i.type,e?.type!=="struct"&&!yV(c))throw new W5("Unknown type.",{metaMessages:[`Type "${c}" is not a valid ABI type.`]});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new W5("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`]});if(Lt0.has(i.modifier)&&!Rt0(c,!!i.array))throw new W5("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${i.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i.modifier}" was given.`]})}let h=c0(c0(c0({type:`${c}${i.array??""}`},s),a),l);return EC.set(n,h),h}function ss(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new W5("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}let i=t.length;for(let s=0;s<i;s++){let a=t[s],o=t.slice(s+1);switch(a){case",":return r===0?ss(o,[...e,n.trim()]):ss(o,e,`${n}${a}`,r);case"(":return ss(o,e,`${n}${a}`,r+1);case")":return ss(o,e,`${n}${a}`,r-1);default:return ss(o,e,`${n}${a}`,r)}}return[]}function yV(t){return t==="address"||t==="bool"||t==="function"||t==="string"||CC.test(t)||AC.test(t)}var Ht0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Vt0(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||CC.test(t)||AC.test(t)||Ht0.test(t)}function Rt0(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Nt0(t){let e={},n=t.length;for(let a=0;a<n;a++){let o=t[a];if(!wV(o))continue;let c=Pt0(o);if(!c)throw new W5("Invalid struct signature.",{details:o});let l=c.properties.split(";"),h=[],u=l.length;for(let p=0;p<u;p++){let f=l[p].trim();if(!f)continue;let w=Sf(f,{type:"struct"});h.push(w)}if(!h.length)throw new W5("Invalid struct signature.",{details:o,metaMessages:["No properties exist."]});e[c.name]=h}let r={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){let[o,c]=i[a];r[o]=zV(c,e)}return r}var Bt0=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function zV(t,e,n=new Set){let r=[],i=t.length;for(let s=0;s<i;s++){let a=t[s];if(_C.test(a.type))r.push(a);else{let c=Ef(Bt0,a.type);if(!c?.type)throw new W5("Invalid ABI parameter.",{details:JSON.stringify(a,null,2),metaMessages:["ABI parameter type is invalid."]});let{array:l,type:h}=c;if(h in e){if(n.has(h))throw new W5("Circular reference detected.",{metaMessages:[`Struct "${h}" is a circular reference.`]});r.push(i1(c0({},a),{type:`tuple${l??""}`,components:zV(e[h]??[],e,new Set([...n,h]))}))}else if(yV(h))r.push(a);else throw new W5("Unknown type.",{metaMessages:[`Type "${h}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function MV(t){let e;if(typeof t=="string")e=Sf(t,{modifiers:bV});else{let n=Nt0(t),r=t.length;for(let i=0;i<r;i++){let s=t[i];if(!wV(s)){e=Sf(s,{modifiers:bV,structs:n});break}}}if(!e)throw new W5("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}var E3=32;function qc(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){let n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function CV(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>CV(r))})}function Zt0(t){return!k1(t)&&typeof t=="object"&&!k1(t.type)&&typeof t.type=="string"}function kf(t){return t.map(e=>{var n;if(Zt0(e))return e;if(typeof e=="string")return CV(MV(e.replace(/tuple/,"")));if(gV(e)){let r=Object.keys(e)[0],i=zC(r);return i.name=(n=i.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},i),{components:MC(e[r])})}throw new K1("Invalid abi")})}function Tf(t){let e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e),i=-1;if(r!=="[]"&&(i=Number(r.slice(1,-1)),isNaN(i)))throw new K1("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:i}}function as(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(as))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?as(Tf(t).param):!1}var AV=20,_V=E3-AV;function SC(t,e){if(typeof e!="string")throw new K1("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!G3(n))throw new K1("provided input is not valid address",{value:e,name:t.name,type:t.type});let r=D3.hexToUint8Array(n),i=qc(E3);return i.set(r,_V),{dynamic:!1,encoded:i}}function kC(t,e){let n=e.subarray(_V,E3);if(n.length!==AV)throw new K1("Invalid decoding input, not enough bytes to decode address",{bytes:e});let r=D3.uint8ArrayToHexString(n);return{result:J4(r),encoded:e.subarray(E3),consumed:E3}}var Le=new Map,Pf=BigInt(256);for(let t=8;t<=256;t+=8)Le.set(`uint${t}`,{min:BigInt(0),max:Pf-BigInt(1)}),Le.set(`int${t}`,{min:-Pf/BigInt(2),max:Pf/BigInt(2)-BigInt(1)}),Pf*=BigInt(256);Le.set("int",Le.get("int256"));Le.set("uint",Le.get("uint256"));var EV=BigInt(1)<<BigInt(256);function jt0(t,e=E3){let n;return t<0?n=(EV+t).toString(16):n=t.toString(16),n=Z9(n,e*2),D3.hexToUint8Array(n)}function Ut0(t,e){let n=D3.uint8ArrayToHexString(t),r=BigInt(n);return r<=e?r:r-EV}function R7(t,e){let n;try{n=_8(e)}catch{throw new K1("provided input is not number value",{type:t.type,value:e,name:t.name})}let r=Le.get(t.type);if(!r)throw new K1("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new K1("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new K1("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:jt0(n)}}function Q6(t,e){if(e.length<E3)throw new K1("Not enough bytes left to decode",{param:t,bytesLeft:e.length});let n=e.subarray(0,E3),r=Le.get(t.type);if(!r)throw new K1("provided abi contains invalid number datatype",{type:t.type});let i=Ut0(n,r.max);if(i<r.min)throw new K1("decoded value is less then minimum for given type",{type:t.type,value:i,name:t.name,minimum:r.min.toString()});if(i>r.max)throw new K1("decoded value is greater then maximum for given type",{type:t.type,value:i,name:t.name,maximum:r.max.toString()});return{result:i,encoded:e.subarray(E3),consumed:E3}}function TC(t,e){let n;try{n=cM(e)}catch(r){if(r instanceof H9)throw new K1("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return R7({type:"uint8",name:""},Number(n))}function PC(t,e){let n=Q6({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new K1("Invalid boolean value encoded",{boolBytes:e.subarray(0,E3),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:E3}}var Gt0=32;function Wc(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!O7(e))throw new K1("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});let n=T5(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>Gt0||Number(r)<1)throw new K1("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new K1("provided input size is different than type size",{type:t.type,value:e,name:t.name});let a=qc(E3);return a.set(n),{dynamic:!1,encoded:a}}let i=Math.ceil(n.length/E3),s=qc(E3+i*E3);return s.set(R7({type:"uint32",name:""},n.length).encoded),s.set(n,E3),{dynamic:!0,encoded:s}}function $c(t,e){let[,n]=t.type.split("bytes"),r=Number(n),i=e,s=1,a=0;if(!r){let o=Q6({type:"uint32",name:""},i);r=Number(o.result),a+=o.consumed,i=o.encoded,s=Math.ceil(r/E3)}if(r>e.length)throw new K1("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:D1(i.subarray(0,r)),encoded:i.subarray(s*E3),consumed:a+s*E3}}function LC(t,e){if(typeof e!="string")throw new K1("invalid input, should be string",{input:e});let n=Lm(e);return Wc({type:"bytes",name:""},n)}function IC(t,e){let n=$c({type:"bytes",name:""},e);return{result:Mc(n.result),encoded:n.encoded,consumed:n.consumed}}function Lf(t){let e=0,n=0,r=[],i=[];for(let s of t)s.dynamic?e+=E3:e+=s.encoded.length;for(let s of t)s.dynamic?(r.push(R7({type:"uint256",name:""},e+n)),i.push(s),n+=s.encoded.length):r.push(s);return Y3(...r.map(s=>s.encoded),...i.map(s=>s.encoded))}function DC(t,e){if(!Array.isArray(e))throw new K1("Expected value to be array",{abi:t,values:e});let{size:n,param:r}=Tf(t),i=e.map(o=>Kc(r,o)),s=n===-1,a=i.length>0&&i[0].dynamic;if(!s&&e.length!==n)throw new K1("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(s||a){let o=Lf(i);if(s){let c=R7({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?Y3(c,o):c}}return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Y3(...i.map(o=>o.encoded))}}function OC(t,e){let{size:n,param:r}=Tf(t),i=n===-1,s=0,a=[],o=e;if(i){let l=Q6({type:"uint32",name:""},e);n=Number(l.result),s=l.consumed,o=l.encoded}if(as(r)){for(let l=0;l<n;l+=1){let h=Q6({type:"uint32",name:""},o.subarray(l*E3));s+=h.consumed;let u=os(r,o.subarray(Number(h.result)));s+=u.consumed,a.push(u.result)}return{result:a,encoded:o.subarray(s),consumed:s}}for(let l=0;l<n;l+=1){let h=os(r,e.subarray(s));s+=h.consumed,a.push(h.result)}return{result:a,encoded:e.subarray(s),consumed:s}}function Kc(t,e){if(t.type==="string")return LC(t,e);if(t.type==="bool")return TC(t,e);if(t.type==="address")return SC(t,e);if(t.type==="tuple")return Qc(t,e);if(t.type.endsWith("]"))return DC(t,e);if(t.type.startsWith("bytes"))return Wc(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return R7(t,e);throw new Error("Unsupported")}function os(t,e){if(t.type==="string")return IC(t,e);if(t.type==="bool")return PC(t,e);if(t.type==="address")return kC(t,e);if(t.type==="tuple")return Yc(t,e);if(t.type.endsWith("]"))return OC(t,e);if(t.type.startsWith("bytes"))return $c(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Q6(t,e);throw new Error("Unsupported")}function Qc(t,e){var n,r,i;let s=!1;if(!Array.isArray(e)&&typeof e!="object")throw new K1("param must be either Array or Object",{param:t,input:e});let a=e,o=[];for(let c=0;c<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);c+=1){let l=t.components[c],h;if(Array.isArray(a)){if(c>=a.length)throw new K1("input param length missmatch",{param:t,input:e});h=Kc(l,a[c])}else{let u=a[(i=l.name)!==null&&i!==void 0?i:""];if(u==null)throw new K1("missing input defined in abi",{param:t,input:e,paramName:l.name});h=Kc(l,u)}h.dynamic&&(s=!0),o.push(h)}return s?{dynamic:!0,encoded:Lf(o)}:{dynamic:!1,encoded:Y3(...o.map(c=>c.encoded))}}function Yc(t,e){let n={__length__:0},r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let i=0;for(let[s,a]of t.components.entries()){let o;if(as(a)){let c=Q6({type:"uint32",name:""},e.subarray(r));o=os(a,e.subarray(Number(c.result))),r+=c.consumed,i+=o.consumed}else o=os(a,e.subarray(r)),r+=o.consumed;n.__length__+=1,n[s]=o.result,a.name&&a.name!==""&&(n[a.name]=o.result)}return{encoded:e.subarray(r+i),result:n,consumed:r+i}}function SV(t,e,n){let r=kf(t),i=D3.hexToUint8Array(e);return Yc({type:"tuple",name:"",components:r},i).result}function FC(t,e){if(t.length!==e.length)throw new K1("Invalid number of values received for given ABI",{expected:t.length,received:e.length});let n=kf(t);return D3.uint8ArrayToHexString(Qc({type:"tuple",name:"",components:n},e).encoded)}var kn=(t,e)=>FC(t,e),Jc=(t,e)=>kn([t],[e]),HC=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new K1("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return SV(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new K1(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Tn=(t,e)=>HC(t,e,!1),If=(t,e)=>Tn([t],e)[0];var Pn=t=>{if(typeof t!="string"&&!ns(t))throw new K1("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=w6(t):e=t,H4(e).slice(0,10)},kV=(t,e)=>{var n;if(!ns(t))throw new K1("Invalid parameter value in encodeFunctionCall");return`${Pn(t)}${kn((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`};var qt0=["bool","string","int","uint","address","fixed","ufixed"],Wt0=(t,e)=>t==="string"?e:If(t,e),Df=(t,e,n)=>{let r=Array.isArray(n)?n:[n],i={},s={};for(let[p,g]of t.entries())g.indexed?i[p]=g:s[p]=g;let a=e?HC(Object.values(s),e,!0):{__length__:0},o=r.length-Object.keys(i).length,c=Object.values(i).map((p,g)=>qt0.some(f=>p.type.startsWith(f))?Wt0(p.type,r[g+o]):r[g+o]),l={__length__:0},h=0,u=0;for(let[p,g]of t.entries())l[p]=g.type==="string"?"":void 0,i[p]&&(l[p]=c[h],h+=1),s[p]&&(l[p]=a[String(u)],u+=1),g.name&&(l[g.name]=l[p]),l.__length__+=1;return l};var cs=(t,e)=>{if(e?.data){let n,r,i;try{let s=e.data.slice(0,10),a=t.find(o=>vV(o).startsWith(s));a?.inputs&&(n=a.name,r=w6(a),i=Tn([...a.inputs],e.data.substring(10)))}catch(s){console.error(s)}n&&e.setDecodedProperties(n,r,i)}};var Kt0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},VC=(t,e)=>{var n,r,i,s;if(t instanceof f6&&t.innerError instanceof Oo){if(e!==void 0){let a=e.filter(o=>Sn(o));return cs(a,t.innerError),{reason:t.innerError.message,signature:(n=t.innerError.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.innerError.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.innerError.errorName,customErrorDecodedSignature:t.innerError.errorSignature,customErrorArguments:t.innerError.errorArgs}}return{reason:t.innerError.message,signature:(i=t.innerError.data)===null||i===void 0?void 0:i.slice(0,10),data:(s=t.innerError.data)===null||s===void 0?void 0:s.substring(10)}}if(t instanceof T7&&!Array.isArray(t.innerError)&&t.innerError!==void 0)return t.innerError.message;throw t};function Of(t,e,n,r=g1){return Kt0(this,void 0,void 0,function*(){try{yield ls(t,e,t.defaultBlock,r);return}catch(i){return VC(i,n)}})}var Qt0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})};function Ff(t,e,n,r,i,s){return Qt0(this,void 0,void 0,function*(){let a=s;a===void 0&&(r!==void 0?a=VC(r):t.handleRevert&&e!==void 0&&(a=yield Of(t,e,i)));let o;if(a===void 0)o=new mi(n);else if(typeof a=="string")o=new O9(a,void 0,n);else if(a.customErrorName!==void 0&&a.customErrorDecodedSignature!==void 0&&a.customErrorArguments!==void 0){let c=a;o=new pi(c.reason,c.customErrorName,c.customErrorDecodedSignature,c.customErrorArguments,c.signature,n,c.data)}else o=new O9(a.reason,a.signature,n,a.data);return o})}var Ln=(t,e,n,r=g1)=>{var i,s,a,o,c;let l=Object.assign({},t),h=U0(An,e,r);if([Pe,"allEvents"].includes(l.name)){let p=n.find(g=>g.signature===e.topics[0]);p?l=p:l={anonymous:!0}}if(l.inputs=(s=(i=l.inputs)!==null&&i!==void 0?i:t.inputs)!==null&&s!==void 0?s:[],!l.anonymous){let p=0;((a=l.inputs)!==null&&a!==void 0?a:[]).forEach(g=>{g.indexed&&(p+=1)}),p>0&&e?.topics&&e?.topics.length!==p+1&&(l=Object.assign(Object.assign({},l),{anonymous:!0,inputs:[]}))}let u=l.anonymous?e.topics:((o=e.topics)!==null&&o!==void 0?o:[]).slice(1);return Object.assign(Object.assign({},h),{returnValues:Df([...(c=l.inputs)!==null&&c!==void 0?c:[]],e.data,u),event:l.name,signature:l.anonymous||!e.topics||e.topics.length===0||!e.topics[0]?void 0:e.topics[0],raw:{data:e.data,topics:e.topics}})};var In=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Xc=class{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:i}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=i}getReceiptWithEvents(e){var n,r;let i=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&i.logs&&i.logs.length>0){i.events={};for(let s of i.logs){let a=Ln(Zc,s,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);a.event&&(i.events[a.event]=a)}}return i}checkRevertBeforeSending(e){return In(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=yield Of(this.web3Context,e,this.options.contractAbi);if(n!==void 0)throw yield Ff(this.web3Context,e,void 0,void 0,this.options.contractAbi,n)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice({transactionFormatted:e,transaction:n}){var r;return In(this,void 0,void 0,function*(){let i=e;return!(!((r=this.options)===null||r===void 0)&&r.ignoreGasPricing)&&A0(e.gasPrice)&&(A0(n.maxPriorityFeePerGas)||A0(n.maxFeePerGas))&&(i=Object.assign(Object.assign({},e),yield xf(e,this.web3Context,H1))),i})}signAndSend({wallet:e,tx:n}){return In(this,void 0,void 0,function*(){if(e){let r=yield e.signTransaction(n);return Uc(this.web3Context,()=>In(this,void 0,void 0,function*(){return q1.sendRawTransaction(this.web3Context.requestManager,r.rawTransaction)}),r.transactionHash)}return Uc(this.web3Context,()=>In(this,void 0,void 0,function*(){return q1.sendTransaction(this.web3Context.requestManager,n)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError({error:e,tx:n}){var r;return In(this,void 0,void 0,function*(){let i=e;return i instanceof f6&&this.web3Context.handleRevert&&(i=yield Ff(this.web3Context,n,void 0,void 0,(r=this.options)===null||r===void 0?void 0:r.contractAbi)),(i instanceof T7||i instanceof f6||i instanceof pi||i instanceof mi||i instanceof O9)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",i),i})}emitConfirmation({receipt:e,transactionHash:n}){this.promiEvent.listenerCount("confirmation")>0&&mV(this.web3Context,this.promiEvent,e,n,this.returnFormat)}handleResolve({receipt:e,tx:n}){var r,i,s;return In(this,void 0,void 0,function*(){if(!((r=this.options)===null||r===void 0)&&r.transactionResolver)return(i=this.options)===null||i===void 0?void 0:i.transactionResolver(e);if(e.status===BigInt(0)){let a=yield Ff(this.web3Context,n,e,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a}else return e})}};var b3=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Yt0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};var TV=t=>b3(void 0,void 0,void 0,function*(){return q1.getSyncing(t.requestManager)});function PV(t,e){return b3(this,void 0,void 0,function*(){let n=yield q1.getHashRate(t.requestManager);return U0({format:"uint"},n,e)})}function wf(t,e){return b3(this,void 0,void 0,function*(){let n=yield q1.getGasPrice(t.requestManager);return U0({format:"uint"},n,e)})}function jc(t,e){return b3(this,void 0,void 0,function*(){let n=yield q1.getBlockNumber(t.requestManager);return U0({format:"uint"},n,e)})}function LV(t,e,n=t.defaultBlock,r){return b3(this,void 0,void 0,function*(){let i=c4(n)?n:U0({format:"uint"},n,H1),s=yield q1.getBalance(t.requestManager,e,i);return U0({format:"uint"},s,r)})}function IV(t,e,n,r=t.defaultBlock,i){return b3(this,void 0,void 0,function*(){let s=U0({format:"uint"},n,H1),a=c4(r)?r:U0({format:"uint"},r,H1),o=yield q1.getStorageAt(t.requestManager,e,s,a);return U0({format:"bytes"},o,i)})}function DV(t,e,n=t.defaultBlock,r){return b3(this,void 0,void 0,function*(){let i=c4(n)?n:U0({format:"uint"},n,H1),s=yield q1.getCode(t.requestManager,e,i);return U0({format:"bytes"},s,r)})}function yf(t,e=t.defaultBlock,n=!1,r){return b3(this,void 0,void 0,function*(){let i;if(O7(e)){let s=U0({format:"bytes32"},e,H1);i=yield q1.getBlockByHash(t.requestManager,s,n)}else{let s=c4(e)?e:U0({format:"uint"},e,H1);i=yield q1.getBlockByNumber(t.requestManager,s,n)}return U0(Ji,i,r)})}function OV(t,e=t.defaultBlock,n){return b3(this,void 0,void 0,function*(){let r;if(O7(e)){let i=U0({format:"bytes32"},e,H1);r=yield q1.getBlockTransactionCountByHash(t.requestManager,i)}else{let i=c4(e)?e:U0({format:"uint"},e,H1);r=yield q1.getBlockTransactionCountByNumber(t.requestManager,i)}return U0({format:"uint"},r,n)})}function FV(t,e=t.defaultBlock,n){return b3(this,void 0,void 0,function*(){let r;if(O7(e)){let i=U0({format:"bytes32"},e,H1);r=yield q1.getUncleCountByBlockHash(t.requestManager,i)}else{let i=c4(e)?e:U0({format:"uint"},e,H1);r=yield q1.getUncleCountByBlockNumber(t.requestManager,i)}return U0({format:"uint"},r,n)})}function HV(t,e=t.defaultBlock,n,r){return b3(this,void 0,void 0,function*(){let i=U0({format:"uint"},n,H1),s;if(O7(e)){let a=U0({format:"bytes32"},e,H1);s=yield q1.getUncleByBlockHashAndIndex(t.requestManager,a,i)}else{let a=c4(e)?e:U0({format:"uint"},e,H1);s=yield q1.getUncleByBlockNumberAndIndex(t.requestManager,a,i)}return U0(Ji,s,r)})}function VV(t,e,n){return b3(this,void 0,void 0,function*(){let r=U0({format:"bytes32"},e,g1),i=yield q1.getTransactionByHash(t.requestManager,r);return A0(i)?i:R4(i,n,{fillInputAndData:!0})})}function RV(t,e){return b3(this,void 0,void 0,function*(){return(yield q1.getPendingTransactions(t.requestManager)).map(r=>R4(r,e,{fillInputAndData:!0}))})}function NV(t,e=t.defaultBlock,n,r){return b3(this,void 0,void 0,function*(){let i=U0({format:"uint"},n,H1),s;if(O7(e)){let a=U0({format:"bytes32"},e,H1);s=yield q1.getTransactionByBlockHashAndIndex(t.requestManager,a,i)}else{let a=c4(e)?e:U0({format:"uint"},e,H1);s=yield q1.getTransactionByBlockNumberAndIndex(t.requestManager,a,i)}return A0(s)?s:R4(s,r,{fillInputAndData:!0})})}function _f(t,e,n){return b3(this,void 0,void 0,function*(){let r=U0({format:"bytes32"},e,g1),i=yield q1.getTransactionReceipt(t.requestManager,r);return A0(i)?i:U0(P8,i,n)})}function Mf(t,e,n=t.defaultBlock,r){return b3(this,void 0,void 0,function*(){let i=c4(n)?n:U0({format:"uint"},n,H1),s=yield q1.getTransactionCount(t.requestManager,e,i);return U0({format:"uint"},s,r)})}function el(t,e,n,r={checkRevertBeforeSending:!0}){let i=new Bc((s,a)=>{setImmediate(()=>{b3(this,void 0,void 0,function*(){let o=new Xc({web3Context:t,promiEvent:i,options:r,returnFormat:n}),c=R4(Object.assign(Object.assign({},e),{from:zf("from",t,e),to:zf("to",t,e)}),H1);try{c=yield o.populateGasPrice({transaction:e,transactionFormatted:c}),yield o.checkRevertBeforeSending(c),o.emitSending(c);let l;t.wallet&&!A0(c.from)&&(l=t.wallet.get(c.from));let h=yield o.signAndSend({wallet:l,tx:c}),u=U0({format:"bytes32"},h,n);o.emitSent(c),o.emitTransactionHash(u);let p=yield wC(t,h,n),g=o.getReceiptWithEvents(U0(P8,p,n));o.emitReceipt(g),s(yield o.handleResolve({receipt:g,tx:c})),o.emitConfirmation({receipt:g,transactionHash:h})}catch(l){a(yield o.handleError({error:l,tx:c}))}})})});return i}function BV(t,e,n,r={checkRevertBeforeSending:!0}){let i=new Bc((s,a)=>{setImmediate(()=>{b3(this,void 0,void 0,function*(){let o=new Xc({web3Context:t,promiEvent:i,options:r,returnFormat:n}),c=U0({format:"bytes"},e,H1),l=$6.fromSerializedData(T5(W2(c))),h=Object.assign(Object.assign({},l.toJSON()),{from:l.getSenderAddress().toString()});try{let{v:u,r:p,s:g}=h,f=Yt0(h,["v","r","s"]);yield o.checkRevertBeforeSending(f),o.emitSending(c);let w=yield Uc(t,()=>b3(this,void 0,void 0,function*(){return q1.sendRawTransaction(t.requestManager,c)}));o.emitSent(c);let L=U0({format:"bytes32"},w,n);o.emitTransactionHash(L);let A=yield wC(t,w,n),_=o.getReceiptWithEvents(U0(P8,A,n));o.emitReceipt(_),s(yield o.handleResolve({receipt:_,tx:h})),o.emitConfirmation({receipt:_,transactionHash:w})}catch(u){a(yield o.handleError({error:u,tx:h}))}})})});return i}function ZV(t,e,n,r){var i;return b3(this,void 0,void 0,function*(){let s=U0({format:"bytes"},e,g1);if(!((i=t.wallet)===null||i===void 0)&&i.get(n)){let c=t.wallet.get(n).sign(s);return U0(iV,c,r)}if(typeof n=="number")throw new Ip(e,'RPC method "eth_sign" does not support index signatures');let a=yield q1.sign(t.requestManager,n,s);return U0({format:"bytes"},a,r)})}function jV(t,e,n){return b3(this,void 0,void 0,function*(){let r=yield q1.signTransaction(t.requestManager,R4(e,H1));return Mi(r)?oV(r,n,{fillInputAndData:!0}):{raw:U0({format:"bytes"},r.raw,n),tx:R4(r.tx,n,{fillInputAndData:!0})}})}function ls(t,e,n=t.defaultBlock,r){return b3(this,void 0,void 0,function*(){let i=c4(n)?n:U0({format:"uint"},n,H1),s=yield q1.call(t.requestManager,R4(e,H1),i);return U0({format:"bytes"},s,r)})}function es(t,e,n=t.defaultBlock,r){return b3(this,void 0,void 0,function*(){let i=R4(e,H1),s=c4(n)?n:U0({format:"uint"},n,H1),a=yield q1.estimateGas(t.requestManager,i,s);return U0({format:"uint"},a,r)})}function Hf(t,e,n){return b3(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:i}=e;A0(r)||(typeof r=="number"||typeof r=="bigint")&&(r=_4(r)),A0(i)||(typeof i=="number"||typeof i=="bigint")&&(i=_4(i));let s=Object.assign(Object.assign({},e),{fromBlock:i,toBlock:r});return(yield q1.getLogs(t.requestManager,s)).map(c=>typeof c=="string"?c:U0(An,c,n))})}function Cf(t,e){return b3(this,void 0,void 0,function*(){let n=yield q1.getChainId(t.requestManager);return U0({format:"uint"},n,e)})}function UV(t,e,n,r=t.defaultBlock,i){return b3(this,void 0,void 0,function*(){let s=n.map(c=>U0({format:"bytes"},c,H1)),a=c4(r)?r:U0({format:"uint"},r,H1),o=yield q1.getProof(t.requestManager,e,s,a);return U0(aV,o,i)})}function GV(t,e,n=t.defaultBlock,r,i){return b3(this,void 0,void 0,function*(){let s=U0({format:"uint"},e,H1),a=c4(n)?n:U0({format:"uint"},n,H1),o=U0({type:"array",items:{format:"uint"}},r,En),c=yield q1.getFeeHistory(t.requestManager,s,a,o);return U0(sV,c,i)})}function Vf(t,e,n=t.defaultBlock,r){return b3(this,void 0,void 0,function*(){let i=c4(n)?n:U0({format:"uint"},n,H1),s=yield q1.createAccessList(t.requestManager,R4(e,H1),i);return U0(tV,s,r)})}function qV(t,e,n,r,i){return b3(this,void 0,void 0,function*(){let s=yield q1.signTypedData(t.requestManager,e,n,r);return U0({format:"bytes"},s,i)})}var tl=class extends Ae{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return U0(An,e,super.returnFormat)}},nl=class extends Ae{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return U0({format:"string"},e,super.returnFormat)}},et=class extends Ae{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return U0(nV,e,super.returnFormat)}},rl=class extends Ae{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{let n=Object.fromEntries(Object.entries(e.status).map(([r,i])=>[r.charAt(0).toLowerCase()+r.substring(1),i]));this.emit("changed",e.syncing),this.emit("data",U0(rV,n,super.returnFormat))}}};var V2=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Rf={logs:tl,newPendingTransactions:nl,newHeads:et,syncing:rl,pendingTransactions:nl,newBlockHeaders:et},Dn=class t extends b4{constructor(e){if(typeof e=="string"||pn(e)){super({provider:e,registeredSubscriptions:Rf});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:Rf}))}getProtocolVersion(){return V2(this,void 0,void 0,function*(){return q1.getProtocolVersion(this.requestManager)})}isSyncing(){return V2(this,void 0,void 0,function*(){return q1.getSyncing(this.requestManager)})}getCoinbase(){return V2(this,void 0,void 0,function*(){return q1.getCoinbase(this.requestManager)})}isMining(){return V2(this,void 0,void 0,function*(){return q1.getMining(this.requestManager)})}getHashrate(e=g1){return V2(this,void 0,void 0,function*(){return this.getHashRate(e)})}getHashRate(e=g1){return V2(this,void 0,void 0,function*(){return PV(this,e)})}getGasPrice(e=g1){return V2(this,void 0,void 0,function*(){return wf(this,e)})}getAccounts(){var e;return V2(this,void 0,void 0,function*(){return((e=yield q1.getAccounts(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>J4(r))})}getBlockNumber(e=g1){return V2(this,void 0,void 0,function*(){return jc(this,e)})}getBalance(e,n=this.defaultBlock,r=g1){return V2(this,void 0,void 0,function*(){return LV(this,e,n,r)})}getStorageAt(e,n,r=this.defaultBlock,i=g1){return V2(this,void 0,void 0,function*(){return IV(this,e,n,r,i)})}getCode(e,n=this.defaultBlock,r=g1){return V2(this,void 0,void 0,function*(){return DV(this,e,n,r)})}getBlock(e=this.defaultBlock,n=!1,r=g1){return V2(this,void 0,void 0,function*(){return yf(this,e,n,r)})}getBlockTransactionCount(e=this.defaultBlock,n=g1){return V2(this,void 0,void 0,function*(){return OV(this,e,n)})}getBlockUncleCount(e=this.defaultBlock,n=g1){return V2(this,void 0,void 0,function*(){return FV(this,e,n)})}getUncle(e=this.defaultBlock,n,r=g1){return V2(this,void 0,void 0,function*(){return HV(this,e,n,r)})}getTransaction(e,n=g1){return V2(this,void 0,void 0,function*(){let r=yield VV(this,e,n);if(!r)throw new Vo;return r})}getPendingTransactions(e=g1){return V2(this,void 0,void 0,function*(){return RV(this,e)})}getTransactionFromBlock(e=this.defaultBlock,n,r=g1){return V2(this,void 0,void 0,function*(){return NV(this,e,n,r)})}getTransactionReceipt(e,n=g1){return V2(this,void 0,void 0,function*(){let r=yield _f(this,e,n);if(!r)throw new Vo;return r})}getTransactionCount(e,n=this.defaultBlock,r=g1){return V2(this,void 0,void 0,function*(){return Mf(this,e,n,r)})}sendTransaction(e,n=g1,r){return el(this,e,n,r)}sendSignedTransaction(e,n=g1,r){return BV(this,e,n,r)}sign(e,n,r=g1){return V2(this,void 0,void 0,function*(){return ZV(this,e,n,r)})}signTransaction(e,n=g1){return V2(this,void 0,void 0,function*(){return jV(this,e,n)})}call(e,n=this.defaultBlock,r=g1){return V2(this,void 0,void 0,function*(){return ls(this,e,n,r)})}estimateGas(e,n=this.defaultBlock,r=g1){return V2(this,void 0,void 0,function*(){return es(this,e,n,r)})}getPastLogs(e,n=g1){return V2(this,void 0,void 0,function*(){return Hf(this,e,n)})}getWork(){return V2(this,void 0,void 0,function*(){return q1.getWork(this.requestManager)})}submitWork(e,n,r){return V2(this,void 0,void 0,function*(){return q1.submitWork(this.requestManager,e,n,r)})}requestAccounts(){return V2(this,void 0,void 0,function*(){return q1.requestAccounts(this.requestManager)})}getChainId(e=g1){return V2(this,void 0,void 0,function*(){return Cf(this,e)})}getNodeInfo(){return V2(this,void 0,void 0,function*(){return q1.getNodeInfo(this.requestManager)})}getProof(e,n,r=this.defaultBlock,i=g1){return V2(this,void 0,void 0,function*(){return UV(this,e,n,r,i)})}getFeeHistory(e,n=this.defaultBlock,r,i=g1){return V2(this,void 0,void 0,function*(){return GV(this,e,n,r,i)})}createAccessList(e,n=this.defaultBlock,r=g1){return V2(this,void 0,void 0,function*(){return Vf(this,e,n,r)})}signTypedData(e,n,r=!1,i=g1){return V2(this,void 0,void 0,function*(){return qV(this,e,n,r,i)})}subscribe(e,n,r=g1){var i;return V2(this,void 0,void 0,function*(){let s=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,n,r);return s instanceof tl&&e==="logs"&&typeof n=="object"&&!k1(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(a=>{for(let o of a)s._processSubscriptionResult(o)}).catch(a=>{s._processSubscriptionError(a)})}),s})}static shouldClearSubscription({sub:e}){return!(e instanceof rl)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?t.shouldClearSubscription:void 0)}};var Xt0=t=>{if(!A0(t.common)){if(A0(t.common.customChain))throw new Fp;if(A0(t.common.customChain.chainId))throw new Hp;if(!A0(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new Vp({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},en0=t=>{if(!A0(t.common)&&!A0(t.chain)&&!A0(t.hardfork))throw new Bp;if(!A0(t.chain)&&A0(t.hardfork)||!A0(t.hardfork)&&A0(t.chain))throw new Zp({chain:t.chain,hardfork:t.hardfork})},tn0=t=>{if(!A0(t.common)&&!A0(t.common.baseChain)&&!A0(t.chain)&&t.chain!==t.common.baseChain)throw new Rp({txChain:t.chain,baseChain:t.common.baseChain})},nn0=t=>{if(!A0(t.common)&&!A0(t.common.hardfork)&&!A0(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new Np({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},WV=t=>{if(A0(t.gas)||!A8(t.gas)||A0(t.gasPrice)||!A8(t.gasPrice))throw new Gp({gas:t.gas,gasPrice:t.gasPrice});if(!A0(t.maxFeePerGas)||!A0(t.maxPriorityFeePerGas))throw new No({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},$V=t=>{if(!A0(t.gasPrice)&&t.type==="0x2")throw new Wp(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new No({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(A0(t.maxFeePerGas)||!A8(t.maxFeePerGas)||A0(t.maxPriorityFeePerGas)||!A8(t.maxPriorityFeePerGas))throw new qp({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},rn0=t=>{let e=!A0(t.gas)||!A0(t.gasLimit),n=e&&!A0(t.gasPrice),r=e&&!A0(t.maxPriorityFeePerGas)&&!A0(t.maxFeePerGas);if(!n&&!r)throw new jp({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new Up({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?WV:$V)(t),(!A0(t.type)&&t.type>"0x1"?$V:WV)(t)},KV=(t,e)=>{if(!A0(e)){e(t);return}if(typeof t!="object"||A0(t))throw new $p(t);Xt0(t),en0(t),tn0(t),nn0(t);let n=R4(t,H1);if(rn0(n),A0(n.nonce)||A0(n.chainId)||n.nonce.startsWith("-")||n.chainId.startsWith("-"))throw new Kp({nonce:t.nonce,chainId:t.chainId})};var in0=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},sn0=t=>{var e,n;return{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas}},an0=(t,e)=>{var n,r,i,s,a,o,c,l,h,u,p,g,f,w,L,A,_,R;let G=!A0(t.chain)&&!A0(t.hardfork)||!A0(t.common),K;if(!G)e.defaultCommon?(K=e.defaultCommon,A0(K.hardfork)&&(K.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),A0(K.baseChain)&&(K.baseChain=e.defaultChain)):K=T8.custom({name:"custom-network",chainId:j4(t.chainId),networkId:A0(t.networkId)?void 0:j4(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{let Z=(o=(a=(s=(i=t?.common)===null||i===void 0?void 0:i.customChain)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:t.chain)!==null&&o!==void 0?o:"custom-network",$=j4((h=(l=(c=t?.common)===null||c===void 0?void 0:c.customChain)===null||l===void 0?void 0:l.chainId)!==null&&h!==void 0?h:t?.chainId),n0=j4((g=(p=(u=t?.common)===null||u===void 0?void 0:u.customChain)===null||p===void 0?void 0:p.networkId)!==null&&g!==void 0?g:t?.networkId),h0=(L=(w=(f=t?.common)===null||f===void 0?void 0:f.hardfork)!==null&&w!==void 0?w:t?.hardfork)!==null&&L!==void 0?L:e.defaultHardfork,X=(R=(_=(A=t.common)===null||A===void 0?void 0:A.baseChain)!==null&&_!==void 0?_:t.chain)!==null&&R!==void 0?R:e.defaultChain;$&&n0&&Z&&(K=T8.custom({name:Z,chainId:$,networkId:n0,defaultHardfork:h0},{baseChain:X}))}return{common:K}},QV=(t,e,n,r=!1,i=!0)=>in0(void 0,void 0,void 0,function*(){let s=yield vC({transaction:t,web3Context:e,privateKey:n,fillGasPrice:r,fillGasLimit:i}),a=R4(s,H1);return KV(a),$6.fromTxData(sn0(a),an0(a,e))});var RC=({address:t},e,n)=>{var r,i;let s=n?.topics,a=(r=n?.filter)!==null&&r!==void 0?r:{},o={};if(k1(n?.fromBlock)||(o.fromBlock=U0(Ji.properties.number,n?.fromBlock,{number:k5.HEX,bytes:D7.HEX})),k1(n?.toBlock)||(o.toBlock=U0(Ji.properties.number,n?.toBlock,{number:k5.HEX,bytes:D7.HEX})),s&&Array.isArray(s))o.topics=[...s];else if(o.topics=[],e&&!e.anonymous&&![Pe,"allEvents"].includes(e.name)&&o.topics.push((i=e.signature)!==null&&i!==void 0?i:rs(w6(e))),![Pe,"allEvents"].includes(e.name)&&e.inputs)for(let c of e.inputs){if(!c.indexed)continue;let l=a[c.name];if(!l){o.topics.push(null);continue}Array.isArray(l)?o.topics.push(l.map(h=>Jc(c.type,h))):c.type==="string"?o.topics.push(U9(l)):o.topics.push(Jc(c.type,l))}return o.topics.length||delete o.topics,t&&(o.address=t.toLowerCase()),o},On=(t,e,n)=>{let r=Array.isArray(t.inputs)?t.inputs.length:0;if(r!==e.length)throw new Z4(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let i=kn(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x","");if(fV(t)){if(!n)throw new Z4("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${i}`:`0x${n}${i}`}return`${Pn(t)}${i}`},YV=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;let n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;let r=Tn([...t.outputs],n);return r.__length__===1?r[0]:r};var il=class extends Ae{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Ln(this.abi,e,this.jsonInterface,super.returnFormat)}};var Nf=(t,e,n,r)=>{var i,s;let a={};return(!k1(t.data)||r==="both")&&(a.data=On(e,n,(i=t.data)!==null&&i!==void 0?i:t.input)),(!k1(t.input)||r==="both")&&(a.input=On(e,n,(s=t.input)!==null&&s!==void 0?s:t.data)),k1(a.input)&&k1(a.data)&&(a[r]=On(e,n)),{data:a.data,input:a.input}},NC=({abi:t,params:e,options:n,contractOptions:r})=>{var i,s,a;if(!((a=(s=(i=n?.input)!==null&&i!==void 0?i:n?.data)!==null&&s!==void 0?s:r.input)!==null&&a!==void 0?a:r.data)&&!n?.to&&!r.address)throw new Z4("Contract address not specified");if(!n?.from&&!r.from)throw new Z4('Contract "from" address not specified');let c=G6({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n),l=Nf(c,t,e,n?.dataInputFill);return c=Object.assign(Object.assign({},c),{data:l.data,input:l.input}),c},JV=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Z4("Contract address not specified");let i=G6({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n),s=Nf(i,t,e,n?.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i},XV=({abi:t,params:e,options:n,contractOptions:r})=>{let i=G6({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n),s=Nf(i,t,e,n?.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i},BC=t=>typeof t=="object"&&!k1(t)&&Object.keys(t).length!==0&&!U6(t),eR=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Z4("Contract address not specified");if(!n?.from&&!r.from)throw new Z4('Contract "from" address not specified');let i=G6({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n),s=Nf(i,t,e,n?.dataInputFill);return i=Object.assign(Object.assign({},i),{data:s.data,input:s.input}),i};var tt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},on0={logs:il,newHeads:et,newBlockHeaders:et},nt=class t extends b4{constructor(e,n,r,i,s){var a,o,c;let l=U6(n)?n:U6(r)?r:void 0,h;BC(n)?h=n:BC(r)?h=r:h=i;let u;if(typeof n=="object"&&"provider"in n?u=n.provider:typeof r=="object"&&"provider"in r?u=r.provider:typeof i=="object"&&"provider"in i?u=i.provider:u=t.givenProvider,super(Object.assign(Object.assign({},h),{provider:u,registeredSubscriptions:on0})),this.syncWithContext=!1,this._functions={},!A0(l)&&!A0(l.data)&&!A0(l.input)&&this.config.contractDataInputFill!=="both")throw new Ep({data:l.data,input:l.input});this._overloadedMethodAbis=new Map;let p=F7(i)?i:F7(r)?r:s??g1,g=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(a=l?.dataInputFill)!==null&&a!==void 0?a:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,p),A0(g)||this._parseAndSetAddress(g,p),this.options={address:g,jsonInterface:this._jsonInterface,gas:(o=l?.gas)!==null&&o!==void 0?o:l?.gasLimit,gasPrice:l?.gasPrice,from:l?.from,input:l?.input,data:l?.data},this.syncWithContext=(c=l?.syncWithContext)!==null&&c!==void 0?c:!1,h instanceof b4&&this.subscribeToContextEvents(h),Object.defineProperty(this.options,"address",{set:f=>this._parseAndSetAddress(f,p),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:f=>this._parseAndSetJsonInterface(f,p),get:()=>this._jsonInterface}),h instanceof b4&&h.on(q9.CONFIG_CHANGE,f=>{this.setConfig({[f.name]:f.newValue})})}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new t([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new t([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){var n,r,i;let s=this._jsonInterface.find(u=>u.type==="constructor");s||(s={type:"constructor",inputs:[],stateMutability:""});let a=U0({format:"bytes"},(n=e?.input)!==null&&n!==void 0?n:this.options.input,g1),o=U0({format:"bytes"},(r=e?.data)!==null&&r!==void 0?r:this.options.data,g1);if((!a||a.trim()==="0x")&&(!o||o.trim()==="0x"))throw new Z4("contract creation without any data provided.");let c=(i=e?.arguments)!==null&&i!==void 0?i:[],l=Object.assign(Object.assign({},this.options),{input:a,data:o}),h=a??o;return{arguments:c,send:u=>{let p=Object.assign({},u);return this._contractMethodDeploySend(s,c,p,l)},estimateGas:(u,p=g1)=>tt(this,void 0,void 0,function*(){let g=Object.assign({},u);return this._contractMethodEstimateGas({abi:s,params:c,returnFormat:p,options:g,contractOptions:l})}),encodeABI:()=>On(s,c,U0({format:"bytes"},h,g1))}}getPastEvents(e,n,r){var i;return tt(this,void 0,void 0,function*(){let s=typeof e=="string"?e:Pe,a=typeof e!="string"&&!F7(e)?e:F7(n)?{}:n,o=F7(e)?e:F7(n)?n:r??g1,c=s==="allEvents"||s===Pe?Zc:this._jsonInterface.find(A=>"name"in A&&A.name===s);if(!c)throw new Z4(`Event ${s} not found.`);let{fromBlock:l,toBlock:h,topics:u,address:p}=RC(this.options,c,a??{}),f=(yield Hf(this,{fromBlock:l,toBlock:h,topics:u,address:p},o)).map(A=>typeof A=="string"?A:Ln(c,A,this._jsonInterface,o)),w=(i=a?.filter)!==null&&i!==void 0?i:{},L=Object.keys(w);return L.length>0?f.filter(A=>typeof A=="string"?!0:L.every(_=>{var R;if(Array.isArray(w[_]))return w[_].some(K=>String(A.returnValues[_]).toUpperCase()===String(K).toUpperCase());let G=(R=c.inputs)===null||R===void 0?void 0:R.filter(K=>K.name===_)[0];return G?.indexed&&G.type==="string"&&U9(w[_])===String(A.returnValues[_])?!0:String(A.returnValues[_]).toUpperCase()===String(w[_]).toUpperCase()})):f})}_parseAndSetAddress(e,n=g1){this._address=e&&J4(U0({format:"address"},e,n))}_parseAndSetJsonInterface(e,n=g1){var r,i,s,a,o;this._functions={},this._methods={},this._events={};let c=[],l=e.filter(u=>u.type!=="error"),h=e.filter(u=>Sn(u));for(let u of l){let p=Object.assign(Object.assign({},u),{signature:""});if(ns(p)){let g=w6(p),f=Pn(g);p.signature=f,p.constant=(i=(r=p.stateMutability==="view")!==null&&r!==void 0?r:p.stateMutability==="pure")!==null&&i!==void 0?i:p.constant,p.payable=(s=p.stateMutability==="payable")!==null&&s!==void 0?s:p.payable,this._overloadedMethodAbis.set(p.name,[...(a=this._overloadedMethodAbis.get(p.name))!==null&&a!==void 0?a:[],p]);let w=(o=this._overloadedMethodAbis.get(p.name))!==null&&o!==void 0?o:[],L=this._createContractMethod(w,h);this._functions[g]={signature:f,method:L},this._methods[p.name]=this._functions[g].method,this._methods[g]=this._functions[g].method,this._methods[f]=this._functions[g].method}else if(Gc(p)){let g=w6(p),f=rs(g),w=this._createContractEvent(p,n);p.signature=f,(!(g in this._events)||p.name==="bound")&&(this._events[g]=w),this._events[p.name]=w,this._events[f]=w}c=[...c,p]}this._events.allEvents=this._createContractEvent(Zc,n),this._jsonInterface=[...c],this._errorsInterface=h}_getAbiParams(e,n){var r;try{return D3.transformJsonDataToAbiFormat((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(i){throw new Z4(`Invalid parameters for method ${e.name}: ${i.message}`)}}_createContractMethod(e,n){let r=e[e.length-1];return(...i)=>{var s,a;let o,c=(s=this._overloadedMethodAbis.get(r.name))!==null&&s!==void 0?s:[],l=c[0],h=n,u=c.filter(g=>{var f;return((f=g.inputs)!==null&&f!==void 0?f:[]).length===i.length});if(c.length===1||u.length===0)o=this._getAbiParams(l,i),C1.validate((a=r.inputs)!==null&&a!==void 0?a:[],o);else{let g=[];for(let f of u)try{o=this._getAbiParams(f,i),C1.validate(f.inputs,o),l=f;break}catch(w){g.push(w)}if(g.length===u.length)throw new g6(g)}let p={arguments:o,call:(g,f)=>tt(this,void 0,void 0,function*(){return this._contractMethodCall(l,o,h,g,f)}),send:g=>this._contractMethodSend(l,o,h,g),estimateGas:(g,f=g1)=>tt(this,void 0,void 0,function*(){return this._contractMethodEstimateGas({abi:l,params:o,returnFormat:f,options:g})}),encodeABI:()=>On(l,o),createAccessList:(g,f)=>tt(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(l,o,h,g,f)})};return l.stateMutability==="payable",p}}_contractMethodCall(e,n,r,i,s){var a;return tt(this,void 0,void 0,function*(){let o=JV({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{let c=yield ls(this,o,s,g1);return YV(e,c)}catch(c){throw c instanceof f6&&cs(r,c.innerError),c}})}_contractMethodCreateAccessList(e,n,r,i,s){var a;return tt(this,void 0,void 0,function*(){let o=eR({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{return Vf(this,o,s,g1)}catch(c){throw c instanceof f6&&cs(r,c.innerError),c}})}_contractMethodSend(e,n,r,i,s){var a,o;let c=s??this.options;c=Object.assign(Object.assign({},c),{input:void 0,from:(o=(a=c.from)!==null&&a!==void 0?a:this.defaultAccount)!==null&&o!==void 0?o:void 0});let l=NC({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:c}),h=el(this,l,g1,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface});return h.on("error",u=>{u instanceof f6&&cs(r,u.innerError)}),h}_contractMethodDeploySend(e,n,r,i){var s,a;let o=i??this.options;o=Object.assign(Object.assign({},o),{from:(a=(s=o.from)!==null&&s!==void 0?s:this.defaultAccount)!==null&&a!==void 0?a:void 0});let c=NC({abi:e,params:n,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o});return el(this,c,g1,{transactionResolver:l=>{if(l.status===BigInt(0))throw new Z4("code couldn't be stored",l);let h=this.clone();return h.options.address=l.contractAddress,h},contractAbi:this._jsonInterface,checkRevertBeforeSending:!1})}_contractMethodEstimateGas({abi:e,params:n,returnFormat:r,options:i,contractOptions:s}){return tt(this,void 0,void 0,function*(){let a=XV({abi:e,params:n,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:s??this.options});return es(this,a,j6.LATEST,r)})}_createContractEvent(e,n=g1){return(...r)=>{var i;let{topics:s,fromBlock:a}=RC(this.options,e,r[0]),o=new il({address:this.options.address,topics:s,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return A0(a)||this.getPastEvents(e.name,{fromBlock:a,topics:s},n).then(c=>{c.forEach(l=>o.emit("data",l))}).catch(c=>{o.emit("error",new u5("Failed to get past events.",c))}),(i=this.subscriptionManager)===null||i===void 0||i.addSubscription(o).catch(c=>{o.emit("error",new u5("Failed to subscribe.",c))}),o}}subscribeToContextEvents(e){let n=this;this.context=e,n.syncWithContext&&e.on(q9.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}};var tR=nt;var ZC={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Bf={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash"},rt={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},nR={"0x1":"main","0x5":"goerli"};var rR=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}];var iR=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}];var ln0="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",sR=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),aR=4;function hn0(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let K=1;K<r;K++)s.push(i+=n());let a=n(),o=e;e+=a;let c=0,l=0;function h(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let u=31,p=2**u,g=p>>>1,f=g>>1,w=p-1,L=0;for(let K=0;K<u;K++)L=L<<1|h();let A=[],_=0,R=p;for(;;){let K=Math.floor(((L-_+1)*i-1)/R),Z=0,$=r;for(;$-Z>1;){let X=Z+$>>>1;K<s[X]?$=X:Z=X}if(Z==0)break;A.push(Z);let n0=_+Math.floor(R*s[Z]/i),h0=_+Math.floor(R*s[Z+1]/i)-1;for(;!((n0^h0)&g);)L=L<<1&w|h(),n0=n0<<1&w,h0=h0<<1&w|1;for(;n0&~h0&f;)L=L&g|L<<1&w>>>1|h(),n0=n0<<1^g,h0=(h0^g)<<1|g|1;_=n0,R=1+h0-n0}let G=r-4;return A.map(K=>{switch(K-G){case 3:return G+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return G+256+(t[o++]<<8|t[o++]);case 1:return G+t[o++];default:return K-1}})}function un0(t){let e=0;return()=>t[e++]}function hR(t){return un0(hn0(dn0(t)))}function dn0(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,a=0,o=0;i<n;i++)o=o<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(r[s++]=o>>(a-=8));return r}function pn0(t){return t&1?~t>>1:t>>1}function mn0(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=pn0(e());return n}function ol(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function uR(t){return cl(()=>{let e=ol(t);if(e.length)return e})}function dR(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(fn0(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(gn0(n,t))}return e.flat()}function cl(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function pR(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)mn0(t,n).forEach((s,a)=>r[a].push(s));return r}function fn0(t,e){let n=1+e(),r=e(),i=cl(e);return pR(i.length,1+t,e).flatMap((a,o)=>{let[c,...l]=a;return Array(i[o]).fill().map((h,u)=>{let p=u*r;return[c+u*n,l.map(g=>g+p)]})})}function gn0(t,e){let n=1+e();return pR(n,1+t,e).map(i=>[i[0],i.slice(1)])}function vn0(t){let e=[],n=ol(t);return i(r([]),[]),e;function r(s){let a=t(),o=cl(()=>{let c=ol(t).map(l=>n[l]);if(c.length)return r(c)});return{S:a,B:o,Q:s}}function i({S:s,B:a},o,c){if(!(s&4&&c===o[o.length-1])){s&2&&(c=o[o.length-1]),s&1&&e.push(o);for(let l of a)for(let h of l.Q)i(l,[...o,h],c)}}}function bn0(t){return t.toString(16).toUpperCase().padStart(2,"0")}function mR(t){return`{${bn0(t)}}`}function xn0(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function ps(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function wn0(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var yn0="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",ll=44032,jf=4352,Uf=4449,Gf=4519,fR=19,gR=21,ms=28,qf=gR*ms,zn0=fR*qf,Mn0=ll+zn0,Cn0=jf+fR,An0=Uf+gR,_n0=Gf+ms;function sl(t){return t>>24&255}function vR(t){return t&16777215}var UC,oR,GC,Zf;function En0(){let t=hR(yn0);UC=new Map(uR(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),oR=new Set(ol(t)),GC=new Map,Zf=new Map;for(let[e,n]of dR(t)){if(!oR.has(e)&&n.length==2){let[r,i]=n,s=Zf.get(r);s||(s=new Map,Zf.set(r,s)),s.set(i,e)}GC.set(e,n.reverse())}}function bR(t){return t>=ll&&t<Mn0}function Sn0(t,e){if(t>=jf&&t<Cn0&&e>=Uf&&e<An0)return ll+(t-jf)*qf+(e-Uf)*ms;if(bR(t)&&e>Gf&&e<_n0&&(t-ll)%ms==0)return t+(e-Gf);{let n=Zf.get(t);return n&&(n=n.get(e),n)?n:-1}}function xR(t){UC||En0();let e=[],n=[],r=!1;function i(s){let a=UC.get(s);a&&(r=!0,s|=a),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(bR(s)){let a=s-ll,o=a/qf|0,c=a%qf/ms|0,l=a%ms;i(jf+o),i(Uf+c),l>0&&i(Gf+l)}else{let a=GC.get(s);a?n.push(...a):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=sl(e[0]);for(let a=1;a<e.length;a++){let o=sl(e[a]);if(o==0||s<=o){s=o;continue}let c=a-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(s=sl(e[--c]),s<=o))break}s=sl(e[a])}}return e}function kn0(t){let e=[],n=[],r=-1,i=0;for(let s of t){let a=sl(s),o=vR(s);if(r==-1)a==0?r=o:e.push(o);else if(i>0&&i>=a)a==0?(e.push(r,...n),n.length=0,r=o):n.push(o),i=a;else{let c=Sn0(r,o);c>=0?r=c:i==0&&a==0?(e.push(r),r=o):(n.push(o),i=a)}}return r>=0&&e.push(r,...n),e}function wR(t){return xR(t).map(vR)}function Tn0(t){return kn0(xR(t))}var cR=45;var yR=".",zR=65039,MR=1,us=t=>Array.from(t);function hl(t,e){return t.P.has(e)||t.Q.has(e)}var qC=class extends Array{get is_emoji(){return!0}},WC,CR,Fn,$C,AR,Pn0,ds,jC,hs,_R,lR,KC;function QC(){if(WC)return;let t=hR(ln0),e=()=>ol(t),n=()=>new Set(e());WC=new Map(dR(t)),CR=n(),Fn=e(),$C=new Set(e().map(h=>Fn[h])),Fn=new Set(Fn),AR=n(),Pn0=n();let r=uR(t),i=t(),s=()=>new Set(e().flatMap(h=>r[h]).concat(e()));ds=cl(h=>{let u=cl(t).map(p=>p+96);if(u.length){let p=h>=i;u[0]-=32,u=ps(u),p&&(u=`Restricted[${u}]`);let g=s(),f=s(),w=!t();return{N:u,P:g,Q:f,M:w,R:p}}}),jC=n(),hs=new Map;let a=e().concat(us(jC)).sort((h,u)=>h-u);a.forEach((h,u)=>{let p=t(),g=a[u]=p?a[u-p]:{V:[],M:new Map};g.V.push(h),jC.has(h)||hs.set(h,g)});for(let{V:h,M:u}of new Set(hs.values())){let p=[];for(let f of h){let w=ds.filter(A=>hl(A,f)),L=p.find(({G:A})=>w.some(_=>A.has(_)));L||(L={G:new Set,V:[]},p.push(L)),L.V.push(f),w.forEach(A=>L.G.add(A))}let g=p.flatMap(f=>us(f.G));for(let{G:f,V:w}of p){let L=new Set(g.filter(A=>!f.has(A)));for(let A of w)u.set(A,L)}}let o=new Set,c=new Set,l=h=>o.has(h)?c.add(h):o.add(h);for(let h of ds){for(let u of h.P)l(u);for(let u of h.Q)l(u)}for(let h of o)!hs.has(h)&&!c.has(h)&&hs.set(h,MR);_R=new Set(us(o).concat(us(wR(o)))),lR=vn0(t).map(h=>qC.from(h)).sort(wn0),KC=new Map;for(let h of lR){let u=[KC];for(let p of h){let g=u.map(f=>{let w=f.get(p);return w||(w=new Map,f.set(p,w)),w});p===zR?u.push(...g):u=g}for(let p of u)p.V=h}}function YC(t){return(ER(t)?"":`${JC(Wf([t]))} `)+mR(t)}function JC(t){return`"${t}"\u200E`}function Ln0(t){if(t.length>=4&&t[2]==cR&&t[3]==cR)throw new Error(`invalid label extension: "${ps(t.slice(0,4))}"`)}function In0(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Dn0(t){let e=t[0],n=sR.get(e);if(n)throw al(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let a=sR.get(e);if(a){if(i==s)throw al(`${n} + ${a}`);i=s+1,n=a}}if(i==r)throw al(`trailing ${n}`)}function Wf(t,e=mR){let n=[];On0(t[0])&&n.push("\u25CC");let r=0,i=t.length;for(let s=0;s<i;s++){let a=t[s];ER(a)&&(n.push(ps(t.slice(r,s))),n.push(e(a)),r=s+1)}return n.push(ps(t.slice(r,i))),n.join("")}function On0(t){return QC(),Fn.has(t)}function ER(t){return QC(),AR.has(t)}function SR(t){return Rn0(Fn0(t,Tn0,Zn0))}function Fn0(t,e,n){if(!t)return[];QC();let r=0;return t.split(yR).map(i=>{let s=xn0(i),a={input:s,offset:r};r+=s.length+1;try{let o=a.tokens=Bn0(s,e,n),c=o.length,l;if(!c)throw new Error("empty label");let h=a.output=o.flat();if(In0(h),!(a.emoji=c>1||o[0].is_emoji)&&h.every(p=>p<128))Ln0(h),l="ASCII";else{let p=o.flatMap(g=>g.is_emoji?[]:g);if(!p.length)l="Emoji";else{if(Fn.has(h[0]))throw al("leading combining mark");for(let w=1;w<c;w++){let L=o[w];if(!L.is_emoji&&Fn.has(L[0]))throw al(`emoji + combining mark: "${ps(o[w-1])} + ${Wf([L[0]])}"`)}Dn0(h);let g=us(new Set(p)),[f]=Vn0(g);Nn0(f,p),Hn0(f,g),l=f.N}}a.type=l}catch(o){a.error=o}return a})}function Hn0(t,e){let n,r=[];for(let i of e){let s=hs.get(i);if(s===MR)return;if(s){let a=s.M.get(i);if(n=n?n.filter(o=>a.has(o)):us(a),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>hl(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Vn0(t){let e=ds;for(let n of t){let r=e.filter(i=>hl(i,n));if(!r.length)throw ds.some(i=>hl(i,n))?TR(e[0],n):kR(n);if(e=r,r.length==1)break}return e}function Rn0(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${JC(Wf(e))}: ${i}`)}return ps(r)}).join(yR)}function kR(t){return new Error(`disallowed character: ${YC(t)}`)}function TR(t,e){let n=YC(e),r=ds.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function al(t){return new Error(`illegal placement: ${t}`)}function Nn0(t,e){for(let n of e)if(!hl(t,n))throw TR(t,n);if(t.M){let n=wR(e);for(let r=1,i=n.length;r<i;r++)if($C.has(n[r])){let s=r+1;for(let a;s<i&&$C.has(a=n[s]);s++)for(let o=r;o<s;o++)if(n[o]==a)throw new Error(`duplicate non-spacing marks: ${YC(a)}`);if(s-r>aR)throw new Error(`excessive non-spacing marks: ${JC(Wf(n.slice(r-1,s)))} (${s-r}/${aR})`);r=s}}}function Bn0(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=jn0(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let a=t.pop();if(_R.has(a))i.push(a);else{let o=WC.get(a);if(o)i.push(...o);else if(!CR.has(a))throw kR(a)}}}return i.length&&r.push(e(i)),r}function Zn0(t){return t.filter(e=>e!=zR)}function jn0(t,e){let n=KC,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}var Un0=t=>SR(t),Ie=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){let r=Un0(t).split(".");for(let i=r.length-1;i>=0;i-=1){let s=H4(r[i]).slice(2);e=H4(`0x${e}${s}`).slice(2)}}return`0x${e}`};var $f=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Kf=class{constructor(e,n){this.contract=new nt(rR,n??rt.main,e),this.context=e}getOwner(e){return $f(this,void 0,void 0,function*(){try{return this.contract.methods.owner(Ie(e)).call()}catch{throw new Error}})}getTTL(e){return $f(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(Ie(e)).call()}catch{throw new Error}})}recordExists(e){return $f(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(Ie(e)).call()}catch{throw new Error}})}getResolver(e){return $f(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(Ie(e)).call().then(n=>{if(typeof n=="string")return new nt(iR,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}};var fs=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Qf=class{constructor(e){this.registry=e}getResolverContractAdapter(e){return fs(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,i;return fs(this,void 0,void 0,function*(){if(k1(ZC[n]))throw new Do((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(ZC[n]).call()))throw new Do((i=e.options.address)!==null&&i!==void 0?i:"",n)})}supportsInterface(e,n){var r;return fs(this,void 0,void 0,function*(){let i=yield this.getResolverContractAdapter(e),s=n;if(!t2(s)){if(s=(r=Ii(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");s=s.slice(0,10)}return i.methods.supportsInterface(s).call()})}getAddress(e,n=60){return fs(this,void 0,void 0,function*(){let r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,Bf.addr),r.methods.addr(Ie(e),n).call()})}getPubkey(e){return fs(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Bf.pubkey),n.methods.pubkey(Ie(e)).call()})}getContenthash(e){return fs(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,Bf.contenthash),n.methods.contenthash(Ie(e)).call()})}};var De=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},ul=class extends b4{constructor(e,n){super(n??""),this.registryAddress=e??rt.main,this._registry=new Kf(this.getContextObject(),e),this._resolver=new Qf(this._registry)}getResolver(e){return De(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return De(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return De(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return De(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return De(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getPubkey(e){return De(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return De(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return De(this,void 0,void 0,function*(){let e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){let i=yield TV(this);if(!(typeof i=="boolean"&&!i))throw new kp;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;let n=yield Xi(this,Object.assign(Object.assign({},g1),{number:k5.HEX})),r=rt[nR[n]];if(typeof r>"u")throw new Sp(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return De(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}};var Oe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},PR=t=>Oe(void 0,void 0,void 0,function*(){return(yield K6.getAccounts(t)).map(J4)}),LR=(t,e)=>Oe(void 0,void 0,void 0,function*(){C1.validate(["string"],[e]);let n=yield K6.newAccount(t,e);return J4(n)}),IR=(t,e,n,r)=>Oe(void 0,void 0,void 0,function*(){return C1.validate(["address","string","uint"],[e,n,r]),K6.unlockAccount(t,e,n,r)}),DR=(t,e)=>Oe(void 0,void 0,void 0,function*(){return C1.validate(["address"],[e]),K6.lockAccount(t,e)}),OR=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){return C1.validate(["string","string"],[e,n]),K6.importRawKey(t,e,n)}),FR=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){let r=R4(e,H1);return K6.sendTransaction(t,r,n)}),HR=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){let r=R4(e,H1);return K6.signTransaction(t,r,n)}),VR=(t,e,n,r)=>Oe(void 0,void 0,void 0,function*(){C1.validate(["string","address","string"],[e,n,r]);let i=t2(e)?e:P5(e);return K6.sign(t,i,n,r)}),RR=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){C1.validate(["string","string"],[e,n]);let r=t2(e)?e:P5(e);return K6.ecRecover(t,r,n)});var Fe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},Hn=class extends b4{getAccounts(){return Fe(this,void 0,void 0,function*(){return PR(this.requestManager)})}newAccount(e){return Fe(this,void 0,void 0,function*(){return LR(this.requestManager,e)})}unlockAccount(e,n,r){return Fe(this,void 0,void 0,function*(){return IR(this.requestManager,e,n,r)})}lockAccount(e){return Fe(this,void 0,void 0,function*(){return DR(this.requestManager,e)})}importRawKey(e,n){return Fe(this,void 0,void 0,function*(){return OR(this.requestManager,e,n)})}sendTransaction(e,n){return Fe(this,void 0,void 0,function*(){return FR(this.requestManager,e,n)})}signTransaction(e,n){return Fe(this,void 0,void 0,function*(){return HR(this.requestManager,e,n)})}sign(e,n,r){return Fe(this,void 0,void 0,function*(){return VR(this.requestManager,e,n,r)})}ecRecover(e,n){return Fe(this,void 0,void 0,function*(){return RR(this.requestManager,e,n)})}};var NR={encodeEventSignature:rs,encodeFunctionCall:kV,encodeFunctionSignature:Pn,encodeParameter:Jc,encodeParameters:kn,decodeParameter:If,decodeParameters:Tn,decodeLog:Df};var dl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{l(r.next(h))}catch(u){a(u)}}function c(h){try{l(r.throw(h))}catch(u){a(u)}}function l(h){h.done?s(h.value):i(h.value).then(o,c)}l((r=r.apply(t,e||[])).next())})},BR=t=>{let e=(a,o)=>dl(void 0,void 0,void 0,function*(){let c=yield QV(a,t),l=U0({format:"bytes"},o,H1);return NH(c,l)}),n=a=>{let o=ff(a);return Object.assign(Object.assign({},o),{signTransaction:c=>dl(void 0,void 0,void 0,function*(){return e(c,o.privateKey)})})},r=(a,o,c)=>dl(void 0,void 0,void 0,function*(){var l;let h=yield UH(a,o,(l=c?.nonStrict)!==null&&l!==void 0?l:!0);return Object.assign(Object.assign({},h),{signTransaction:u=>dl(void 0,void 0,void 0,function*(){return e(u,h.privateKey)})})}),i=()=>{let a=jH();return Object.assign(Object.assign({},a),{signTransaction:o=>dl(void 0,void 0,void 0,function*(){return e(o,a.privateKey)})})},s=new Wm({create:i,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:i,privateKeyToAccount:n,decrypt:r,recoverTransaction:BH,hashMessage:mf,sign:aC,recover:df,encrypt:oC,wallet:s,privateKeyToAddress:Ki,parseAndValidatePrivateKey:Cn,privateKeyToPublicKey:ZH}};var ZR={version:"4.3.0"};var gs=class extends b4{constructor(e){var n;(k1(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!pn(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||pn(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},Rf),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);let i=BR(this);this._wallet=i.wallet,this._accountProvider=i,this.utils=Pc;let s=this;class a extends tR{constructor(l,h,u,p,g){if(U6(h)&&U6(u))throw new Fo("Should not provide options at both 2nd and 3rd parameters");let f,w={},L,A=g1;if(!k1(h)&&typeof h!="object"&&typeof h!="string")throw new Fo;typeof h=="string"&&(f=h),U6(h)?w=h:U6(u)?w=u:w={},h instanceof b4?L=h:u instanceof b4?L=u:p instanceof b4?L=p:L=s.getContextObject(),g?A=g:F7(u)?A=u:F7(p)&&(A=p),super(l,f,w,L,A),super.subscribeToContextEvents(s)}}let o=s.use(Dn);this.eth=Object.assign(o,{ens:s.use(ul,rt.main),Iban:Qi,net:s.use(_n),personal:s.use(Hn),Contract:a,abi:NR,accounts:i})}};gs.version=ZR.version;gs.utils=Pc;gs.modules={Web3Eth:Dn,Iban:Qi,Net:_n,ENS:ul,Personal:Hn};var jR=gs;var Yf=jR;var UR=(()=>{let e=class e{constructor(){this.web3=null,this.connectedToWallet=!1,this.connectedToWallet=this.initMetaMaskSetup(),this.connectedToWallet||console.error("MetaMask is not installed!")}isConnectedToWallet(){return this.connectedToWallet}initMetaMaskSetup(){return window.ethereum?(this.web3=new Yf(window.ethereum),this.connectedToWallet=!0):this.connectedToWallet=!1,this.isConnectedToWallet()}connectWalletMetaMask(){return y0(this,null,function*(){if(!window.ethereum){console.error("Ethereum object not found");return}try{yield window.ethereum.request({method:"eth_requestAccounts"})}catch(r){console.error("User denied wallet access",r)}})}getPublicKeys(){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;let r=yield this.web3.eth.getAccounts();return r.length===0?(console.error("No accounts found"),null):r})}encryptData(r){return y0(this,null,function*(){if(!this.web3)return console.error("Web3 is not initialized"),null;yield this.connectWalletMetaMask();let i=yield this.web3.eth.getAccounts();if(i.length===0)return console.error("No accounts found"),null;try{let s=yield this.getEncryptionPublicKey(i[0]);if(s)return this.encrypt(s,JSON.stringify(r))}catch(s){return console.error("Error encrypting data",s),null}})}signMessage(r){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;try{let i=yield this.web3.eth.getAccounts();if(i.length===0)throw new Error("No accounts found. Please connect to MetaMask.");let s=i[0];return yield this.web3.eth.personal.sign(r,s,"")}catch(i){return console.error("Error signing message:",i),null}})}decryptData(r){return y0(this,null,function*(){if(!window.ethereum)return console.error("Ethereum object not found"),null;let i=yield window.ethereum.request({method:"eth_accounts"});if(i.length===0)return console.error("No accounts found"),null;try{let s=JSON.stringify(r);return yield window.ethereum.request({method:"eth_decrypt",params:[s,i[0]]})}catch(s){return console.error("Error decrypting data",s),null}})}getEncryptionPublicKey(r){return y0(this,null,function*(){if(!window.ethereum)return console.error("Ethereum object not found"),null;try{return yield window.ethereum.request({method:"eth_getEncryptionPublicKey",params:[r]})}catch(i){return console.error("Error retrieving encryption public key",i),null}})}encrypt(r,i){let s=vs.default.decodeBase64(r),a=vs.default.decodeUTF8(i),o=pl.default.randomBytes(pl.default.box.nonceLength),c=pl.default.box.keyPair(),l=pl.default.box(a,o,s,c.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:vs.default.encodeBase64(o),ephemPublicKey:vs.default.encodeBase64(c.publicKey),ciphertext:vs.default.encodeBase64(l)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j3={production:!0,wideServerApiUrl:"https://api.wid3.app",wideDomain:"https://wid3.app",googleOAuth:{clientId:"708493994076-rlpvffondu5hee5vgmkfpn0b50fkl4ti.apps.googleusercontent.com",redirectUri:"https://wid3.app/credentials/oauth/redirect/google"},microsoftOAuth:{msalConfig:{auth:{clientId:"c3a12b3c-23fd-4660-b119-cbc9f38bdb1e",authority:"https://login.microsoftonline.com/common/",redirectUri:"https://wid3.app/credentials/oauth/redirect/microsoft"}}}};var h4=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl=j3.wideServerApiUrl}getPublicKey(r){return this.http.get(`${this.apiUrl}/user/${r}/publicKey`,{withCredentials:!0})}setPublicKey(r,i){return this.http.post(`${this.apiUrl}/user/${r}/publicKey`,{publicKey:i},{withCredentials:!0})}getCredentialByInternalId(r,i){return this.http.get(`${this.apiUrl}/storage/user/${r}/issued-credential/${i}`,{withCredentials:!0})}getUserIssuedCredentials(r){return this.http.get(`${this.apiUrl}/storage/user/${r}/issued-credentials`,{observe:"response",withCredentials:!0})}storeUserCredentials(r,i,s,a){return this.http.post(`${this.apiUrl}/storage/user/${r}/credential`,{issuer:i,payload:a.payload,rawPayloadHash:s,credentials:a.credentials},{withCredentials:!0})}updateUserCredentials(r,i,s,a){return this.http.put(`${this.apiUrl}/storage/user/${r}/credential`,{issuer:i,payload:a.payload,rawPayloadHash:s,credentials:a.credentials},{withCredentials:!0})}getEncryptedCredentials(r,i){return this.http.get(`${this.apiUrl}/storage/user/${r}/credentials/${i}`,{observe:"response",withCredentials:!0})}deleteCredential(r,i){return this.http.delete(`${this.apiUrl}/storage/user/${r}/credentials/${i}`,{observe:"response",withCredentials:!0})}};e.\u0275fac=function(i){return new(i||e)(X0(Q3))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yn0(t,e){t&1&&(v(0,"div",3)(1,"p"),C(2,"Oh no. Looks like MetaMask is not setup on this machine. \u{1F61F}"),b(),v(3,"p"),C(4,"Please set it up and magic stuff might happen. \u{1FA84}"),b()())}function Jn0(t,e){t&1&&(v(0,"span"),C(1,"None Specified"),b())}function Xn0(t,e){if(t&1&&(v(0,"span"),C(1),b()),t&2){let n=b0(2);F(1),W0(n.walletData.publicKeys)}}function er0(t,e){t&1&&(v(0,"span"),C(1,"None Specified"),b())}function tr0(t,e){if(t&1&&(v(0,"span"),C(1),E2(2,"json"),b()),t&2){let n=b0(2);F(1),W0(n3(2,1,n.walletData.publicEncryptKey))}}function nr0(t,e){if(t&1){let n=r2();v(0,"div",4)(1,"div",5)(2,"div",6)(3,"div"),C(4,"Input Data (JSON)"),b(),v(5,"div",7)(6,"textarea",8),f0("ngModelChange",function(i){x1(n);let s=b0();return w1(s.inputData=i)}),b()(),v(7,"div",9)(8,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.encryptClaim(!1))}),C(9,"Encrypt"),b()()(),v(10,"div",6)(11,"div",11),C(12,"Encrypted Data (using Public Key)"),b(),v(13,"div",7)(14,"textarea",8),f0("ngModelChange",function(i){x1(n);let s=b0();return w1(s.encryptedDataString=i)}),b()(),v(15,"div",9)(16,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.decryptClaim())}),C(17,"Decrypt"),b()()(),v(18,"div",6)(19,"div",11),C(20,"Decrypted Data (using Private Key)"),b(),v(21,"div",7)(22,"textarea",8),f0("ngModelChange",function(i){x1(n);let s=b0();return w1(s.decryptedDataString=i)}),b()()(),v(23,"div",6)(24,"div",11),C(25,"Sign a message for funsies!! (for now. We do it for reals later.)"),b(),v(26,"div",7)(27,"textarea",8),f0("ngModelChange",function(i){x1(n);let s=b0();return w1(s.messageToSign=i)}),b()(),v(28,"div",9)(29,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.signClaim())}),C(30,"Sign a message!"),b()()()(),v(31,"div",12)(32,"div",6)(33,"div",11),C(34,"Ethereum Addresses (fetch from MetaMask)"),b(),v(35,"div",7),D0(36,Jn0,2,0,"span",13)(37,Xn0,2,1,"span",13),b(),v(38,"div",9)(39,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.fetchAccounts())}),C(40,"Fetch"),b()()(),v(41,"div",6)(42,"div",11),C(43,"Public (Encryption) Key (register/fetch from KvStorage)"),b(),v(44,"div",7),D0(45,er0,2,0,"span",13)(46,tr0,3,3,"span",13),b(),v(47,"div",9)(48,"div",14)(49,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.registerEncryptKey())}),C(50,"Register"),b()(),v(51,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.fetchEncryptKey())}),C(52,"Fetch"),b()()()()()}if(t&2){let n=b0();F(6),Y("ngModel",n.inputData),F(8),Y("ngModel",n.encryptedDataString),F(8),Y("ngModel",n.decryptedDataString),F(5),Y("ngModel",n.messageToSign),F(9),Y("ngIf",!n.walletData.publicKeys),F(1),Y("ngIf",n.walletData.publicKeys),F(8),Y("ngIf",!n.walletData.publicEncryptKey),F(1),Y("ngIf",n.walletData.publicEncryptKey)}}var GR=(()=>{let e=class e{constructor(r,i){this.claimsProcessorService=r,this.wideStorageService=i,this.inputData=JSON.stringify({key1:"value",key2:"val2"}),this.messageToSign="",this.encryptedData={},this.encryptedDataString=JSON.stringify(this.encryptedData),this.decryptedData={},this.decryptedDataString=JSON.stringify(this.decryptedData),this.connectedToWallet=!1,this.walletData={publicKeys:null,publicEncryptKey:null},this.connectedToWallet=r.isConnectedToWallet()}encryptClaim(r=!0){return y0(this,null,function*(){try{let i=this.inputData;r&&(i=JSON.parse(this.inputData)),this.encryptedData=yield this.claimsProcessorService.encryptData(i),this.encryptedDataString=JSON.stringify(this.encryptedData)}catch(i){console.error(i)}})}signClaim(){return y0(this,null,function*(){this.claimsProcessorService.signMessage(this.messageToSign).then(r=>{console.log("Signature:",r)}).catch(r=>{console.error("Error:",r)})})}decryptClaim(){return y0(this,null,function*(){try{this.encryptedData=JSON.parse(this.encryptedDataString),this.decryptedData=yield this.claimsProcessorService.decryptData(this.encryptedData),this.decryptedDataString=JSON.parse(this.decryptedData)}catch(r){console.error(r)}})}fetchAccounts(){return y0(this,null,function*(){this.claimsProcessorService.getPublicKeys().then(r=>y0(this,null,function*(){if(r)console.debug("accounts",r),this.walletData.publicKeys=r;else throw"No access to public keys. Is metamask unlocked?"})).catch(r=>{console.error("Error:",r)})})}fetchEncryptKey(){return y0(this,null,function*(){if(this.walletData.publicKeys)this.walletData.publicKeys.length>0&&(yield this.fetchPublicEncryptKey(this.walletData.publicKeys[0]));else throw"No access to public keys. Is metamask unlocked?"})}fetchPublicEncryptKey(r){return y0(this,null,function*(){this.wideStorageService.getPublicKey(r).subscribe({next:i=>{this.walletData.publicEncryptKey=i},error:i=>console.error(i)})})}registerEncryptKey(){return y0(this,null,function*(){if(this.walletData.publicKeys){let r=this.walletData.publicKeys[0];this.claimsProcessorService.getEncryptionPublicKey(r).then(i=>y0(this,null,function*(){console.debug("Encryption Public Key",i),i&&this.wideStorageService.setPublicKey(r,i).subscribe({next:s=>console.log("response",s),error:s=>console.error(s)})}))}else console.error("Public Keys need to be retrieved first")})}};e.\u0275fac=function(i){return new(i||e)(m0(UR),m0(h4))},e.\u0275cmp=n1({type:e,selectors:[["app-poc"]],standalone:!0,features:[r1],decls:3,vars:2,consts:[[1,"main"],["class","wallet-warning",4,"ngIf"],["class","wallet-functions",4,"ngIf"],[1,"wallet-warning"],[1,"wallet-functions"],[1,"local-functions"],[1,"stage"],[1,"textarea"],[3,"ngModel","ngModelChange"],[1,"buttons"],[3,"click"],[1,"title"],[1,"server-functions"],[4,"ngIf"],[1,"btn-white"]],template:function(i,s){i&1&&(v(0,"div",0),D0(1,Yn0,5,0,"div",1)(2,nr0,53,8,"div",2),b()),i&2&&(F(1),Y("ngIf",!s.connectedToWallet),F(1),Y("ngIf",s.connectedToWallet))},dependencies:[s1,J1,o4,w8,hi,L9,ze],styles:[".main[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]{margin-top:25px;border-bottom:1px dashed grey;padding-bottom:25px}.main[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:10px}textarea[_ngcontent-%COMP%]{min-width:200px;width:100%}"]});let t=e;return t})();var rr0=()=>["/"],qR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-not-found"]],standalone:!0,features:[r1],decls:11,vars:2,consts:[[1,"not-found-page"],[1,"m-t-0"],["src","assets/svg/bridge_404_illustration.svg","alt","WIDE broken bridge illustration"],[1,"buttons"],[3,"routerLink"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h1"),C(2,"Uh-oh..."),b(),v(3,"p"),C(4,"Looks like this page has burned its bridges."),b(),v(5,"p",1),C(6,"Sorry we can't connect you!"),b(),v0(7,"img",2),v(8,"div",3)(9,"button",4),C(10,"Go Back"),b()()()),i&2&&(F(9),Y("routerLink",L3(1,rr0)))},dependencies:[s1,b8],styles:[".not-found-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100vh}.not-found-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:40px}.not-found-page[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:60px}"]});let t=e;return t})();var ir0=t=>[t],sr0=t=>({active:t}),WR=(()=>{let e=class e{constructor(r){this.router=r,this.text="",this.url="",this.class="",this.menuItemClickEvent=new m4}get isActive(){return this.router.url===this.url}click(r){this.menuItemClickEvent.emit(r)}};e.\u0275fac=function(i){return new(i||e)(m0(G1))},e.\u0275cmp=n1({type:e,selectors:[["app-nav-menu-item"]],inputs:{text:"text",url:"url",class:"class"},outputs:{menuItemClickEvent:"menuItemClickEvent"},standalone:!0,features:[r1],decls:4,vars:8,consts:[["target","_self",3,"routerLink","ngClass","click"],[1,"menu-icon",3,"ngClass"],[1,"menu-text"]],template:function(i,s){i&1&&(v(0,"a",0),f0("click",function(o){return s.click(o)}),v0(1,"i",1),v(2,"span",2),C(3),b()()),i&2&&(Y("routerLink",Ya(4,ir0,s.url))("ngClass",Ya(6,sr0,s.isActive)),F(1),Y("ngClass",s.class),F(2),W0(s.text))},dependencies:[s1,B4,b8],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{display:block;position:relative;text-decoration:none;color:#fff;padding-left:15px;padding-top:10px;padding-bottom:10px;border-top-left-radius:5px;border-bottom-left-radius:5px;margin-top:5px;margin-bottom:5px}a.active[_ngcontent-%COMP%]{background:#FFF;color:#ff7872;font-weight:500;margin-right:20px;border-radius:5px}a[_ngcontent-%COMP%]   i.menu-icon[_ngcontent-%COMP%]{display:inline-block;width:22px;height:22px;background:#FFF;border-radius:5px}a[_ngcontent-%COMP%]   i.menu-icon.mdi[_ngcontent-%COMP%]{background:transparent;position:relative;top:2px;font-size:26px}a[_ngcontent-%COMP%]   i.mdi[_ngcontent-%COMP%] + span.menu-text[_ngcontent-%COMP%]{bottom:2px}a[_ngcontent-%COMP%]   span.menu-text[_ngcontent-%COMP%]{position:relative;bottom:5px;padding-left:10px}a[_ngcontent-%COMP%]:hover{font-weight:500;margin-right:0;background:#FAF7F6;color:#ff7872}a[_ngcontent-%COMP%]:hover   i.menu-icon[_ngcontent-%COMP%]{background:#FF7872}a[_ngcontent-%COMP%]:hover   i.menu-icon.mdi[_ngcontent-%COMP%]{background:#FAF7F6;color:#ff7872;font-size:26px}a[_ngcontent-%COMP%]:hover:after, a[_ngcontent-%COMP%]:hover:before{content:"";display:block;height:15px;width:15px;position:absolute;background:transparent;border:5px solid #FAF7F6}a[_ngcontent-%COMP%]:hover:after{top:-15px;right:-5px;border-radius:0 0 50%;border-top:0;border-left:0}a[_ngcontent-%COMP%]:hover:before{bottom:-15px;right:-5px;border-radius:0 50% 0 0;border-bottom:0;border-left:0}']});let t=e;return t})();var $E=a4(bW());function Hv(t){let e="";return n(t),e;function n(i){if(i===null||typeof i!="object"||i.toJSON!=null)e+=JSON.stringify(i);else if(Array.isArray(i)){e+="[";let s=!1;i.forEach(a=>{s&&(e+=","),s=!0,a===void 0&&(a=null),n(a)}),e+="]"}else e+="{",Object.keys(i).filter(a=>i[a]!==void 0).sort().forEach((a,o)=>r(i,a,o)),e+="}"}function r(i,s,a){a>0&&(e+=","),e+=JSON.stringify(s),e+=":",n(i[s])}}var zh=a4(pz()),xa=a4(mz());var xW=(()=>{let e=class e{constructor(){}encryptData(r,i){let s=xa.default.decodeBase64(r),a=xa.default.decodeUTF8(i),o=zh.default.randomBytes(zh.default.box.nonceLength),c=zh.default.box.keyPair(),l=zh.default.box(a,o,s,c.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:xa.default.encodeBase64(o),ephemPublicKey:xa.default.encodeBase64(c.publicKey),ciphertext:xa.default.encodeBase64(l)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wW=(()=>{let e=class e{constructor(){}flattenJson(r,i="",s={}){for(let a in r)if(r.hasOwnProperty(a)){let o=i?`${i}_${a}`:a;typeof r[a]=="object"&&r[a]!==null&&!Array.isArray(r[a])?this.flattenJson(r[a],o,s):s[o]=r[a]}return s}separateJson(r){return Object.keys(r).map(i=>({[i]:r[i]}))}separateJsonByProp(r,i=!1,s=""){let a=[];return Object.keys(r).forEach(o=>{let c=s?`${s}.${o}`:o,l=r[o];i&&s===""&&a.push({[c]:l}),typeof l=="object"&&l!==null&&!Array.isArray(l)?((s||i)&&a.push({[c]:l}),a=a.concat(this.separateJsonByProp(l,i,c))):a.push({[c]:l})}),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K2=(()=>{let e=class e{constructor(r,i,s,a,o){this.encryptionService=r,this.dataProcessingSerivce=i,this.http=s,this.toastNotificationService=a,this.router=o,this.web3=null,this.connectedToWallet=new W3(!1),this.apiUrl=j3.wideServerApiUrl,this.connectedToWallet$=this.connectedToWallet.asObservable(),this.metaMaskCheckStatus=new W3(!0),this.metaMaskCheckStatus$=this.metaMaskCheckStatus.asObservable()}connect(){return y0(this,null,function*(){if(!this.connectedToWallet.value){let r=!1;if(!this.isMetaMaskInstalled())r=!1;else{let i=!1;try{yield window.ethereum.request({method:"eth_requestAccounts"});let s=yield this.getEthAddresses();if(s!=null&&s.length>0){let a=yield $3(this.getSiweSignInMessage(s[0]));if(a.requiresSignup&&(this.toastNotificationService.info("Terms of Service","Please accept the Terms of Service before logging into and using WIDE"),this.router.navigateByUrl("/getting-started")),a.alreadyLoggedIn)r=!0;else{let o=new $E.SiweMessage(a.message),c=o.prepareMessage();try{let l=yield this.signMessage(c);if(l){let h=yield $3(this.verifySiweMessage(o,l));!h.success&&h.requiresSignup?(this.toastNotificationService.info("Terms of Service","Please accept the Terms of Service before logging into and using WIDE"),this.router.navigateByUrl("/getting-started")):h.success&&(r=!0)}}catch(l){console.error("Signing process was rejected",l),i=!0}}}}catch{i=!0}this.connectedToWallet.next(r)}}return this.connectedToWallet.value})}signTermsOfService(){return y0(this,null,function*(){if(!this.isMetaMaskInstalled())return!1;try{yield window.ethereum.request({method:"eth_requestAccounts"});let r=yield this.getEthAddresses();if(!r||r.length===0)return!1;let i=yield this.getSiweSignUpMessage(r[0]).toPromise(),s=new $E.SiweMessage(i.message),a=s.prepareMessage(),o=yield this.signMessage(a);if(!o)return!1;let c=yield this.verifySiweMessage(s,o,!0).toPromise();return c.success?this.toastNotificationService.info("Terms of Service","Successfully signed the WIDE Terms of Service."):this.toastNotificationService.error("Terms of Service","Failed to sign the WIDE Terms of Service."),this.connectedToWallet.next(c.success),c.success}catch(r){return console.error(r),!1}})}isMetaMaskUnlocked(){return this.metaMaskCheckStatus.next(!0),new Promise((r,i)=>{window.ethereum?window.ethereum.request({method:"eth_accounts"}).then(s=>{this.metaMaskCheckStatus.next(!1),r(s.length>0)}).catch(s=>{console.error("Error checking MetaMask accounts:",s),this.metaMaskCheckStatus.next(!1),i(s)}):(this.metaMaskCheckStatus.next(!1),r(!1))})}updateMetaMaskCheckStatus(r){this.metaMaskCheckStatus.next(r)}isMetaMaskInstalled(){let r=typeof window.ethereum<"u"&&window.ethereum.isMetaMask;return r&&(this.web3=new Yf(window.ethereum)),r}getSiweSignInMessage(r){return this.http.get(`${this.apiUrl}/siwe/generate_signin?ethereumAddress=${r}`,{withCredentials:!0})}getSiweSignUpMessage(r){return this.http.get(`${this.apiUrl}/siwe/generate_signup?ethereumAddress=${r}`)}verifySiweMessage(r,i,s=!1){let a={message:r,signature:i,isOnboarding:s};return this.http.post(`${this.apiUrl}/siwe/verify_signin`,a,{withCredentials:!0})}signMessage(r){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;try{let i=yield this.web3.eth.getAccounts();if(i.length===0)throw new Error("No accounts found. Please connect to MetaMask.");let s=i[0];return yield this.web3.eth.personal.sign(r,s,"")}catch(i){return console.error("Error signing message:",i),null}})}signOutSiwe(r){return this.http.delete(`${this.apiUrl}/siwe/signout?ethereumAddress=${r}`,{withCredentials:!0})}encryptPayload(r){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;let i=yield this.getAccount();if(!i)return null;try{let s=yield this.getEncryptionPublicKey(i);if(!s)return null;let a=this.dataProcessingSerivce.separateJson(r),o=this.encryptionService.encryptData(s,JSON.stringify(r)),c=a.map(h=>({name:Object.keys(h)[0],val:this.encryptionService.encryptData(s,JSON.stringify(h))}));return{payload:o,credentials:c??[]}}catch(s){return console.error("Error encrypting data",s),null}})}encryptBatch(r){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;let i=yield this.getAccount();if(!i)return null;try{let s=yield this.getEncryptionPublicKey(i);if(!s)return null;let a=[];return r.forEach(o=>{a.push(this.encryptionService.encryptData(s,JSON.stringify(o)))}),a}catch(s){return console.error("Error encrypting data",s),null}})}decryptData(r){return y0(this,null,function*(){if(!window.ethereum)return console.error("Ethereum object not found"),null;let i=yield window.ethereum.request({method:"eth_accounts"});if(i.length===0)return console.error("No accounts found"),null;try{let s=JSON.stringify(r);return yield window.ethereum.request({method:"eth_decrypt",params:[s,i[0]]})}catch(s){return console.error("Error decrypting data",s),null}})}getServerPublicKey(){return y0(this,null,function*(){if(this.serverPubKey)return this.serverPubKey;let r=yield this.http.get(`${this.apiUrl}/siwe/publicKey`).toPromise();return this.serverPubKey=r.message,this.serverPubKey})}getEthAddresses(){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;let r=yield this.web3.eth.getAccounts();return r.length===0?(console.error("No accounts found"),null):r})}getAccount(){return y0(this,null,function*(){if(!this.web3)return console.error("MetaMask is not available"),null;let r=yield this.web3.eth.getAccounts();return r.length===0?(console.error("No accounts found"),null):r[0]})}getEncryptionPublicKey(r){return y0(this,null,function*(){if(!window.ethereum)return console.error("Ethereum object not found"),null;try{return yield window.ethereum.request({method:"eth_getEncryptionPublicKey",params:[r]})}catch(i){return console.error("Error retrieving encryption public key",i),null}})}logout(){return y0(this,null,function*(){window.ethereum?window.ethereum.request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]}).then(()=>y0(this,null,function*(){let r=yield this.getEthAddresses();r!=null&&r.length>0&&(yield $3(this.signOutSiwe(r[0])),this.connectedToWallet.next(!1),this.toastNotificationService.info("Wallet Connection","Disconnected WIDE application and MetaMask"))})).catch(r=>{this.toastNotificationService.error("Wallet Connection","Error disconnecting MetaMask wallet"),console.error("Error disconnecting MetaMask wallet:",r)}):this.toastNotificationService.error("Wallet Connection","MetaMask is not available")})}abridgeEthereumAddress(r,i=4,s=2){if(G3(r)){let a=r.slice(2,2+i),o=r.slice(-s);return`0x${a}...${o}`}return"Invalid Address"}isConnectedToWallet(){return this.connectedToWallet.value}isCheckingMetaMask(){return this.metaMaskCheckStatus.value}hashDataKeccak256(r){let i=Hv(r),s=JSON.stringify(i);return this.web3?.utils.keccak256(s)}hashTextKeccak256(r){return this.web3?.utils.keccak256(r)}};e.\u0275fac=function(i){return new(i||e)(X0(xW),X0(wW),X0(Q3),X0(T2),X0(G1))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gl0(t,e){if(t&1&&(v(0,"li"),v0(1,"app-nav-menu-item",11),b()),t&2){let n=e.$implicit;F(1),fe(n.iconClass),Y("url",n.url)("text",n.text)}}var yW=(()=>{let e=class e{constructor(r){this.web3WalletService=r,this.menuItems=[{url:"/",text:"Home",iconClass:"mdi mdi-home"},{url:"/history",text:"History",iconClass:"mdi mdi-clock-outline"}]}ngOnInit(){j3.production||(this.menuItems=this.menuItems.concat([{url:"/dev/kitchen-sink",text:"Kitchen Sink",iconClass:"mdi mdi-countertop"},{url:"/dev/poc",text:"Dev POC",iconClass:"mdi mdi-memory"}]))}logout(r){this.web3WalletService.logout(),r.preventDefault()}};e.\u0275fac=function(i){return new(i||e)(m0(K2))},e.\u0275cmp=n1({type:e,selectors:[["app-nav-menu"]],standalone:!0,features:[r1],decls:13,vars:7,consts:[[1,"nav-menu"],[1,"content"],[1,"wide-logo"],["src","assets/svg/wide_logo_white.svg"],[1,"items","top"],[4,"ngFor","ngForOf"],[1,"items","bottom"],["url","/about","text","About WIDE"],["url","/support","text","Support"],[1,"m-t-25"],["text","Log Out",3,"menuItemClickEvent"],[3,"url","text"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"div",2),v0(3,"img",3),b(),v(4,"ul",4),D0(5,Gl0,2,4,"li",5),b(),v(6,"ul",6)(7,"li"),v0(8,"app-nav-menu-item",7),b(),v(9,"li"),v0(10,"app-nav-menu-item",8),b(),v(11,"li",9)(12,"app-nav-menu-item",10),f0("menuItemClickEvent",function(o){return s.logout(o)}),b()()()()()),i&2&&(F(5),Y("ngForOf",s.menuItems),F(3),fe("mdi mdi-information"),F(2),fe("mdi mdi-lifebuoy"),F(2),fe("mdi mdi-logout"))},dependencies:[s1,C3,WR],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.nav-menu[_ngcontent-%COMP%]{position:relative;top:0;margin:0;background:linear-gradient(60deg,#FFC586,25%,#FF7872,75%,#F57F9F);width:260px;height:100%;min-height:100vh;overflow-y:auto}.nav-menu[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:0;padding-left:25px;position:relative;height:100%;overflow:auto;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end}.nav-menu[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wide-logo[_ngcontent-%COMP%]{width:100%}.nav-menu[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wide-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}.nav-menu[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul.items[_ngcontent-%COMP%]{padding:0;list-style:none;font-size:16px;font-weight:500}.nav-menu[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul.items.top[_ngcontent-%COMP%]{padding-top:40px;margin-bottom:auto}.nav-menu[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow:hidden;position:relative}']});let t=e;return t})();var ql0='<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>',Wl0='</title><path d="',$l0='"/></svg>';var zW={title:"Ethereum",slug:"ethereum",get svg(){return ql0+"Ethereum"+Wl0+this.path+$l0},path:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z",source:"https://ethereum.org/en/assets/",hex:"3C3C3D"};function Kl0(t,e){t&1&&(v(0,"div",1)(1,"div",2),Ka(2),v(3,"div",3),Ka(4,1),b()()())}var Ql0=[[["","content",""]],[["","buttons",""]]],Yl0=["[content]","[buttons]"],z5=(()=>{let e=class e{constructor(){this.showModal=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-wide-modal"]],inputs:{showModal:"showModal"},standalone:!0,features:[r1],ngContentSelectors:Yl0,decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"buttons"]],template:function(i,s){i&1&&(od(Ql0),D0(0,Kl0,5,0,"div",0)),i&2&&Y("ngIf",s.showModal)},dependencies:[s1,J1],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.modal[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;z-index:9999}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:75%;max-width:1000px;padding:50px 80px;border-radius:5px;background:#FFF;text-align:center}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3e1b07}']});let t=e;return t})();function Jl0(t,e){t&1&&(v(0,"span"),C(1,"Connect wallet"),b())}function Xl0(t,e){t&1&&v0(0,"i",18)}function eh0(t,e){if(t&1){let n=r2();v(0,"div",15)(1,"button",16),f0("click",function(){x1(n);let i=b0();return w1(i.connectWallet())}),D0(2,Jl0,2,0,"span",7)(3,Xl0,1,0,"i",17),b()()}if(t&2){let n=b0();F(2),Y("ngIf",!n.metaMaskCheckPending),F(1),Y("ngIf",n.metaMaskCheckPending)}}function th0(t,e){if(t&1&&(v(0,"div",19)(1,"i",20),NT(),v(2,"svg",21),v0(3,"path"),b()(),BT(),v(4,"span",22),C(5),b()()),t&2){let n=b0();F(3),qr("d",n.ethereumIcon.path),F(1),Y("title",n.accounts?n.accounts[0]:null),F(1),W0(n.accounts?n.abridgeEthereumAddress(n.accounts[0]):null)}}function nh0(t,e){t&1&&(v(0,"li"),C(1,"/"),b())}function rh0(t,e){if(t&1&&(M4(0),v(1,"li",24),C(2),b(),D0(3,nh0,2,0,"li",7),C4()),t&2){let n=e.$implicit,r=e.index,i=b0(2);F(1),Y("ngClass",r==i.breadcrumbs.length-1?"active":""),F(1),W0(n),F(1),Y("ngIf",r<i.breadcrumbs.length-1)}}function ih0(t,e){if(t&1&&(v(0,"ul"),D0(1,rh0,4,3,"ng-container",23),b()),t&2){let n=b0();F(1),Y("ngForOf",n.breadcrumbs)}}var MW=(()=>{let e=class e{constructor(r,i){this.web3WalletService=r,this.sanitizer=i,this.title=null,this.breadcrumbs=null,this.showMetaMaskWalletModal=!1,this.showMetaMaskConnectModal=!1,this.metaMaskCheckPending=!0,this.isConnected=!1,this.ethereumIcon=zW,this.accounts=[],this.subscribeToWalletConnection()}ngOnInit(){return y0(this,null,function*(){setTimeout(()=>y0(this,null,function*(){if(this.web3WalletService.isMetaMaskInstalled()){let r=yield this.web3WalletService.isMetaMaskUnlocked();this.metaMaskCheckPending=!1,r&&(yield this.connectWallet())}else this.showMetaMaskWalletModal=!0,this.metaMaskCheckPending=!1}),1500),this.subscribeToWalletConnection()})}subscribeToWalletConnection(){this.web3WalletService.connectedToWallet$.subscribe(r=>{this.isConnected=r})}connectWallet(){return y0(this,null,function*(){this.web3WalletService.isMetaMaskInstalled()?yield this.web3WalletService.connect().then(r=>y0(this,null,function*(){r?yield this.web3WalletService.getEthAddresses().then(i=>{i&&i?.length>0?(this.accounts=i,this.isConnected=!0):(this.showMetaMaskConnectModal=!0,this.isConnected=!1)}).catch(i=>{this.isConnected=!1,console.error(i)}):(console.error("Failed to connect to Metamask"),this.showMetaMaskConnectModal=!0)})):this.showMetaMaskWalletModal=!0})}abridgeEthereumAddress(r){return this.web3WalletService.abridgeEthereumAddress(r,6,4)}get ethereumIconSVG(){return this.sanitizer.bypassSecurityTrustHtml(this.ethereumIcon.svg)}closeMetaMaskWalletModal(){this.showMetaMaskWalletModal=!1}closeMetaMaskConnectModal(){this.showMetaMaskConnectModal=!1}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(by))},e.\u0275cmp=n1({type:e,selectors:[["app-nav-header"]],inputs:{title:"title",breadcrumbs:"breadcrumbs"},standalone:!0,features:[r1],decls:36,vars:6,consts:[[1,"header"],[1,"title-bar"],[1,"title"],[1,"wallet-connector"],["class","connect-wallet",4,"ngIf"],["class","accounts",4,"ngIf"],[1,"nav-bar"],[4,"ngIf"],[3,"showModal"],["content","",1,"metamask-modal"],["src","assets/svg/MetaMask_Fox.svg","width","250"],["href","https://metamask.io/","target","_blank"],["buttons",""],[3,"click"],["content","",1,"metamask-connect-modal"],[1,"connect-wallet"],[1,"btn-alt",3,"click"],["class","spinner mdi mdi-loading rotate-mdi text-coral",4,"ngIf"],[1,"spinner","mdi","mdi-loading","rotate-mdi","text-coral"],[1,"accounts"],[1,"wallet-icon"],["viewBox","0 0 24 24"],[1,"wallet-address",3,"title"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"h1",2),C(3),b(),v(4,"div",3),D0(5,eh0,4,2,"div",4)(6,th0,6,3,"div",5),b()(),v(7,"div",6),D0(8,ih0,2,1,"ul",7),b()(),v(9,"app-wide-modal",8)(10,"div",9)(11,"h3"),C(12,"Cannot detect MetaMask Wallet :("),b(),v0(13,"img",10),v(14,"p"),C(15,"Please make sure the "),v(16,"a",11),C(17,"MetaMask wallet"),b(),C(18," is set up on this browser."),b()(),v(19,"div",12)(20,"button",13),f0("click",function(){return s.closeMetaMaskWalletModal()}),C(21,"Close"),b()()(),v(22,"app-wide-modal",8)(23,"div",14)(24,"h3"),C(25,"Please connect your MetaMask Wallet"),b(),v0(26,"img",10),v(27,"p"),C(28,"Please connect your MetaMask Wallet to WIDE."),b(),v(29,"p"),C(30,'If you already opened the wallet, make sure it has been unlocked, click "Connect To Wallet" again.'),b(),v(31,"p"),C(32,"WIDE requires this to obtain your public Ethereum address."),b()(),v(33,"div",12)(34,"button",13),f0("click",function(){return s.closeMetaMaskConnectModal()}),C(35,"Close"),b()()()),i&2&&(F(3),W0(s.title),F(2),Y("ngIf",!s.isConnected),F(1),Y("ngIf",s.isConnected),F(2),Y("ngIf",s.breadcrumbs),F(1),Y("showModal",s.showMetaMaskWalletModal),F(13),Y("showModal",s.showMetaMaskConnectModal))},dependencies:[s1,B4,C3,J1,z5],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:75px}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .wallet-connector[_ngcontent-%COMP%]{margin-left:auto}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .wallet-connector[_ngcontent-%COMP%]   .connect-wallet[_ngcontent-%COMP%]   i.spinner[_ngcontent-%COMP%]{font-size:24px}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .wallet-connector[_ngcontent-%COMP%]   .accounts[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .wallet-connector[_ngcontent-%COMP%]   .accounts[_ngcontent-%COMP%]   i.wallet-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:5px;display:block;background-color:#fcab90;line-height:48px;color:#fff;text-align:center}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .wallet-connector[_ngcontent-%COMP%]   .accounts[_ngcontent-%COMP%]   i.wallet-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-top:7px;width:32px;height:32px;fill:#fff}.header[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .wallet-connector[_ngcontent-%COMP%]   .accounts[_ngcontent-%COMP%]   .wallet-address[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fcab90}.header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;height:40px;box-sizing:border-box}.header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;display:flex;gap:10px}.header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:300}.header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{font-weight:700}']});let t=e;return t})();function sh0(t,e){if(t&1&&(v(0,"div",7),v0(1,"app-wide-data-object",8),b()),t&2){let n=b0(2).$implicit,r=b0();F(1),Y("data",r.data[n])}}function ah0(t,e){if(t&1){let n=r2();M4(0),v(1,"div",4)(2,"button",5),f0("click",function(){x1(n);let i=b0().$implicit,s=b0();return w1(s.toggleExpand(i))}),C(3),b(),C(4),b(),D0(5,sh0,2,1,"div",6),C4()}if(t&2){let n=b0().$implicit,r=b0();F(3),W0(r.expanded[n]?"-":"+"),F(1),m1(" ",n,": "),F(1),Y("ngIf",r.expanded[n])}}function oh0(t,e){if(t&1&&(v(0,"div",4),C(1),b()),t&2){let n=b0().$implicit,r=b0();F(1),Qa(" ",n,": ",r.data[n]," ")}}function ch0(t,e){if(t&1&&(v(0,"div"),D0(1,ah0,6,3,"ng-container",2)(2,oh0,2,2,"div",3),b()),t&2){let n=e.$implicit,r=b0();F(1),Y("ngIf",r.isObjectType(r.data[n])),F(1),Y("ngIf",!r.isObjectType(r.data[n]))}}var Vv=(()=>{let e=class e{constructor(){this.expanded={},this.objectKeys=Object.keys}ngOnInit(){}isObjectType(r){return typeof r=="object"&&r!==null}toggleExpand(r){this.expanded[r]=!this.expanded[r]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-wide-data-object"]],inputs:{data:"data"},standalone:!0,features:[r1],decls:2,vars:1,consts:[[1,"item-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","item",4,"ngIf"],[1,"item"],[1,"btn-xss",3,"click"],["style","margin-left: 20px;",4,"ngIf"],[2,"margin-left","20px"],[3,"data"]],template:function(i,s){i&1&&(v(0,"div",0),D0(1,ch0,3,2,"div",1),b()),i&2&&(F(1),Y("ngForOf",s.objectKeys(s.data)))},dependencies:[e,s1,C3,J1],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.item[_ngcontent-%COMP%]{padding:10px}.item[_ngcontent-%COMP%]:first-of-type{padding-left:0}']});let t=e;return t})();function Rv(t){Promise.resolve().then(t)}var q3=(()=>{let e=class e{constructor(){this.title=new W3(""),this.currentTitle=this.title.asObservable(),this.breadcrumbs=new W3([]),this.currentBreadcrumbs=this.breadcrumbs.asObservable()}setPageDetails(r,i){Rv(()=>{this.title.next(r),this.breadcrumbs.next(i)})}setTitle(r){Rv(()=>this.title.next(r))}setBreadcrumbs(r){Rv(()=>this.breadcrumbs.next(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne=(()=>{let e=class e{constructor(r,i,s){this.web3WalletService=r,this.wideStorageService=i,this.toastNotificationService=s}evalPredicate(r,i){switch(r.op){case"endsWith":return i.endsWith(r.value);default:return console.error("unable to evaluate predicate: ",r),!1}}processCredential(r,i,s,a){return y0(this,null,function*(){let o=yield this.web3WalletService.getServerPublicKey(),c={id:"http://wid3.xyz",type:["WIDECredential"],issuer:o,issuanceDate:new Date().toISOString(),credentialSubject:{id:r.credentialSubject.id,dataTypes:{type:"credentialSources",name:"Original Credential Sources",value:[r.type]},requestedBy:a.rpName,issuerDomains:[{id:r.id,name:r.issuer,label:r.label,type:r.type,data:{payloadKeccak256CipherText:this.web3WalletService.hashTextKeccak256(i.payload.ciphertext),credentials:[]}}]}};if(a.require){let l=a.require.plainText;l&&l.forEach(p=>{c.credentialSubject.issuerDomains[0].data.credentials.push({name:p,value:s[p],type:"plainText"})});let h=a.require.proofOf;h&&h.forEach(p=>{c.credentialSubject.issuerDomains[0].data.credentials.push({name:p,value:this.web3WalletService.hashDataKeccak256(i.credentials.filter(g=>g.name==p)[0].val.ciphertext),type:"proof"})});let u=a.require.predicate;u&&u.forEach(p=>{c.credentialSubject.issuerDomains[0].data.credentials.push({name:p.property,value:this.evalPredicate(p,s[p.property]),type:"predicate",predicate:`${p.property} ${p.op} '${p.value}'`})})}else{let l=Object.entries(s).map(([h,u])=>({name:h,value:u,type:"plainText"}));c.credentialSubject.issuerDomains[0].data.credentials=l}return c})}getCredentialsForIssuer(r,i){return y0(this,null,function*(){try{let s=yield $3(this.wideStorageService.getEncryptedCredentials(r,i)),a=s.body;return s.status===204&&this.toastNotificationService.info("Loading credentials",`No credentials found for ${r} with key ${i}`),a}catch(s){return this.toastNotificationService.error(s.statusText,`Failed to load credentials (${s.status})`),console.error("Failed to load credentials",s),null}})}deleteCredentialsForIssuer(r,i){return y0(this,null,function*(){try{let s=yield $3(this.wideStorageService.deleteCredential(r,i)),a=s.body;return s.status===204&&this.toastNotificationService.info("Delete credential",`Credential for ${r} with key ${i} has been removed from the WIDE servers.`),a}catch(s){return this.toastNotificationService.error(s.statusText,`Failed to remove credential (${s.status})`),console.error("Failed to remove credential",s),null}})}getCredentialIssuerById(r,i){return y0(this,null,function*(){return yield $3(this.wideStorageService.getCredentialByInternalId(r,i))})}findMatchingCredentials(r,i,s){return r.filter(a=>{let{type:o,credentialSubject:c}=a,l={type:o,credentialSubject:c};return this.isSubsetOrEqual(l,i,!s)})}isSubsetOrEqual(r,i,s=!1){if(typeof r=="string"&&typeof i=="string")return r.toLowerCase()===i.toLowerCase();if(!(r instanceof Object)&&!(i instanceof Object))return r===i;if(Array.isArray(r)&&Array.isArray(i))return s&&r.length!==i.length?!1:i.every(a=>r.some(o=>this.isSubsetOrEqual(o,a,s)))&&(!s||r.every(a=>i.some(o=>this.isSubsetOrEqual(a,o,s))));if(r instanceof Object&&i instanceof Object){let a=Object.keys(r),o=Object.keys(i);return s&&a.length!==o.length?!1:o.every(c=>r.hasOwnProperty(c)&&this.isSubsetOrEqual(r[c],i[c],s))&&(!s||a.every(c=>i.hasOwnProperty(c)&&this.isSubsetOrEqual(r[c],i[c],s)))}return!1}decryptCredential(r){return y0(this,null,function*(){let i=yield this.web3WalletService.decryptData(r),s=JSON.parse(i);return this.toastNotificationService.info("Successful Decryption","Successfully decrypted all credentials"),s})}};e.\u0275fac=function(i){return new(i||e)(X0(K2),X0(h4),X0(T2))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lh0(t,e){t&1&&(v(0,"span",34),v0(1,"i",35),b())}function hh0(t,e){if(t&1&&(v(0,"span"),C(1),E2(2,"date"),b()),t&2){let n=b0().$implicit;F(1),W0(E7(2,1,n.datevaliduntil,"dd-MMM-yyyyHH:mm"))}}function uh0(t,e){t&1&&(v(0,"span"),v0(1,"i",36),b())}function dh0(t,e){if(t&1&&(v(0,"div"),v0(1,"app-wide-data-object",42),b()),t&2){let n=b0(3).$implicit;F(1),Y("data",n.decryptedValue)}}function ph0(t,e){if(t&1&&(v(0,"div"),v0(1,"app-wide-data-object",42),b()),t&2){let n=b0(3).$implicit;F(1),Y("data",n.decryptedValue)}}function mh0(t,e){if(t&1&&(v(0,"div"),C(1),b()),t&2){let n=b0(3).$implicit;F(1),m1(" ",n.decryptedValue," ")}}function fh0(t,e){if(t&1&&(M4(0),D0(1,dh0,2,1,"div",28)(2,ph0,2,1,"div",28)(3,mh0,2,1,"div",28),C4()),t&2){let n=e.ngIf;F(1),Y("ngIf",n==="object"),F(1),Y("ngIf",n==="array"),F(1),Y("ngIf",n==="other")}}function gh0(t,e){if(t&1&&(v(0,"div",41),D0(1,fh0,4,3,"ng-container",28),b()),t&2){let n=b0().$implicit,r=b0(4);F(1),Y("ngIf",r.getValueType(n.decryptedValue))}}function vh0(t,e){t&1&&(v(0,"span"),v0(1,"i",44),C(2," Decrypt"),b())}function bh0(t,e){t&1&&(v(0,"span"),v0(1,"i",45),C(2," Waiting for Metamask"),b())}function xh0(t,e){if(t&1){let n=r2();v(0,"div",41)(1,"button",43),f0("click",function(){x1(n);let i=b0().$implicit,s=b0(4);return w1(s.decryptProperty(i))}),D0(2,vh0,3,0,"span",28)(3,bh0,3,0,"span",28),b()()}if(t&2){let n=b0().$implicit;F(2),Y("ngIf",!n.isDecrypting&&(n.status==0||!n.status)),F(1),Y("ngIf",n.isDecrypting&&n.status==1)}}function wh0(t,e){if(t&1&&(v(0,"div",39),v0(1,"div",20),v(2,"div",23),C(3),b(),D0(4,gh0,2,1,"div",40)(5,xh0,4,2,"div",40),b()),t&2){let n=e.$implicit;F(3),W0(n.name),F(1),Y("ngIf",n.status==2),F(1),Y("ngIf",!n.status||n.status<2)}}function yh0(t,e){if(t&1&&(v(0,"div",37),D0(1,wh0,6,3,"div",38),b()),t&2){let n=b0().$implicit,r=b0(2);F(1),Y("ngForOf",r.credentialDetailLookup[n.wideInternalId]==null?null:r.credentialDetailLookup[n.wideInternalId].credentials)}}function zh0(t,e){if(t&1){let n=r2();v(0,"div",18)(1,"div",19)(2,"div",20)(3,"span",21),f0("click",function(){let s=x1(n).$implicit,a=b0(2);return w1(a.expand(s))}),v0(4,"img",22),b()(),v(5,"div",23)(6,"span",24),f0("click",function(){let s=x1(n).$implicit,a=b0(2);return w1(a.showIssuerModal(s))}),v0(7,"img",25),C(8),D0(9,lh0,2,0,"span",26),b()(),v(10,"div",27),C(11),b(),v(12,"div",27),C(13),E2(14,"date"),b(),v(15,"div",27),D0(16,hh0,3,4,"span",28)(17,uh0,2,0,"span",28),b(),v(18,"div",23)(19,"app-multi-button",29),f0("buttonClick",function(i){let a=x1(n).$implicit,o=b0(2);return w1(o.issuerActionClick(i,a))}),b(),v(20,"a",30),f0("click",function(){let s=x1(n).$implicit,a=b0(2);return w1(a.deleteCredentialPrompt(s))}),v(21,"i",31),v0(22,"i",32),b()()()(),D0(23,yh0,2,1,"div",33),b()}if(t&2){let n=e.$implicit,r=b0(2);Y("ngClass",n.expanded?"expanded":""),F(3),Y("ngClass",n.expanded?"expanded":""),F(4),Wr("src",r.getFaviconUrl(n.issuer),M3),F(1),m1(" ",n.label," "),F(1),Y("ngIf",!r.issuerHasDecryptPending(n)),F(2),W0(n.type.join(", ")),F(2),W0(E7(14,11,n.issuanceDate,"dd-MMM-yyyy HH:mm")),F(3),Y("ngIf",n.datevaliduntil),F(1),Y("ngIf",!n.datevaliduntil),F(2),Y("buttons",r.getActionMenuButtons(n)),F(4),Y("ngIf",n.expanded&&(r.credentialDetailLookup[n.wideInternalId]==null?null:r.credentialDetailLookup[n.wideInternalId].credentials))}}function Mh0(t,e){t&1&&(v(0,"div",46)(1,"p",47),v0(2,"i",48),C(3,"Your wallet is connected, but there are no credentials stored with us yet. Click Add Credentials to get started!"),b()())}function Ch0(t,e){if(t&1&&(v(0,"div",12)(1,"div",13),v0(2,"div",14),v(3,"div",15),C(4,"Name"),b(),v(5,"div",16),C(6,"Type"),b(),v(7,"div",16),C(8,"Date added"),b(),v(9,"div",16),C(10,"Valid until"),b(),v0(11,"div",15),b(),D0(12,zh0,24,14,"div",17)(13,Mh0,4,0,"div",3),b()),t&2){let n=b0();F(12),Y("ngForOf",n.issuedCredentials),F(1),Y("ngIf",!n.getWeb3WalletService().isCheckingMetaMask()&&(!n.issuedCredentials||n.issuedCredentials.length<=0))}}function Ah0(t,e){t&1&&(v(0,"div",46)(1,"p",47),v0(2,"i",49),C(3," Please wait while initialising..."),b()())}function _h0(t,e){t&1&&(v(0,"div",50)(1,"p",51),v0(2,"i",52),C(3,"Please connect your wallet!"),b()())}function Eh0(t,e){if(t&1){let n=r2();v(0,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.goTo("credentials/add"))}),C(1,"Add Credentials"),b()}}function Sh0(t,e){if(t&1&&(v(0,"div",53)(1,"h3"),v0(2,"img",25),C(3),b(),v(4,"p"),C(5,"The details on the issuance of this data is listed below."),b(),v(6,"div",54)(7,"pre")(8,"p"),C(9),E2(10,"json"),b()()(),v(11,"p",55),C(12,"To view the credentials associated to this, please expand the appropriate row in the main screen."),b()()),t&2){let n=b0();F(2),Wr("src",n.getFaviconUrl(n.issuerDetailsModalData.issuer),M3),F(1),m1(" ",n.issuerDetailsModalData.label,""),F(6),W0(n3(10,3,n.issuerDetailsModalData))}}function kh0(t,e){if(t&1&&(v(0,"div",53)(1,"h3"),C(2,"WIDE Credential Preview"),b(),v(3,"p"),C(4,"The WIDE Credential that will be presented to Relying Parties is displayed below."),b(),v(5,"div",54)(6,"pre")(7,"p"),C(8),E2(9,"json"),b()()()()),t&2){let n=b0();F(8),W0(n3(9,1,n.credentialPreviewData))}}function Th0(t,e){if(t&1){let n=r2();v(0,"div",56)(1,"h3"),C(2,"Remove Credential"),b(),v(3,"p"),C(4),b(),v(5,"div",57)(6,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.deleteCredential(i.credentialToDelete))}),C(7,"Yes"),b(),v(8,"button",58),f0("click",function(){x1(n);let i=b0();return i.showConfirmDeleteModal=!1,w1(i.credentialToDelete=null)}),C(9,"Cancel"),b()()()}if(t&2){let n=b0();F(4),m1("Are you sure you want to remove ",n.credentialToDelete.label,"?")}}var CW=(()=>{let e=class e{constructor(r,i,s,a,o,c){this.web3WalletService=r,this.wideStorageService=i,this.toastNotificationService=s,this.navMenuService=a,this.router=o,this.credentialHelperService=c,this.account=null,this.showIssuerDetailsModal=!1,this.issuerDetailsModalData=null,this.showCredentialPreviewModal=!1,this.credentialPreviewData=null,this.showConfirmDeleteModal=!1,this.credentialToDelete=null,this.issuedCredentials=[],this.credentialDetailLookup={},this.subscribeToWalletConnection()}ngOnInit(){this.navMenuService.setPageDetails("Home",[]),this.web3WalletService.metaMaskCheckStatus$.subscribe(r=>{}),this.subscribeToWalletConnection()}refreshAccountCredentials(r){return y0(this,null,function*(){yield this.wideStorageService.getUserIssuedCredentials(r).subscribe({next:i=>{this.issuedCredentials=i.body,i.status==204&&this.toastNotificationService.info("Loading credentials",`No credentials found for ${r}`)},error:i=>{this.toastNotificationService.error(i.statusText,`Failed to load credentials (${i.status})`),console.error("Failed to load credentials",i)}})})}subscribeToWalletConnection(){this.walletSubscription=this.web3WalletService.connectedToWallet$.subscribe(r=>{r&&this.web3WalletService.getAccount().then(i=>{this.account=i,this.refreshAccountCredentials(i)}).catch(i=>{console.error(i)})})}getWeb3WalletService(){return this.web3WalletService}goTo(r){this.router.navigate([r])}expand(r){return y0(this,null,function*(){if(!this.account){this.toastNotificationService.info("Unable to retrieve credential","Please make sure your wallet is connected first");return}r.expanded===void 0?(yield this.getCredentialsForIssuer(r.wideInternalId))&&(r.expanded=!0):r.expanded=!r.expanded})}decryptProperty(r){return y0(this,null,function*(){r.isDecrypting=!0,r.status=1;let i=yield this.web3WalletService.decryptData(r.val),s=JSON.parse(i);s&&s.hasOwnProperty(r.name)?(r.decryptedValue=s[r.name],r.status=2,this.toastNotificationService.info("Decryption Complete",`Successfully decrypted data for ${r.name}`)):(r.status=0,this.toastNotificationService.error("Failed Decrypting",`Unable to retrieve value from decrypted data for ${r.name}`),console.error("Unable to retrieve value from decrypted data. Returned value: ",s)),r.isDecrypting=!1})}decryptCredential(r){return y0(this,null,function*(){let i=yield this.getCredentialsForIssuer(r.wideInternalId);if(!i){this.toastNotificationService.error("Cannot decrypt","Unable to find any credentials for this issuer");return}i.credentials.forEach(a=>{a.isDecrypting=!0,a.status=1});let s=yield this.credentialHelperService.decryptCredential(i.payload);i.credentials.forEach(a=>{a.decryptedValue=s[a.name],a.isDecrypting=!1,a.status=2}),this.toastNotificationService.info("Successful Decryption","Successfully decrypted all credentials")})}issuerHasDecryptPending(r){if(!this.credentialDetailLookup[r.wideInternalId])return!0;let i=this.credentialDetailLookup[r.wideInternalId].credentials;return i&&i.length>0?i.some(s=>s.status!=2):!1}getCredentialsForIssuer(r){return y0(this,null,function*(){return!this.credentialDetailLookup[r]&&this.account&&(this.credentialDetailLookup[r]=yield this.credentialHelperService.getCredentialsForIssuer(this.account,r)),this.credentialDetailLookup[r]})}issuerActionClick(r,i){return y0(this,null,function*(){switch(r){case"decrypt":yield this.decryptCredential(i);break;case"preview-cred":yield this.showWideCredentialPreviewModal(i);break;case"download":alert("Do we need this? just a sample for now...");break}})}getFaviconUrl(r){return!r.startsWith("http://")&&!r.startsWith("https://")&&(r="http://"+r),`${new URL(r).origin}/favicon.ico`}showIssuerModal(r){this.issuerDetailsModalData=r,this.showIssuerDetailsModal=!0}showWideCredentialPreviewModal(r){return y0(this,null,function*(){let i=this.credentialDetailLookup[r.wideInternalId];i||this.toastNotificationService.error("Internal Error","An internal error has occurred"),this.credentialPreviewData=yield this.generateWideCredentialPreview(r,i),this.showCredentialPreviewModal=!0})}generateWideCredentialPreview(r,i){return y0(this,null,function*(){let s=yield this.web3WalletService.getServerPublicKey(),a={id:"http://wid3.xyz",type:["WIDECredential"],issuer:s,issuanceDate:new Date().toISOString(),credentialSubject:{id:r.credentialSubject.id,dataTypes:{type:"credentialSources",name:"Original Credential Sources",value:[r.type]},issuerDomains:[{id:r.id,name:r.issuer,label:r.label,type:r.type,data:{payloadKeccak256CipherText:this.web3WalletService.hashTextKeccak256(i.payload.ciphertext),credentials:[]}}]}};return yield i.credentials.forEach(o=>{o.decryptedValue?a.credentialSubject.issuerDomains[0].data.credentials.push({name:o.name,value:o.decryptedValue,type:"plainText"}):a.credentialSubject.issuerDomains[0].data.credentials.push({name:o.name,value:this.web3WalletService.hashDataKeccak256(o.val.ciphertext),type:"proof"})}),a})}deleteCredentialPrompt(r){if(!this.account){this.toastNotificationService.info("Unable to delete credential","Please make sure your wallet is connected first");return}this.credentialToDelete=r,this.showConfirmDeleteModal=!0}deleteCredential(r){return y0(this,null,function*(){if(!this.account){this.toastNotificationService.info("Unable to delete credential","Please make sure your wallet is connected first");return}yield this.credentialHelperService.deleteCredentialsForIssuer(this.account,r.wideInternalId),yield this.refreshAccountCredentials(this.account),this.showConfirmDeleteModal=!1})}getActionMenuButtons(r){let i=[];return this.issuerHasDecryptPending(r)&&i.push({label:"Decrypt",action:"decrypt"}),i.push({label:"Preview Credential",action:"preview-cred"}),j3.production||i.push({label:"Download",action:"download"}),i}getValueType(r){return Array.isArray(r)?"array":typeof r=="object"&&r!==null?"object":"other"}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(h4),m0(T2),m0(q3),m0(G1),m0(ne))},e.\u0275cmp=n1({type:e,selectors:[["app-main"]],standalone:!0,features:[r1],decls:21,vars:10,consts:[[1,"main"],[1,"credentials"],["class","credentials-listing",4,"ngIf"],["class","panel-message info",4,"ngIf"],["class","panel-message error",4,"ngIf"],[1,"buttons"],[3,"click",4,"ngIf"],[3,"showModal"],["content","","class","issuer-details",4,"ngIf"],["buttons",""],[3,"click"],["content","","class","delete-credential",4,"ngIf"],[1,"credentials-listing"],[1,"header"],[1,"label","w-5"],[1,"label","w-25"],[1,"label","w-15"],["class","credential",3,"ngClass",4,"ngFor","ngForOf"],[1,"credential",3,"ngClass"],[1,"credential-header"],[1,"w-5"],[1,"cred-arrow",3,"ngClass","click"],["src","/assets/svg/arrow.svg"],[1,"w-25"],[1,"issuer-label",3,"click"],["width","16","height","16",3,"src"],["class","pill text-success",4,"ngIf"],[1,"w-15"],[4,"ngIf"],["btnSize","btn-xs",3,"buttons","buttonClick"],["href","#","title","Remove Credential",1,"btn","btn-lg",3,"click"],[1,"btn-icon"],[1,"mdi","mdi-delete"],["class","credential-expanded",4,"ngIf"],[1,"pill","text-success"],[1,"mdi","mdi-lock-open-check"],[1,"mdi","mdi-infinity"],[1,"credential-expanded"],["class","credential-property",4,"ngFor","ngForOf"],[1,"credential-property"],["class","w-70",4,"ngIf"],[1,"w-70"],[3,"data"],[1,"btn-xs",3,"click"],[1,"mdi","mdi-lock"],[1,"mdi","mdi-loading","rotate-mdi"],[1,"panel-message","info"],[1,"info"],[1,"mdi","mdi-check-circle-outline"],[1,"spinner","mdi","mdi-loading","rotate-mdi"],[1,"panel-message","error"],[1,"error"],[1,"mdi","mdi-alert-circle-outline"],["content","",1,"issuer-details"],[1,"scrollable","align-left"],[1,"label"],["content","",1,"delete-credential"],["buttons","",1,"buttons"],[1,"btn-alt",3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h2"),C(2,"Your credentials"),b(),v(3,"div",1),D0(4,Ch0,14,2,"div",2)(5,Ah0,4,0,"div",3)(6,_h0,4,0,"div",4),b(),v(7,"div",5),D0(8,Eh0,2,0,"button",6),b()(),v(9,"app-wide-modal",7),D0(10,Sh0,13,5,"div",8),v(11,"div",9)(12,"button",10),f0("click",function(){return s.showIssuerDetailsModal=!1}),C(13,"Close"),b()()(),v(14,"app-wide-modal",7),D0(15,kh0,10,3,"div",8),v(16,"div",9)(17,"button",10),f0("click",function(){return s.showCredentialPreviewModal=!1}),C(18,"Close"),b()()(),v(19,"app-wide-modal",7),D0(20,Th0,10,1,"div",11),b()),i&2&&(F(4),Y("ngIf",s.getWeb3WalletService().isConnectedToWallet()),F(1),Y("ngIf",s.getWeb3WalletService().isCheckingMetaMask()),F(1),Y("ngIf",!s.getWeb3WalletService().isConnectedToWallet()&&!s.getWeb3WalletService().isCheckingMetaMask()),F(2),Y("ngIf",s.getWeb3WalletService().isConnectedToWallet()&&!s.getWeb3WalletService().isCheckingMetaMask()),F(1),Y("showModal",s.showIssuerDetailsModal),F(1),Y("ngIf",s.issuerDetailsModalData),F(4),Y("showModal",s.showCredentialPreviewModal),F(1),Y("ngIf",s.credentialPreviewData),F(4),Y("showModal",s.showConfirmDeleteModal),F(1),Y("ngIf",s.credentialToDelete))},dependencies:[s1,B4,C3,J1,o4,m8,z5,hp,Vv],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]{position:relative;background:#FFF;border-radius:15px;padding:10px 25px;min-height:250px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential-property[_ngcontent-%COMP%]{color:#727272;display:flex;align-items:center;min-height:40px;padding-left:15px;padding-right:15px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential-property[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]{border-radius:10px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential.expanded[_ngcontent-%COMP%]{box-shadow:0 3px 8px #3e1b071a;margin-bottom:15px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]{color:#000;height:60px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]   .cred-arrow[_ngcontent-%COMP%]{cursor:pointer}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]   .cred-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]   .cred-arrow.expanded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(0)}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]   .issuer-label[_ngcontent-%COMP%]{cursor:pointer}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-header[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   i.mdi[_ngcontent-%COMP%]{font-size:22px;top:3px;position:relative}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-expanded[_ngcontent-%COMP%]{color:#000;background:rgba(250,247,246,.5019607843);padding-top:25px;padding-bottom:25px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]   .credential-expanded[_ngcontent-%COMP%]   .credential-property[_ngcontent-%COMP%]{color:#000;border-bottom:1px solid #FFF2F1}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .panel-message[_ngcontent-%COMP%]{width:100%;position:relative;display:inline-block;text-align:center;top:90px;border-radius:5px}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .panel-message.info[_ngcontent-%COMP%]{background:#8AB9FF;color:#fff}.main[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .panel-message.error[_ngcontent-%COMP%]{background:#FF7872;color:#fff}.main[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:30px}.issuer-details[_ngcontent-%COMP%]{max-height:600px;margin-bottom:20px}.issuer-details[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;background:#FAF7F6;padding:10px;border-radius:10px}.issuer-details[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.delete-credential[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{gap:20px;display:flex;justify-content:center}']});let t=e;return t})();var AW=(()=>{let e=class e{constructor(r){this.navMenuService=r,this.breadcrumbs=[],this.title="",this.breadcrumbSubscription=this.navMenuService.currentBreadcrumbs.subscribe(i=>{this.breadcrumbs=i}),this.titleSubscription=this.navMenuService.currentTitle.subscribe(i=>{this.title=i})}ngOnDestroy(){this.breadcrumbSubscription&&this.breadcrumbSubscription.unsubscribe(),this.titleSubscription&&this.titleSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(m0(q3))},e.\u0275cmp=n1({type:e,selectors:[["app-main-layout"]],standalone:!0,features:[r1],decls:5,vars:2,consts:[[1,"main"],[1,"content"],[1,"header",3,"title","breadcrumbs"]],template:function(i,s){i&1&&(v(0,"div",0),v0(1,"app-nav-menu"),v(2,"div",1),v0(3,"app-nav-header",2)(4,"router-outlet"),b()()),i&2&&(F(3),Y("title",s.title)("breadcrumbs",s.breadcrumbs))},dependencies:[s1,yW,MW,Qt],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]{display:flex;min-height:100vh}.main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:auto;padding-left:60px;padding-right:40px;padding-bottom:25px;box-sizing:border-box}']});let t=e;return t})();var _W=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-simple-layout"]],standalone:!0,features:[r1],decls:2,vars:0,consts:[[1,"simple-layout"]],template:function(i,s){i&1&&(v(0,"div",0),v0(1,"router-outlet"),b())},dependencies:[s1,Qt],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}']});let t=e;return t})();var Ph0=t=>({"width.%":t}),EW=(()=>{let e=class e{constructor(){this.percentage=50}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-progress-bar"]],inputs:{percentage:"percentage"},standalone:!0,features:[r1],decls:4,vars:4,consts:[[1,"progress-bar"],[1,"progress",3,"ngStyle"],[1,"progress-text"]],template:function(i,s){i&1&&(v(0,"div",0),v0(1,"div",1),v(2,"span",2),C(3),b()()),i&2&&(F(1),Y("ngStyle",Ya(2,Ph0,s.percentage)),F(2),m1("",s.percentage,"%"))},dependencies:[s1,KL],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.progress-bar[_ngcontent-%COMP%]{width:100%;height:25px;background:#FAF7F6;border:1px solid #FF7872;padding:5px;box-sizing:border-box;border-radius:3px;position:relative}.progress-bar[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{width:100%;display:block;top:2px;position:absolute;font-size:18px}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0%;height:90%;background:#FF7872}']});let t=e;return t})();var g7=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl=j3.wideServerApiUrl}getHistory(){return this.http.get(`${this.apiUrl}/history/get`,{withCredentials:!0})}getHistoryKey(){return this.http.get(`${this.apiUrl}/history/key`,{withCredentials:!0})}getHistoryMessage(){return this.http.get(`${this.apiUrl}/history/generate_message`,{withCredentials:!0})}setHistoryKey(r){return this.http.post(`${this.apiUrl}/history/register_key`,{signature:r},{withCredentials:!0})}hasHistoryKey(){return this.http.get(`${this.apiUrl}/history/hasKey`,{withCredentials:!0})}logPresentation(r){return this.http.post(`${this.apiUrl}/history/logPresentation`,r,{withCredentials:!0})}};e.\u0275fac=function(i){return new(i||e)(X0(Q3))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lh0(t,e){if(t&1){let n=r2();v(0,"div",11)(1,"div",12)(2,"h3"),C(3,"Verify your Web3 Identity"),b(),v0(4,"p",13),v(5,"div",14),v0(6,"app-progress-bar",15),b(),v(7,"button",16),f0("click",function(){x1(n);let i=b0();return w1(i.signTerms())}),C(8,"Sign"),b()()()}if(t&2){let n=b0();F(4),Y("innerHTML",n.messageToSign,VP),F(2),Y("percentage",n.statusPct)}}var SW=(()=>{let e=class e{constructor(r,i,s,a){this.web3WalletService=r,this.toastNotificationService=i,this.router=s,this.historyService=a,this.accounts=null,this.showSignMessageModal=!1,this.messageToSign="",this.statusPct=0}connect(){return y0(this,null,function*(){this.web3WalletService.isMetaMaskInstalled()?yield this.web3WalletService.connect().then(r=>y0(this,null,function*(){r?this.historyService.hasHistoryKey().subscribe({next:i=>y0(this,null,function*(){i.hasKey?this.router.navigateByUrl("/"):yield this.setupHistoryKey()})}):yield this.web3WalletService.getEthAddresses().then(i=>{i!=null&&i.length>0&&(this.accounts=i,this.web3WalletService.getSiweSignUpMessage(i[0]).subscribe({next:s=>{this.messageToSign=s.message.statement,this.showSignMessageModal=!0},error:s=>console.error(s)}))}).catch(i=>console.error(i))})):this.toastNotificationService.showToast("Cannot find Metamask","Metamask wallet is required to use WIDE","warning",5e3)})}signTerms(){return y0(this,null,function*(){yield this.web3WalletService.signTermsOfService().then(r=>y0(this,null,function*(){r?(this.statusPct=50,yield this.setupHistoryKey(),this.statusPct=100):this.statusPct=0})).catch(r=>console.error(r)).finally(()=>{this.showSignMessageModal=!1})})}setupHistoryKey(){return y0(this,null,function*(){let i=(yield $3(this.historyService.getHistoryMessage())).message,s=yield this.web3WalletService.signMessage(i);if(!s){this.toastNotificationService.error("History Key","Unable to sign message");return}let a=yield $3(this.historyService.setHistoryKey(s));a.success?(this.toastNotificationService.info("History Key",a.message),this.router.navigate(["/"])):this.toastNotificationService.error("History Key",a.message)})}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(T2),m0(G1),m0(g7))},e.\u0275cmp=n1({type:e,selectors:[["app-getting-started"]],standalone:!0,features:[r1],decls:13,vars:1,consts:[[1,"getting-started"],[1,"content"],[1,"left-content"],[1,"wide-logo"],["src","assets/svg/wide_logo_white.svg","alt","WIDE logo"],[1,"description"],[1,"buttons"],[1,"btn-white-outline",3,"click"],[1,"right-content"],["src","assets/svg/bridge_illustration.svg","alt","WIDE logo"],["class","modal",4,"ngIf"],[1,"modal"],[1,"sign-message-prompt"],[1,"message",3,"innerHTML"],[1,"progress"],[3,"percentage"],[3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v0(4,"img",4),b(),v(5,"div",5),C(6," A decentralised identity bridge between your skills and the opportunities available in Web3 "),b(),v(7,"div",6)(8,"button",7),f0("click",function(){return s.connect()}),C(9,"Get Started"),b()()(),v(10,"div",8),v0(11,"img",9),b()(),D0(12,Lh0,9,2,"div",10),b()),i&2&&(F(12),Y("ngIf",s.showSignMessageModal))},dependencies:[s1,J1,EW],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.getting-started[_ngcontent-%COMP%]{background:linear-gradient(60deg,#FFC586,25%,#FF7872,75%,#F57F9F);width:100vw;height:100vh}.getting-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:25vh;width:100%;display:flex;align-items:center}.getting-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{width:30%;padding-left:20%}.getting-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.getting-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-left:5%;padding-top:25px;padding-bottom:50px;color:#fff}.getting-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding-left:5%}.getting-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{width:50%;padding-left:10%}.modal[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center}.modal[_ngcontent-%COMP%]   .sign-message-prompt[_ngcontent-%COMP%]{width:75%;max-width:1000px;padding:50px 80px;border-radius:5px;background:#FFF;text-align:center;white-space:pre-line}.modal[_ngcontent-%COMP%]   .sign-message-prompt[_ngcontent-%COMP%]   p.message[_ngcontent-%COMP%]{text-align:justify;height:50vh;overflow-y:scroll;padding:25px;border-radius:10px;background-color:#faf7f6}.modal[_ngcontent-%COMP%]   .sign-message-prompt[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}']});let t=e;return t})();var kW=(()=>{let e=class e{constructor(r){this.navMenuService=r}ngOnInit(){return y0(this,null,function*(){this.navMenuService.setPageDetails("Support",[])})}};e.\u0275fac=function(i){return new(i||e)(m0(q3))},e.\u0275cmp=n1({type:e,selectors:[["app-support"]],standalone:!0,features:[r1],decls:20,vars:0,consts:[[2,"position","relative","padding-bottom","calc(56.40658554044381% + 41px)","height","0","width","100%"],["src","https://demo.arcade.software/dqUP8xv4FngvIs50ZJ1f?embed&show_copy_link=true","title","WIDE","frameborder","0","loading","lazy","webkitallowfullscreen","","mozallowfullscreen","","allowfullscreen","","allow","clipboard-write",2,"position","absolute","top","0","left","0","width","100%","height","100%","color-scheme","light"],["href","mailto:hi@wid3.org"],["href","https://calendly.com/benedictvs","target","_blank"]],template:function(i,s){i&1&&(v(0,"h2"),C(1,"Welcome to WIDE Support!"),b(),v(2,"p"),C(3,"WIDE is an early stage prototype currently in development for the TrustChain Open Call 1 (OC1). Our team is dedicated to providing you with the best possible user experience, but please keep in mind that as we are in the early stages of development, encountering bugs or unexpected behaviour is very likely."),b(),v(4,"p"),C(5,"When getting started you can use the following walkthrough as reference and guidance."),b(),v(6,"div",0),v0(7,"iframe",1),b(),v(8,"p"),C(9,"If you encounter any issues while using WIDE, we're here to help! Please reach out to "),v(10,"a",2),C(11,"hi@wid3.org"),b(),C(12," for contacting our support team for assistance. Your feedback is incredibly valuable to us as we work to improve the software and create a more seamless experience for all users."),b(),v(13,"p"),C(14,"In the event of any detailed questions or urgent concerns, please schedule a call using "),v(15,"a",3),C(16,"calendly.com/benedictvs"),b(),C(17,"."),b(),v(18,"p"),C(19,"Thank you for your patience and understanding as we continue to develop and refine WIDE. We appreciate your support and look forward to helping you resolve any issues you may encounter."),b())},dependencies:[s1]});let t=e;return t})();var TW=(()=>{let e=class e{constructor(r){this.navMenuService=r}ngOnInit(){return y0(this,null,function*(){this.navMenuService.setPageDetails("About",[])})}};e.\u0275fac=function(i){return new(i||e)(m0(q3))},e.\u0275cmp=n1({type:e,selectors:[["app-about"]],standalone:!0,features:[r1],decls:30,vars:0,consts:[["href","http://acurraent.com","target","_blank"]],template:function(i,s){i&1&&(v(0,"h2"),C(1,"The WIDE Platform"),b(),v(2,"p"),C(3,"WIDE brings together "),v(4,"a",0),C(5,"UG (haftungsbeschr\xE4nkt)"),b(),C(6,", a German innovation agency, the University of Malta and a technical expert in aim of creating a bridge for digital identities that will connect European trust frameworks with Web3. Today, students and recent graduates at the University of Malta already receive a digitally signed European Digital Credentials that can be uploaded to the Europass platform. However, such credentials do not empower holders to be part of the \u2018new work\u2019 paradigm. Decentralised Autonomous Organisations (DAOs) often value experience over university degrees \u2014 this may be due to the fact that even if DAOs are presented with such credentials, they cannot reliably verify their validity and applicability."),b(),v(7,"p"),C(8,"Since Web3 entities are often curtailed to hiring based on degrees, students and recent graduates are at risk of leaving university with digital credentials that cannot readily be presented to such blockchain-powered communities. Web3 Identities for DAOs and Education (WIDE) addresses this gap for Web3-compatible attestations by bridging these credentials to your Ethereum address."),b(),v(9,"h2"),C(10,"Motivation for the project"),b(),v(11,"p"),C(12,"WIDE aims to address existing challenges in decentralised identity management, notably the issues of market fragmentation and low interoperability. Developed with an eye towards eIDAS 2.0 compliance, WIDE is designed to serve as an interface between conventional European identity systems systems and emerging Web3 technologies."),b(),v(13,"h2"),C(14,"How it works"),b(),v(15,"p"),C(16,"WIDE designed to store and manage user-encrypted claims and alleviates the user pain of handling credentials and data on edge devices. WIDE enables digital safekeeping of claims and their use in online-only scenarios for users of Web3 applications that have extensive integration with Web3. In short, users are enabled to use their EU credentials anywhere in Web3 and end the need for using email with Web3 identifiers in parallel."),b(),v(17,"p"),C(18,"WIDE encompasses the following five main functionalities:"),b(),v(19,"ol")(20,"li"),C(21,"onboarding claims to WIDE by associating the claims with a Web3 identifier, encrypting the claims and storing it on the WIDE database;"),b(),v(22,"li"),C(23,"claim integrity assurance on chain;"),b(),v(24,"li"),C(25,"retrieving claims for user review;"),b(),v(26,"li"),C(27,"user presentation of claims to relying parties;"),b(),v(28,"li"),C(29,"claim integrity verification."),b()())},dependencies:[s1]});let t=e;return t})();var PW=()=>["/credentials/oauth/signin"],Ih0=()=>({type:"google"}),Dh0=()=>({type:"microsoft"}),Oh0=()=>["/credentials/poap"],Fh0=()=>({type:"poap"}),LW=(()=>{let e=class e{constructor(r,i){this.navMenuService=r,this.router=i}ngOnInit(){this.navMenuService.setPageDetails("Add Credentials",["Your credentials","Add credentails"])}};e.\u0275fac=function(i){return new(i||e)(m0(q3),m0(G1))},e.\u0275cmp=n1({type:e,selectors:[["app-add-credentials"]],standalone:!0,features:[r1],decls:25,vars:12,consts:[[1,"add-credential"],[1,"credential-panel"],[1,"credential-pane",3,"routerLink","queryParams"],[1,"icon"],["width","44","src","assets/svg/google_icon.svg","alt","Google icon"],["width","44","src","assets/svg/Microsoft_logo.svg","alt","Github icon"],["width","44","src","assets/svg/poap_logo.svg","alt","POAP icon"],[1,"credential-pane","disabled"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h2"),C(2,"What are we adding today?"),b(),v(3,"div",1)(4,"div",2)(5,"i",3),v0(6,"img",4),b(),v(7,"span"),C(8,"Sign in with Google"),b()(),v(9,"div",2)(10,"i",3),v0(11,"img",5),b(),v(12,"span"),C(13,"Sign in with Microsoft"),b()(),v(14,"div",2)(15,"i",3),v0(16,"img",6),b(),v(17,"span"),C(18,"Claim POAPs"),b()(),v0(19,"div",7)(20,"div",7)(21,"div",7)(22,"div",7)(23,"div",7)(24,"div",7),b()()),i&2&&(F(4),Y("routerLink",L3(6,PW))("queryParams",L3(7,Ih0)),F(5),Y("routerLink",L3(8,PW))("queryParams",L3(9,Dh0)),F(5),Y("routerLink",L3(10,Oh0))("queryParams",L3(11,Fh0)))},dependencies:[s1,b8],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.credential-panel[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:15px;margin-bottom:25px}.credential-panel[_ngcontent-%COMP%]   .credential-pane[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:30%;height:130px;background:#FFF;border-radius:20px;cursor:pointer}.credential-panel[_ngcontent-%COMP%]   .credential-pane[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}.credential-panel[_ngcontent-%COMP%]   .credential-pane[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{text-shadow:1px 4px 12px #CBCBCB}.credential-panel[_ngcontent-%COMP%]   .credential-pane.disabled[_ngcontent-%COMP%]{display:none}']});let t=e;return t})();var IW=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl=j3.wideServerApiUrl}getDomainConfig(r){return this.http.get(`${this.apiUrl}/rp/config/${r}`)}};e.\u0275fac=function(i){return new(i||e)(X0(Q3))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vh0(t,e){t&1&&(v(0,"div"),C(1," Connecting to server to fetch config... "),b())}function Rh0(t,e){if(t&1&&(v(0,"div",2),v0(1,"img",8),b()),t&2){let n=b0(2);F(1),Y("src",n.presentationConfig.logoUri,M3)}}function Nh0(t,e){if(t&1){let n=r2();v(0,"div")(1,"div",2),v0(2,"img",3),b(),v(3,"h2"),C(4,"Credentials Presentation Request"),b(),D0(5,Rh0,2,1,"div",4),v(6,"p")(7,"b"),C(8),b(),C(9," is requesting you to present your "),v(10,"b"),C(11),b(),C(12," credential "),b(),v(13,"p"),C(14,"Please connect your wallet associated with WIDE to proceed or click 'Get Started' to get on board."),b(),v(15,"div",5)(16,"button",6),f0("click",function(){x1(n);let i=b0();return w1(i.connectWallet())}),C(17,"Connect wallet"),b(),v(18,"button",7),f0("click",function(){x1(n);let i=b0();return w1(i.showGettingStartedModal=!0)}),C(19,"Get started"),b()()()}if(t&2){let n=b0();F(5),Y("ngIf",n.presentationConfig.logoUri),F(3),W0(n.presentationConfig.rpName),F(3),W0(n.presentationConfig.credential.type.join(", "))}}var Bh0=()=>["/getting-started"];function Zh0(t,e){if(t&1){let n=r2();v(0,"div")(1,"app-wide-modal",9)(2,"div",10)(3,"h3"),C(4,"Cannot detect MetaMask Wallet :("),b(),v0(5,"img",11),v(6,"p"),C(7,"Please make sure the "),v(8,"a",12),C(9,"MetaMask wallet"),b(),C(10," is set up on this browser."),b()(),v(11,"div",13)(12,"button",6),f0("click",function(){x1(n);let i=b0();return w1(i.showMetaMaskWalletModal=!1)}),C(13,"Close"),b()()(),v(14,"app-wide-modal",9)(15,"div",14)(16,"h3"),C(17,"Please connect your MetaMask Wallet"),b(),v0(18,"img",11),v(19,"p"),C(20,"Please connect your MetaMask Wallet to WIDE."),b(),v(21,"p"),C(22,'If you already opened the wallet, make sure it has been unlocked, click "Connect To Wallet" again.'),b(),v(23,"p"),C(24,"WIDE requires this to obtain your public Ethereum address."),b()(),v(25,"div",13)(26,"button",6),f0("click",function(){x1(n);let i=b0();return w1(i.showMetaMaskConnectModal=!1)}),C(27,"Close"),b()()(),v(28,"app-wide-modal",9)(29,"div",14)(30,"h3"),C(31,"Set up your History Key"),b(),v(32,"p"),C(33,"Click Setup Key below to generate a unique History Key derived from a message signature."),b(),v(34,"p"),C(35,"This will store the history of presentations on the blockchain, without disclosing your address."),b()(),v(36,"div",13)(37,"button",6),f0("click",function(){x1(n);let i=b0();return w1(i.setupHistoryKey())}),C(38,"Setup Key"),b()()(),v(39,"app-wide-modal",9)(40,"div",15)(41,"h3"),C(42,"New to WIDE?"),b(),v0(43,"img",16),v(44,"p"),C(45,"WIDE is a Digital Identity bridge, allowing you to manage your digital credentials safely, securely and in complete privacy."),b(),v(46,"p"),C(47,"To sign up to WIDE, please click Get Started. To go back to "),v(48,"b"),C(49),b(),C(50," click Return to "),v(51,"b"),C(52),b(),C(53,". "),b(),v(54,"p"),C(55,"If you choose to sign up to WIDE, you will need to re-start the credential presentation process from "),v(56,"b"),C(57),b(),C(58," (but we're working hard so that you don't have to in the near future). "),b()(),v(59,"div",17)(60,"button",18),C(61,"Sign me up!"),b(),v(62,"button",19),f0("click",function(){x1(n);let i=b0();return w1(i.returnToRequestor())}),C(63),b(),v(64,"button",19),f0("click",function(){x1(n);let i=b0();return w1(i.showGettingStartedModal=!1)}),C(65,"Close"),b()()()()}if(t&2){let n=b0();F(1),Y("showModal",n.showMetaMaskWalletModal),F(13),Y("showModal",n.showMetaMaskConnectModal),F(14),Y("showModal",n.showSetHistoryKeyModal),F(11),Y("showModal",n.showGettingStartedModal),F(10),W0(n.presentationConfig.rpName),F(3),W0(n.presentationConfig.rpName),F(5),W0(n.presentationConfig.rpName),F(3),Y("routerLink",L3(9,Bh0)),F(3),m1("Return to ",n.presentationConfig.rpName,"")}}var DW=(()=>{let e=class e{constructor(r,i,s,a,o,c){this.web3WalletService=r,this.credentialPresentationService=i,this.router=s,this.activatedRoute=a,this.historyService=o,this.toastNotificationService=c,this.domainOrigin="",this.presentationConfig=null,this.pageLoaded=!1,this.showMetaMaskWalletModal=!1,this.showMetaMaskConnectModal=!1,this.showGettingStartedModal=!1,this.showSetHistoryKeyModal=!1,this.accounts=[]}ngOnInit(){return y0(this,null,function*(){this.activatedRoute.queryParams.subscribe(r=>y0(this,null,function*(){this.domainOrigin=r.domain,this.credentialPresentationService.getDomainConfig(this.domainOrigin).subscribe({next:i=>{this.presentationConfig=i,this.pageLoaded=!0},error:i=>console.error(i)})}))})}connectWallet(){return y0(this,null,function*(){this.web3WalletService.isMetaMaskInstalled()?yield this.web3WalletService.connect().then(r=>y0(this,null,function*(){r?yield this.web3WalletService.getEthAddresses().then(i=>{i&&i?.length>0?(this.accounts=i,this.historyService.hasHistoryKey().subscribe({next:s=>{s.hasKey?this.router.navigateByUrl("present/request",{state:{domainOrigin:this.domainOrigin,presentationConfig:this.presentationConfig}}):this.showSetHistoryKeyModal=!0}})):this.showMetaMaskConnectModal=!0}).catch(i=>{console.error(i)}):(console.error("Failed to connect to Metamask"),this.showMetaMaskConnectModal=!0)})):this.showMetaMaskWalletModal=!0})}setupHistoryKey(){return y0(this,null,function*(){let i=(yield $3(this.historyService.getHistoryMessage())).message,s=yield this.web3WalletService.signMessage(i);if(!s){this.toastNotificationService.error("History Key","Unable to sign message");return}let a=yield $3(this.historyService.setHistoryKey(s));a.success?(this.toastNotificationService.info("History Key",a.message),this.showSetHistoryKeyModal=!1,this.router.navigateByUrl("present/request",{state:{domainOrigin:this.domainOrigin,presentationConfig:this.presentationConfig}})):this.toastNotificationService.error("History Key",a.message)})}returnToRequestor(){window.location.href=this.presentationConfig.sourceUri}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(IW),m0(G1),m0(E5),m0(g7),m0(T2))},e.\u0275cmp=n1({type:e,selectors:[["app-begin-presentation"]],standalone:!0,features:[r1],decls:4,vars:3,consts:[[1,"content"],[4,"ngIf"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","logo-wrapper",4,"ngIf"],[1,"buttons"],[3,"click"],["target","_blank",1,"btn-alt",3,"click"],[1,"logo","logo-rp",3,"src"],[3,"showModal"],["content","",1,"metamask-modal"],["src","assets/svg/MetaMask_Fox.svg","width","250"],["href","https://metamask.io/","target","_blank"],["buttons",""],["content","",1,"metamask-connect-modal"],["content","",1,"metamask-get-started-modal"],["src","assets/svg/wide_logo_gradient.svg","width","250"],["buttons","",1,"modal-buttons"],[3,"routerLink"],[1,"btn-alt",3,"click"]],template:function(i,s){i&1&&(v(0,"div",0),D0(1,Vh0,2,0,"div",1)(2,Nh0,20,3,"div",1),b(),D0(3,Zh0,66,10,"div",1)),i&2&&(F(1),Y("ngIf",!s.pageLoaded),F(1),Y("ngIf",s.pageLoaded),F(1),Y("ngIf",s.pageLoaded))},dependencies:[s1,J1,b8,z5],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}']});let t=e;return t})();var Nv=(()=>{let e=class e{constructor(){this.mdiIcon="help-circle-outline",this.position="",this.color=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-tooltip"]],inputs:{mdiIcon:"mdiIcon",position:"position",message:"message",color:"color"},standalone:!0,features:[r1],decls:3,vars:8,template:function(i,s){i&1&&(v(0,"i")(1,"span"),C(2),b()()),i&2&&(xL("mdi mdi-",s.mdiIcon," tooltip ",s.color,""),F(1),fe(s.position),F(1),W0(s.message))},styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.tooltip[_ngcontent-%COMP%]{cursor:pointer;position:relative;color:#fcab90}.tooltip.white[_ngcontent-%COMP%]{color:#fff}.tooltip.coral[_ngcontent-%COMP%]{color:#ff7872;background:inherit}.tooltip.coral[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#FF7872}.tooltip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:default;min-width:200px;background:#FCAB90;color:#fff;padding:5px 10px;position:absolute;display:none;border-radius:5px;left:0;bottom:25px;font-size:14px;font-weight:400;font-style:normal}.tooltip[_ngcontent-%COMP%]   span.bottom[_ngcontent-%COMP%]{bottom:auto;top:25px}.tooltip[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:block}']});let t=e;return t})();function jh0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",12),b()),t&2){let n=b0();F(1),Y("src",n.presentationConfig.logoUri,M3)}}function Uh0(t,e){if(t&1&&(M4(0),v(1,"div")(2,"p"),C(3,"Credential: "),v(4,"b"),C(5),b()(),v(6,"p",13),v0(7,"i",14),C(8),b(),v(9,"p"),C(10),b()(),C4()),t&2){let n=b0();F(5),W0(n.presentationConfig.credential.type.join(", ")),F(3),Zw(" ",n.presentationConfig.rpName," requires you to present the entire ",n.presentationConfig.credential.type.join(", ")," credential. Please make sure you are comfortable sharing this data with ",n.presentationConfig.rpName,"."),F(2),m1("You will be able to review the data before you present it to ",n.presentationConfig.rpName,".")}}function Gh0(t,e){if(t&1&&(v(0,"div",19),v0(1,"i",20),C(2," Decrypted"),v(3,"span",21),C(4,":"),v0(5,"app-tooltip",22),b(),C(6),b()),t&2){let n=b0(2);F(5),Gt("message","",n.presentationConfig.rpName," require these credentials to be decrypted and sent in Plain Text. Make sure you are happy to share this data with ",n.presentationConfig.rpName,""),F(1),m1(" ",n.presentationConfig.require.plainText.join(", ")," ")}}function qh0(t,e){if(t&1&&(v(0,"div",23),v0(1,"i",24),C(2," Encrypted"),v(3,"span",21),C(4,":"),v0(5,"app-tooltip",25),b(),C(6),b()),t&2){let n=b0(2);F(5),cd("message","These credentials are only required in their encrypted form. ",n.presentationConfig.rpName," will be unable to know the contents."),F(1),m1(" ",n.presentationConfig.require.proofOf==null?null:n.presentationConfig.require.proofOf.join(", ")," ")}}function Wh0(t,e){if(t&1&&(v(0,"div",26),v0(1,"i",27),C(2," Predicate"),v(3,"span",21),C(4,":"),v0(5,"app-tooltip",25),b(),C(6),b()),t&2){let n=b0(2),r;F(5),Gt("message","",n.presentationConfig.rpName," require proof that specific conditions are met, without disclosing the actual data. You will be required to decrypt these credentials but they will not be sent to ",n.presentationConfig.rpName,""),F(1),m1(" ",(r=n.formatPredicates(n.presentationConfig.require.predicate))==null?null:r.join(", ")," ")}}function $h0(t,e){if(t&1&&(M4(0),v(1,"ul",15)(2,"li"),C(3,"Credential: "),v(4,"b"),C(5),b()()(),D0(6,Gh0,7,3,"div",16)(7,qh0,7,2,"div",17)(8,Wh0,7,3,"div",18),C4()),t&2){let n=b0();F(5),W0(n.presentationConfig.credential.type.join(", ")),F(1),Y("ngIf",n.presentationConfig.require.plainText),F(1),Y("ngIf",n.presentationConfig.require.proofOf),F(1),Y("ngIf",n.presentationConfig.require.predicate)}}function Kh0(t,e){t&1&&v0(0,"i",28)}var OW=(()=>{let e=class e{constructor(r,i,s,a,o,c){this.router=r,this.wideStorageService=i,this.httpClient=s,this.web3WalletService=a,this.toastNotificationService=o,this.credentialHelperService=c,this.domainOrigin="",this.presentationConfig=null,this.pageLoaded=!1,this.isProcessing=!1}ngOnInit(){let r=history.state;this.domainOrigin=r.domainOrigin,this.presentationConfig=r.presentationConfig,this.pageLoaded=!0}formatPredicates(r){return r?r.map(i=>`${i.property} ${i.op} '${i.value}'`):null}reject(){window.location.href=this.presentationConfig.rejectUri??this.presentationConfig.sourceUri}prepareRequest(){return y0(this,null,function*(){if(this.web3WalletService.isConnectedToWallet()){let r=yield this.web3WalletService.getAccount();r?(this.isProcessing=!0,yield this.wideStorageService.getUserIssuedCredentials(r).subscribe({next:i=>y0(this,null,function*(){let s=i.body;if(i.status==204)this.toastNotificationService.info("Loading credentials",`No credentials found for ${r}`),this.isProcessing=!1;else{let a=this.credentialHelperService.findMatchingCredentials(s,this.presentationConfig.credential,!0);if(a.length==0)this.toastNotificationService.error("No credentials found",`No matching credentials found (${this.presentationConfig.credential.type.join(", ")})`),this.isProcessing=!1,console.error(`No matching credentials found (${this.presentationConfig.credential.type.join(", ")})`);else if(a.length>1)this.toastNotificationService.info("Multiple credentials found",`Multiple credentials matching (${this.presentationConfig.credential.type.join(", ")}) found. Please identify the one to present!`),this.isProcessing=!1,this.router.navigateByUrl("present/multi-select",{state:{credentialList:a,presentationConfig:this.presentationConfig,domainOrigin:this.domainOrigin}});else{let o=a[0],c=yield this.credentialHelperService.getCredentialsForIssuer(r,o.wideInternalId),l=yield this.credentialHelperService.decryptCredential(c.payload),h=yield this.credentialHelperService.processCredential(o,c,l,this.presentationConfig);this.router.navigateByUrl("present/confirm",{state:{processedCredential:h,presentationConfig:this.presentationConfig,domainOrigin:this.domainOrigin}})}}}),error:i=>{this.toastNotificationService.error(i.statusText,`Failed to load credentials (${i.status})`),console.error("Failed to load credentials",i),this.isProcessing=!1}})):(this.toastNotificationService.error("Unexpected Error","Failed to retrieve account address from MetaMask"),console.error("Cannot retrieve account from metamask"))}else this.toastNotificationService.error("Unexpected Error","Failed to connect to MetaMask"),console.error("Not connected to metamask!")})}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(h4),m0(Q3),m0(K2),m0(T2),m0(ne))},e.\u0275cmp=n1({type:e,selectors:[["app-presentation-request"]],standalone:!0,features:[r1],decls:24,vars:6,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","logo-wrapper",4,"ngIf"],[1,"align-justify"],[1,"align-left"],[1,"credentials-panel"],[4,"ngIf"],[1,"buttons","vertical"],[3,"click"],["class","spinner mdi mdi-loading rotate-mdi",4,"ngIf"],[1,"btn","btn-lg",3,"click"],[1,"logo","logo-rp",3,"src"],[1,"info"],[1,"mdi","mdi-alert","text-white"],[1,"credentials-header"],["class","credential-enumeration decrypted-credentials",4,"ngIf"],["class","credential-enumeration encrypted-credentials",4,"ngIf"],["class","credential-enumeration predicate-credentials",4,"ngIf"],[1,"credential-enumeration","decrypted-credentials"],[1,"mdi","mdi-lock-open-check","text-coral"],[1,"separator"],[3,"message"],[1,"credential-enumeration","encrypted-credentials"],[1,"mdi","mdi-lock","text-coral"],["position","bottom",3,"message"],[1,"credential-enumeration","predicate-credentials"],[1,"mdi","mdi-function-variant","text-coral"],[1,"spinner","mdi","mdi-loading","rotate-mdi"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Credentials Presentation Request"),b(),D0(5,jh0,2,1,"div",3),v(6,"p",4)(7,"b"),C(8),b(),C(9," is requesting you to present credentials"),b(),v(10,"p",5),C(11,"Here is what "),v(12,"b"),C(13),b(),C(14," are requesting:"),b(),v(15,"div",6),D0(16,Uh0,11,5,"ng-container",7)(17,$h0,9,4,"ng-container",7),b(),v(18,"div",8)(19,"button",9),f0("click",function(){return s.prepareRequest()}),D0(20,Kh0,1,0,"i",10),C(21," Proceed"),b(),v(22,"a",11),f0("click",function(){return s.reject()}),C(23,"Reject"),b()()()),i&2&&(F(5),Y("ngIf",s.presentationConfig.logoUri),F(3),W0(s.presentationConfig.rpName),F(5),W0(s.presentationConfig.rpName),F(3),Y("ngIf",!s.presentationConfig.require),F(1),Y("ngIf",s.presentationConfig.require),F(3),Y("ngIf",s.isProcessing))},dependencies:[s1,J1,Nv],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;background:#FAF7F6;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   p.align-left[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]{background:#FFF;width:100%;padding:25px;text-align:left;border-radius:5px;margin-bottom:40px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin-top:0;list-style-type:none}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{position:relative;margin-right:10px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   app-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credential-enumeration[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-message[_ngcontent-%COMP%]{background:#F2F7FF;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-panel[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.encrypted[_ngcontent-%COMP%]{color:#ff7872}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.decrypted[_ngcontent-%COMP%]{color:#77d058}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ff7872}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.buttons.vertical[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]{background:#8AB9FF;padding:10px;border-radius:5px;color:#fff;text-align:justify}']});let t=e;return t})();function Qh0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",17),b()),t&2){let n=b0();F(1),Y("src",n.presentationConfig.logoUri,M3)}}function Yh0(t,e){t&1&&v0(0,"i",24)}function Jh0(t,e){t&1&&v0(0,"i",25)}function Xh0(t,e){t&1&&v0(0,"i",26)}function eu0(t,e){if(t&1&&(v(0,"li"),D0(1,Yh0,1,0,"i",21)(2,Jh0,1,0,"i",22)(3,Xh0,1,0,"i",23),v(4,"span")(5,"b"),C(6),b(),C(7),b()()),t&2){let n=e.$implicit,r=b0(2);F(1),Y("ngIf",n.type==="plainText"),F(1),Y("ngIf",n.type==="proof"),F(1),Y("ngIf",n.type==="predicate"),F(3),W0(n.name),F(1),m1(": ",r.truncatePredicateValue(n),"")}}function tu0(t,e){if(t&1&&(v(0,"div",18)(1,"ul",19)(2,"li")(3,"b"),C(4,"Verifier"),b(),C(5),b(),v(6,"li")(7,"b"),C(8,"Timestamp"),b(),C(9),E2(10,"date"),b(),D0(11,eu0,8,5,"li",20),b()()),t&2){let n=b0();F(5),m1(": ",n.processedCredential.credentialSubject.requestedBy,""),F(4),m1(": ",E7(10,3,n.processedCredential.issuanceDate,"dd-MMM-yyyy HH:mm"),""),F(2),Y("ngForOf",n.processedCredential.credentialSubject.issuerDomains[0].data.credentials)}}function nu0(t,e){t&1&&(v(0,"span"),v0(1,"i",27),C(2," Presenting Credentials"),b())}function ru0(t,e){t&1&&(v(0,"span"),C(1,"Present Credentials"),b())}function iu0(t,e){if(t&1&&(v(0,"div",28)(1,"h3"),C(2,"WIDE Credential Preview"),b(),v(3,"p"),C(4,"The WIDE Credential that will be presented to Relying Parties is displayed below."),b(),v(5,"div",29)(6,"pre")(7,"p"),C(8),E2(9,"json"),b()()()()),t&2){let n=b0();F(8),W0(n3(9,1,n.processedCredential))}}var FW=(()=>{let e=class e{constructor(r,i,s,a){this.httpClient=r,this.web3WalletService=i,this.toastNotificationService=s,this.historyService=a,this.pageLoaded=!1,this.processedCredential=null,this.presentationConfig=null,this.domainOrigin="",this.showModal=!1,this.isPresenting=!1}ngOnInit(){let{processedCredential:r,presentationConfig:i,domainOrigin:s}=history.state;this.processedCredential=r,this.presentationConfig=i,this.domainOrigin=s,this.pageLoaded=!0}present(){return y0(this,null,function*(){this.isPresenting=!0;let r=this.generateSecureToken(32),i=null;if(this.presentationConfig.requireMessageSignature??!1){let s=this.generatePresentationSignature(this.processedCredential,this.presentationConfig.rpName);i=yield this.web3WalletService.signMessage(s),this.processedCredential.signedMessage=i}this.httpClient.post(this.presentationConfig.serverApiEndpoint,{key:r,data:this.processedCredential}).subscribe({next:s=>{this.historyService.logPresentation({name:this.presentationConfig.rpName,domain:this.presentationConfig.sourceUri,credential:this.presentationConfig.credential,iconUri:this.presentationConfig.iconUri??""}).subscribe({next:a=>{this.isPresenting=!1,window.location.href=`${this.presentationConfig.redirectUri}?token=${r}`},error:a=>{this.isPresenting=!1,console.error("Error registering presentation",a),this.toastNotificationService.error(a.statusText,`Failed to register presentation (${a.status})`)}})},error:s=>{this.isPresenting=!1,console.error("Error uploading data",s),this.toastNotificationService.error(s.statusText,`Failed to present credentials (${s.status})`)}})})}reject(){window.location.href=this.presentationConfig.sourceUri}generatePresentationSignature(r,i){r=JSON.parse(Hv(r));let s=`I, holder of account '${r.credentialSubject.id}' declare that the information below being presented to '${i}' is true and correct:\r
`;return s=`By signing this message, I, holder of Ethereum address ${r.credentialSubject.id}, hereby confirm, represent, and warrant that the data I am sharing through this credential presentation is true, accurate, correct, unaltered, and complete. I understand and agree that the third party I am sharing data with ('${i}') may, and is entitled without further inquiry to, rely and act upon the credential presentation or any data shared herein in deciding whether to provide, or continue to provide, services to me.

    I agree to notify the third party I am sharing data with, in writing before or as soon as reasonably practicable following any information in the credential presentation or any of the data herein ceasing to be true, accurate, correct, and complete.
    
    I confirm that I have the full power and authority to enter into the terms and statements made herein.`,r.credentialSubject.issuerDomains.forEach(a=>{s+=`\r
\r
Source: ${a.label}\r
`,a.data.credentials.forEach(o=>{s+=`- ${o.name}: ${o.value}\r
`})}),s}generateSecureToken(r){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=new Uint8Array(r);window.crypto.getRandomValues(s);let a="";for(let o=0;o<s.length;o++)a+=i.charAt(s[o]%i.length);return a}truncatePredicateValue(r){if(r.type==="proof")return r.value.slice(0,32)+"...";if(Array.isArray(r.value))return r.value.join(", ");if(typeof r.value=="object"){let i=JSON.stringify(r.value),s=30;return i.length>s?`${i.substring(0,s)}...`:i}return r.value}};e.\u0275fac=function(i){return new(i||e)(m0(Q3),m0(K2),m0(T2),m0(g7))},e.\u0275cmp=n1({type:e,selectors:[["app-presentation-confirmation"]],standalone:!0,features:[r1],decls:35,vars:9,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","logo-wrapper",4,"ngIf"],[1,"align-left"],[1,"label"],["class","credentials-panel",4,"ngIf"],[1,"buttons","vertical"],[1,"buttons"],[3,"disabled","click"],[4,"ngIf"],[1,"btn-alt",3,"click"],[1,"btn","btn-lg",3,"click"],[3,"showModal"],["content","","class","processed-credential-details",4,"ngIf"],["buttons",""],[3,"click"],[1,"logo","logo-rp",3,"src"],[1,"credentials-panel"],[1,"credentials-header"],[4,"ngFor","ngForOf"],["class","mdi mdi-lock-open-check text-coral",4,"ngIf"],["class","mdi mdi-lock text-coral",4,"ngIf"],["class","mdi mdi-function-variant text-coral",4,"ngIf"],[1,"mdi","mdi-lock-open-check","text-coral"],[1,"mdi","mdi-lock","text-coral"],[1,"mdi","mdi-function-variant","text-coral"],[1,"spinner","mdi","mdi-loading","rotate-mdi"],["content","",1,"processed-credential-details"],[1,"scrollable","align-left"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Credentials Presentation Request"),b(),D0(5,Qh0,2,1,"div",3),v(6,"p",4),C(7,"Here is what you are about to present to "),v(8,"b"),C(9),b(),C(10,":"),b(),v(11,"p",5)(12,"i"),C(13,"Some data may be truncated in this view for display purposes. You may use the "),v(14,"b"),C(15,"View Raw Data"),b(),C(16," to review the entire data set that will be sent to "),v(17,"b"),C(18),b(),C(19,"."),b()(),D0(20,tu0,12,6,"div",6),v(21,"div",7)(22,"div",8)(23,"button",9),f0("click",function(){return s.present()}),D0(24,nu0,3,0,"span",10)(25,ru0,2,0,"span",10),b(),v(26,"button",11),f0("click",function(){return s.showModal=!0}),C(27,"View Raw Data"),b()(),v(28,"a",12),f0("click",function(){return s.reject()}),C(29,"Reject"),b()()(),v(30,"app-wide-modal",13),D0(31,iu0,10,3,"div",14),v(32,"div",15)(33,"button",16),f0("click",function(){return s.showModal=!1}),C(34,"Close"),b()()()),i&2&&(F(5),Y("ngIf",s.presentationConfig.logoUri),F(4),W0(s.presentationConfig.rpName),F(9),W0(s.presentationConfig.rpName),F(2),Y("ngIf",s.pageLoaded),F(3),Y("disabled",s.isPresenting),F(1),Y("ngIf",s.isPresenting),F(1),Y("ngIf",!s.isPresenting),F(5),Y("showModal",s.showModal),F(1),Y("ngIf",s.processedCredential))},dependencies:[s1,C3,J1,o4,m8,z5],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;background:#FAF7F6;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   p.align-left[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]{background:#FFF;width:100%;padding:25px;text-align:left;border-radius:5px;margin-bottom:40px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.buttons.vertical[_ngcontent-%COMP%]{flex-direction:column}.processed-credential-details[_ngcontent-%COMP%]{max-height:600px;margin-bottom:20px}.processed-credential-details[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;background:#FAF7F6;padding:10px;border-radius:10px}.processed-credential-details[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}']});let t=e;return t})();var su0=["*"],ya=(()=>{let e=class e{constructor(){this.activeStep=0}getClassForStep(r){return r<this.activeStep?"completed":r==this.activeStep?"active":"pending"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-oauth-procedure-ui"]],inputs:{activeStep:"activeStep",provider:"provider"},standalone:!0,features:[r1],ngContentSelectors:su0,decls:39,vars:11,consts:[[1,"sign-in"],[1,"sign-in-steps"],[3,"ngClass"],[1,"spacer","spacer-1"],[1,"spacer","spacer-2"],[1,"spacer","spacer-3"],[1,"spacer","spacer-4"]],template:function(i,s){i&1&&(od(),v(0,"div",0)(1,"div",1)(2,"ul")(3,"li",2)(4,"span"),C(5),b()(),v(6,"li",2),v0(7,"i",3)(8,"i",4)(9,"i",5)(10,"i",6),b(),v(11,"li",2)(12,"span"),C(13),b()(),v(14,"li",2),v0(15,"i",3)(16,"i",4)(17,"i",5)(18,"i",6),b(),v(19,"li",2)(20,"span"),C(21,"You will come back to the WIDE portal"),b()(),v(22,"li",2),v0(23,"i",3)(24,"i",4)(25,"i",5)(26,"i",6),b(),v(27,"li",2)(28,"span"),C(29,"You will encrypt the data"),b()(),v(30,"li",2),v0(31,"i",3)(32,"i",4)(33,"i",5)(34,"i",6),b(),v(35,"li",2)(36,"span"),C(37,"You will confirm upload"),b()()()(),Ka(38),b()),i&2&&(F(3),Y("ngClass",s.getClassForStep(1)),F(2),m1("Start with the ",s.provider," sign in process"),F(1),Y("ngClass",s.getClassForStep(1)),F(5),Y("ngClass",s.getClassForStep(2)),F(2),m1("You will be redirected to sign in with ",s.provider,""),F(1),Y("ngClass",s.getClassForStep(2)),F(5),Y("ngClass",s.getClassForStep(3)),F(3),Y("ngClass",s.getClassForStep(3)),F(5),Y("ngClass",s.getClassForStep(4)),F(3),Y("ngClass",s.getClassForStep(4)),F(5),Y("ngClass",s.getClassForStep(5)))},dependencies:[s1,B4],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}@keyframes _ngcontent-%COMP%_lightUp{0%,to{background:#CBCBCB}25%{background:#FCAB90}}.sign-in[_ngcontent-%COMP%]{background:#FFF;border-radius:15px;text-align:center;padding:25px}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;flex-direction:column}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:15px;text-align:left}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{display:block;width:4px;height:4px;background:#CBCBCB;margin-left:7px;border-radius:50%;margin-top:4px}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:url(/assets/svg/wide_green_tick.svg);margin-right:8px;top:1px;position:relative}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{background:#77D058}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#cbcbcb}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:" ";display:inline-block;width:15px;height:15px;border-radius:100%;background:#FFF;margin-right:8px;margin-left:2px;box-sizing:border-box;border:3px solid #CBCBCB;top:1px;position:relative}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#000;font-weight:600}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:" ";display:inline-block;width:15px;height:15px;border-radius:100%;background:#FCAB90;margin-right:8px;margin-left:2px;top:1px;position:relative}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lightUp 1.5s infinite}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .spacer-1[_ngcontent-%COMP%]{animation-delay:0s}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .spacer-2[_ngcontent-%COMP%]{animation-delay:.25s}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .spacer-3[_ngcontent-%COMP%]{animation-delay:.5s}.sign-in[_ngcontent-%COMP%]   .sign-in-steps[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .spacer-4[_ngcontent-%COMP%]{animation-delay:.75s}']});let t=e;return t})();var za=class{constructor(e){this.http=e}redirectToOAuthProvider(e){window.location.href=e}extractTokenFromCallback(){return null}generateRandomString(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="";for(let i=0;i<e;i++){let s=Math.floor(Math.random()*n.length);r+=n.substring(s,s+1)}return r}generateCodeVerifier(){return this.generateRandomString(128)}generateCodeChallenge(e){return y0(this,null,function*(){let r=new TextEncoder().encode(e),i=yield crypto.subtle.digest("SHA-256",r);return btoa(String.fromCharCode(...new Uint8Array(i))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")})}};var Bv=class extends za{constructor(e){super(e),this.rawData={}}getName(){return"Google"}initiateAuthFlow(){let e=j3.googleOAuth.clientId,n=encodeURIComponent(j3.googleOAuth.redirectUri),r=`https://accounts.google.com/o/oauth2/v2/auth?response_type=token&client_id=${e}&redirect_uri=${n}&prompt=select_account&scope=email profile openid`;super.redirectToOAuthProvider(r)}handleRedirect(){return y0(this,null,function*(){let n=new URLSearchParams(window.location.hash.slice(1)).get("access_token")||this.extractTokenFromCallback();if(n)return yield this.OAuthCallback(n);throw new Error("Failed to retrieve access token")})}OAuthCallback(e){return y0(this,null,function*(){let n=new p6({Authorization:`Bearer ${e}`});try{let r=yield this.http.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:n}).toPromise();return this.rawData=r,r}catch(r){throw console.error("Error fetching Google user info:",r),r}})}getRawData(){return this.rawData}getWideTransformedData(e){let n=this.rawData;return{label:`${n.hd??""} Google Profile`.trim(),id:`${j3.wideDomain}/schemas/oauth/google`,type:(n.hd?[n.hd]:[]).concat(["Google","OAuth"]),issuer:n.hd??"http://www.google.com",issuanceDate:new Date().toISOString(),credentialSubject:{id:e.accountAddress,socialProfile:{type:"OAuth",name:"Google"}}}}};var Zv=class t{static loggerCallback(e,n){switch(e){case _t.Error:console.error(n);return;case _t.Info:console.info(n);return;case _t.Verbose:console.debug(n);return;case _t.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=SS(e,this.browserEnvironment);let n;try{n=window[AS.SessionStorage]}catch{}let r=n?.getItem(_S),i=n?.getItem(ES)?.toLowerCase(),s=i==="true"?!0:i==="false"?!1:void 0,a=c0({},this.config.system.loggerOptions),o=r&&Object.keys(_t).includes(r)?_t[r]:void 0;o&&(a.loggerCallback=t.loggerCallback,a.logLevel=o),s!==void 0&&(a.piiLoggingEnabled=s),this.logger=new CS(a,kS,TS),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};var jv=(()=>{class t extends Zv{getModuleName(){return t.MODULE_NAME}getId(){return t.ID}initialize(){return y0(this,null,function*(){return this.available=typeof window<"u",this.available})}}return t.MODULE_NAME="",t.ID="StandardOperatingContext",t})();function HW(t){return y0(this,null,function*(){let e=new jv(t);return yield e.initialize(),(yield import("./chunk-KPIRLXID.js")).StandardController.createController(e)})}var Ch=class t{static createPublicClientApplication(e){return y0(this,null,function*(){let n=yield HW(e);return new t(e,n)})}constructor(e,n){if(n)this.controller=n;else{let r=new jv(e);this.controller=new PS(r)}}initialize(){return y0(this,null,function*(){return this.controller.initialize()})}acquireTokenPopup(e){return y0(this,null,function*(){return this.controller.acquireTokenPopup(e)})}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(e,n){return y0(this,null,function*(){return this.controller.hydrateCache(e,n)})}clearCache(e){return this.controller.clearCache(e)}};var Uv=(()=>{let e=class e{constructor(){this.msalInstance=new Ch(j3.microsoftOAuth.msalConfig),this.initializationPromise=this.msalInstance.initialize().catch(r=>{throw console.error("Failed to initialize MSAL",r),r})}waitForInitialization(){return y0(this,null,function*(){yield this.initializationPromise})}get instance(){return this.msalInstance}set msalResponse(r){this._msalResponse=r}get msalResponse(){return this._msalResponse}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RW=(()=>{let e=class e extends za{constructor(r,i,s){super(r),this.router=i,this.msalWrapperService=s,this.rawData={}}getName(){return"Microsoft"}initiateAuthFlow(){return y0(this,null,function*(){yield this.msalWrapperService.waitForInitialization();let r=this.msalWrapperService.instance,i={scopes:["openid","profile","User.Read"]};r.loginPopup(i).then(s=>{this.msalWrapperService.msalResponse=s;let a=new URL(j3.microsoftOAuth.msalConfig.auth.redirectUri),o=a.pathname+a.search;this.router.navigateByUrl(o)}).catch(s=>{console.error(s)})})}handleRedirect(){return y0(this,null,function*(){let r=this.msalWrapperService.msalResponse;if(r&&r.accessToken)return yield this.OAuthCallback(r.accessToken);throw this.router.navigateByUrl("credentials/add"),new Error("Failed to retrieve access token")})}OAuthCallback(r){return y0(this,null,function*(){let i=yield this.fetchMicrosoftUserInfo(r);return this.rawData=i,i})}fetchMicrosoftUserInfo(r){return y0(this,null,function*(){let i=new p6({Authorization:`Bearer ${r}`});try{let s=yield this.http.get("https://graph.microsoft.com/v1.0/me",{headers:i}).toPromise();return this.rawData=s,s}catch(s){throw console.error("Error fetching Microsoft user info:",s),s}})}getRawData(){return this.rawData}getWideTransformedData(r){let i=this.rawData;return{label:"Microsoft Profile",id:`${j3.wideDomain}/schemas/oauth/microsoft`,type:["Microsoft","OAuth"],issuer:"http://www.microsoft.com/",issuanceDate:new Date().toISOString(),credentialSubject:{id:r.accountAddress,socialProfile:{type:"OAuth",name:"Microsoft"}}}}};e.\u0275fac=function(i){return new(i||e)(X0(Q3),X0(G1),X0(Uv))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();var Ma=(()=>{let e=class e{constructor(r,i,s){this.router=r,this.http=i,this.msalWrapperService=s}setProviderType(r){switch(r){case"google":this.oauthProvider=new Bv(this.http);break;case"microsoft":this.oauthProvider=new RW(this.http,this.router,this.msalWrapperService);break;default:throw new Error("Unsupported OAuth provider")}}GetName(){if(!this.oauthProvider)throw this.router.navigateByUrl("/"),new Error("OAuth provider is not set");return this.oauthProvider.getName()}initiateAuthFlow(){if(!this.oauthProvider)throw new Error("OAuth provider is not set");this.oauthProvider.initiateAuthFlow()}handleRedirect(){return y0(this,null,function*(){if(!this.oauthProvider)throw new Error("OAuth provider is not set");return yield this.oauthProvider.handleRedirect()})}getData(){if(!this.oauthProvider)throw new Error("OAuth provider is not set");return this.oauthProvider.getRawData()}getWideTransformedData(r){if(!this.oauthProvider)throw new Error("OAuth provider is not set");return this.oauthProvider.getWideTransformedData(r)}};e.\u0275fac=function(i){return new(i||e)(X0(G1),X0(Q3),X0(Uv))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var NW=(()=>{let e=class e{constructor(r,i,s,a){this.router=r,this.route=i,this.navMenuService=s,this.oauthService=a}ngOnInit(){this.route.queryParams.subscribe(r=>{let i=r.type;this.oauthService.setProviderType(i),this.oauthName=this.oauthService.GetName(),this.navMenuService.setPageDetails(`Sign in with ${this.oauthName}`,["Your credentials","Add credentials",`${this.oauthName} sign-in`])})}startOAuthProcess(){this.oauthService.initiateAuthFlow()}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(E5),m0(q3),m0(Ma))},e.\u0275cmp=n1({type:e,selectors:[["app-oauth-signin"]],standalone:!0,features:[r1],decls:7,vars:4,consts:[[1,"content"],[3,"activeStep","provider"],[1,"buttons"],[3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h2"),C(2),b(),v(3,"app-oauth-procedure-ui",1)(4,"div",2)(5,"button",3),f0("click",function(){return s.startOAuthProcess()}),C(6),b()()()()),i&2&&(F(2),m1("Sign in with ",s.oauthName,""),F(1),Y("activeStep",1)("provider",s.oauthName),F(3),m1("Take me to ",s.oauthName,""))},dependencies:[s1,ya],styles:[".content[_ngcontent-%COMP%]{margin-bottom:25px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:25px}"]});let t=e;return t})();function au0(t,e){t&1&&(v(0,"div",8)(1,"p",9),v0(2,"i",10),C(3," Please wait while initialising MetaMask..."),b()())}function ou0(t,e){t&1&&(v(0,"div",8)(1,"p",11),v0(2,"i",12),C(3,"Please connect your wallet!"),b()())}function cu0(t,e){if(t&1){let n=r2();v(0,"button",7),f0("click",function(){x1(n);let i=b0(2);return w1(i.encryptData())}),C(1,"Encrypt"),b()}}function lu0(t,e){if(t&1){let n=r2();v(0,"button",5),f0("click",function(){x1(n);let i=b0(2);return w1(i.showProfileDetailModal=!i.showProfileDetailModal)}),C(1,"Review Credentials"),b()}}function hu0(t,e){if(t&1&&(v(0,"div",8)(1,"h2"),C(2),b(),v(3,"app-oauth-procedure-ui",13)(4,"div",14),D0(5,cu0,2,0,"button",15)(6,lu0,2,0,"button",16),b()()()),t&2){let n=b0();F(2),m1("Sign in with ",n.oauthName,""),F(1),Y("activeStep",4)("provider",n.oauthName),F(2),Y("ngIf",n.profile),F(1),Y("ngIf",n.profile)}}function uu0(t,e){if(t&1&&(v(0,"div",17)(1,"h3"),C(2),b(),v(3,"p"),C(4),b(),v(5,"p"),C(6,"WIDE does not have access to this data."),b(),v(7,"div",18)(8,"pre")(9,"p"),C(10),E2(11,"json"),b()()()()),t&2){let n=b0();F(2),m1("",n.oauthName," Profile Data"),F(2),m1("This is the raw data you received from ",n.oauthName,"."),F(6),W0(n3(11,3,n.profile))}}function du0(t,e){if(t&1&&(v(0,"tr")(1,"td"),C(2),b(),v(3,"td"),C(4),b()()),t&2){let n=e.$implicit;F(2),W0(n.key),F(2),W0(n.value)}}function pu0(t,e){if(t&1&&(v(0,"div",19)(1,"h3"),C(2),b(),v(3,"p"),C(4),b(),v(5,"p"),C(6,"WIDE does not have access to this data."),b(),v(7,"div",18)(8,"table")(9,"tr")(10,"th"),C(11,"Property"),b(),v(12,"th"),C(13,"Value"),b()(),D0(14,du0,5,2,"tr",20),E2(15,"keyvalue"),b()()()),t&2){let n=b0();F(2),m1("",n.oauthName," Profile Data"),F(2),m1("This is the data you received from ",n.oauthName,"."),F(10),Y("ngForOf",n3(15,3,n.profile))}}function mu0(t,e){t&1&&(v(0,"span"),C(1,"Show Data"),b())}function fu0(t,e){t&1&&(v(0,"span"),C(1,"Show Raw"),b())}var BW=(()=>{let e=class e{constructor(r,i,s,a,o,c,l){this.router=r,this.route=i,this.oauthService=s,this.httpClient=a,this.navMenuService=o,this.web3WalletService=c,this.toastNotificationService=l,this.showProfileDetailModal=!1,this.profile=null,this.showProfileDetailModalRawData=!1}ngOnInit(){this.route.params.subscribe(r=>{let i=r.source;this.oauthService.setProviderType(i),this.oauthName=this.oauthService.GetName(),this.navMenuService.setPageDetails(`Signed in with ${this.oauthName}`,["Your credentials","Add credentials",`${this.oauthName} sign-in`]),this.oauthService.handleRedirect().then(s=>{this.profile=s,this.showProfileDetailModal=!0}).catch(s=>console.error(s))})}closeModal(){this.showProfileDetailModal=!1}encryptData(){return y0(this,null,function*(){let r=yield this.web3WalletService.getAccount();if(!r){this.toastNotificationService.error("Error","Cannot find wallet address");return}let i=this.oauthService.getWideTransformedData({accountAddress:r}),s=yield this.web3WalletService.encryptPayload(this.oauthService.getData());if(!s)console.log("Unable to encrypt"),this.toastNotificationService.error("Error","Unable to encrypt your data");else{this.toastNotificationService.info("Success","Successfully encrypted your data");let a={state:{accountAddress:r,issuer:i,rawDataHash:this.web3WalletService.hashDataKeccak256(this.profile),encryptedData:s}};this.router.navigate(["credentials/oauth/store"],a)}})}getWeb3WalletService(){return this.web3WalletService}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(E5),m0(Ma),m0(Q3),m0(q3),m0(K2),m0(T2))},e.\u0275cmp=n1({type:e,selectors:[["app-oauth-redirect"]],standalone:!0,features:[r1],decls:12,vars:8,consts:[["class","content",4,"ngIf"],[3,"showModal"],["content","","class","google-credentials raw",4,"ngIf"],["content","","class","google-credentials",4,"ngIf"],["buttons","",1,"buttons"],[1,"btn-alt",3,"click"],[4,"ngIf"],[3,"click"],[1,"content"],[1,"info"],[1,"spinner","mdi","mdi-loading","rotate-mdi"],[1,"error"],[1,"mdi","mdi-alert-circle-outline"],[3,"activeStep","provider"],[1,"buttons"],[3,"click",4,"ngIf"],["class","btn-alt",3,"click",4,"ngIf"],["content","",1,"google-credentials","raw"],[1,"scrollable"],["content","",1,"google-credentials"],[4,"ngFor","ngForOf"]],template:function(i,s){i&1&&(D0(0,au0,4,0,"div",0)(1,ou0,4,0,"div",0)(2,hu0,7,5,"div",0),v(3,"app-wide-modal",1),D0(4,uu0,12,5,"div",2)(5,pu0,16,5,"div",3),v(6,"div",4)(7,"button",5),f0("click",function(){return s.showProfileDetailModalRawData=!s.showProfileDetailModalRawData}),D0(8,mu0,2,0,"span",6)(9,fu0,2,0,"span",6),b(),v(10,"button",7),f0("click",function(){return s.closeModal()}),C(11,"Close"),b()()()),i&2&&(Y("ngIf",s.getWeb3WalletService().isCheckingMetaMask()),F(1),Y("ngIf",!s.getWeb3WalletService().isConnectedToWallet()&&!s.getWeb3WalletService().isCheckingMetaMask()),F(1),Y("ngIf",s.getWeb3WalletService().isConnectedToWallet()),F(1),Y("showModal",s.showProfileDetailModal),F(1),Y("ngIf",s.showProfileDetailModalRawData),F(1),Y("ngIf",!s.showProfileDetailModalRawData),F(3),Y("ngIf",s.showProfileDetailModalRawData),F(1),Y("ngIf",!s.showProfileDetailModalRawData))},dependencies:[s1,C3,J1,o4,Qr,ya,z5],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{margin-bottom:25px}.buttons[_ngcontent-%COMP%]{margin-top:25px;display:flex;gap:15px;align-items:center;justify-content:center}.google-credentials[_ngcontent-%COMP%]{max-height:600px;margin-bottom:20px}.google-credentials[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;background:#FAF7F6;padding:10px;border-radius:10px}.google-credentials[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.google-credentials[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.google-credentials[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .google-credentials[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}']});let t=e;return t})();function gu0(t,e){t&1&&v0(0,"i",17)}function vu0(t,e){t&1&&(v(0,"span"),C(1,"Upload to WIDE"),b())}function bu0(t,e){if(t&1){let n=r2();v(0,"button",14),f0("click",function(){x1(n);let i=b0();return w1(i.uploadData())}),D0(1,gu0,1,0,"i",15)(2,vu0,2,0,"span",16),b()}if(t&2){let n=b0();F(1),Y("ngIf",n.uploading),F(1),Y("ngIf",!n.uploading)}}function xu0(t,e){if(t&1){let n=r2();v(0,"button",18),f0("click",function(){x1(n);let i=b0();return w1(i.toggleDataDetailModal())}),C(1,"View Encrypted Data"),b()}}var wu0=()=>["/"];function yu0(t,e){t&1&&(v(0,"button",19),C(1,"Return to Home"),b()),t&2&&Y("routerLink",L3(1,wu0))}var ZW=(()=>{let e=class e{constructor(r,i,s,a,o,c){this.router=r,this.route=i,this.wideStorageService=s,this.navMenuService=a,this.toastNotificationService=o,this.oauthService=c,this.showDataDetailModal=!1,this.activeStep=5,this.uploading=!1,this.data=null}ngOnInit(){this.oauthName=this.oauthService.GetName(),this.navMenuService.setPageDetails(`Sign in with ${this.oauthName}`,["Your credentials","Add credentials",`${this.oauthName} sign-in`]);let r=null;this.router.getCurrentNavigation()?r=this.router.getCurrentNavigation()?.extras.state:r=history.state,r||this.toastNotificationService.error("Catastrophic Error","Unable to retrieve state"),this.data={accountAddress:r.accountAddress,issuer:r.issuer,dataHash:r.rawDataHash,encryptedData:r.encryptedData}}uploadData(){this.uploading=!0,this.data.accountAddress||this.toastNotificationService.error("Error","Unable to retrieve Account Address"),this.data.issuer||this.toastNotificationService.error("Error","Unable to retrieve Issuer Payload"),this.data.dataHash||this.toastNotificationService.error("Error","Unable to retrieve Raw Data Hash"),this.data.encryptedData||this.toastNotificationService.error("Error","Unable to retrieve Encrypted Data"),this.wideStorageService.storeUserCredentials(this.data.accountAddress,this.data.issuer,this.data.dataHash,this.data.encryptedData).subscribe(r=>{this.toastNotificationService.info("Success","Your encrypted data has been stored successfully"),this.router.navigate(["/"])},r=>{this.toastNotificationService.error("Error","Failed to store your encrypted data"),console.error(r),this.router.navigate(["/"])})}toggleDataDetailModal(){this.showDataDetailModal=!this.showDataDetailModal}closeModal(){this.showDataDetailModal=!1}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(E5),m0(h4),m0(q3),m0(T2),m0(Ma))},e.\u0275cmp=n1({type:e,selectors:[["app-oauth-store"]],standalone:!0,features:[r1],decls:31,vars:11,consts:[[1,"content"],[3,"activeStep","provider"],[1,"custom-label"],[1,"info"],[1,"mdi","mdi-alert"],["id","textbox","label","Credential Name","name","textbox",3,"ngModel","ngModelChange"],[1,"buttons"],[3,"click",4,"ngIf"],["class","btn-alt",3,"click",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"showModal"],["content","",1,"oauth-credentials"],[1,"scrollable"],["buttons",""],[3,"click"],["class","mdi mdi-loading rotate-mdi",4,"ngIf"],[4,"ngIf"],[1,"mdi","mdi-loading","rotate-mdi"],[1,"btn-alt",3,"click"],[3,"routerLink"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h2"),C(2),b(),v(3,"app-oauth-procedure-ui",1)(4,"div",2)(5,"h3"),C(6,"Name your Credential"),b(),v(7,"p",3),v0(8,"i",4),C(9," This Data will be shared with WIDE. Please DO NOT put in sensitive information!"),b(),v(10,"p"),C(11,"If you would like to identify this credential more easily, please update its name"),b(),v(12,"app-wide-input",5),f0("ngModelChange",function(o){return s.data.issuer.label=o}),b()(),v(13,"div",6),D0(14,bu0,3,2,"button",7)(15,xu0,2,0,"button",8)(16,yu0,2,2,"button",9),b()()(),v(17,"app-wide-modal",10)(18,"div",11)(19,"h3"),C(20,"Encrypted Data"),b(),v(21,"p"),C(22,"This is the raw data that will be sent to WIDE"),b(),v(23,"div",12)(24,"pre")(25,"p"),C(26),E2(27,"json"),b()()()(),v(28,"div",13)(29,"button",14),f0("click",function(){return s.closeModal()}),C(30,"Close"),b()()()),i&2&&(F(2),m1("Sign in with ",s.oauthName,""),F(1),Y("activeStep",s.activeStep)("provider",s.oauthName),F(9),Y("ngModel",s.data.issuer.label),F(2),Y("ngIf",s.activeStep==5),F(1),Y("ngIf",s.activeStep==5),F(1),Y("ngIf",s.activeStep==6),F(1),Y("showModal",s.showDataDetailModal),F(9),W0(n3(27,9,s.data)))},dependencies:[s1,J1,o4,ya,z5,w8,L9,ze,ui,b8],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{margin-bottom:25px}.buttons[_ngcontent-%COMP%]{margin-top:25px;display:flex;gap:15px;align-items:center;justify-content:center}.oauth-credentials[_ngcontent-%COMP%]{max-height:600px;margin-bottom:20px}.oauth-credentials[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;background:#FAF7F6;padding:10px;border-radius:10px}.oauth-credentials[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.custom-label[_ngcontent-%COMP%]{margin-top:25px;padding:50px;border-radius:15px;text-align:left;box-shadow:0 3px 8px #3e1b071a}.info[_ngcontent-%COMP%]{background:#8AB9FF;color:#faf7f6;padding:5px;border-radius:5px;display:inline-block}']});let t=e;return t})();function zu0(t,e){if(t&1){let n=r2();v(0,"div",12)(1,"p"),C(2,"Your private history key as not yet been configured."),b(),v(3,"button",13),f0("click",function(){x1(n);let i=b0();return w1(i.setupHistoryKey())}),C(4,"Click here to Setup"),b()()}}function Mu0(t,e){if(t&1&&(v(0,"div",14)(1,"div",15)(2,"div",16),v0(3,"img",17),b(),v(4,"div",18),C(5),b(),v(6,"div",19),C(7),b(),v(8,"div",20),C(9),E2(10,"date"),b(),v0(11,"div",21),b()()),t&2){let n=e.$implicit,r=b0();F(3),Y("src",r.getRpIcon(n.jsonData),M3),F(2),m1(" ",n.jsonData.name," "),F(2),m1(" ",n.jsonData.credential.type.join(", ")," "),F(2),W0(E7(10,4,n.timestamp,"dd-MMM-yyyy HH:mm"))}}function Cu0(t,e){t&1&&(v(0,"div",22)(1,"p",23),v0(2,"i",24),C(3,"It looks like your history is empty!"),b()())}var jW=(()=>{let e=class e{constructor(r,i,s,a){this.historyService=r,this.web3WalletService=i,this.toastNotificationService=s,this.navMenuService=a,this.historyRecords=[],this.hasKey=!1,this.subscribeToWalletConnection()}ngOnInit(){return y0(this,null,function*(){this.navMenuService.setPageDetails("History",[]),yield this.subscribeToWalletConnection()})}subscribeToWalletConnection(){return y0(this,null,function*(){yield this.web3WalletService.connectedToWallet$.subscribe(r=>y0(this,null,function*(){r&&this.refreshHistory()}))})}refreshHistory(){return y0(this,null,function*(){let r=yield $3(this.historyService.getHistory());this.historyRecords=r.data,console.log("historyRecords",this.historyRecords),this.hasKey=r.hasKey})}setupHistoryKey(){return y0(this,null,function*(){let i=(yield $3(this.historyService.getHistoryMessage())).message,s=yield this.web3WalletService.signMessage(i);if(!s){this.toastNotificationService.error("History Key","Unable to sign message");return}let a=yield $3(this.historyService.setHistoryKey(s));a.success?(this.hasKey=!0,this.toastNotificationService.info("History Key",a.message)):this.toastNotificationService.error("History Key",a.message)})}getRpIcon(r){return r.iconUri?r.iconUri:`${r.domain}/favicon.ico`}};e.\u0275fac=function(i){return new(i||e)(m0(g7),m0(K2),m0(T2),m0(q3))},e.\u0275cmp=n1({type:e,selectors:[["app-history"]],standalone:!0,features:[r1],decls:17,vars:3,consts:[[1,"main"],["class","message",4,"ngIf"],[1,"history-records"],[1,"history-listing"],[1,"header"],[1,"label","w-5"],[1,"label","w-20"],[1,"label","w-40"],[1,"label","w-15"],[1,"label","w-25"],["class","history",4,"ngFor","ngForOf"],["class","panel-message info",4,"ngIf"],[1,"message"],[1,"btn-white-outline","btn-xs",3,"click"],[1,"history"],[1,"history-header"],[1,"w-5"],["_ngcontent-ng-c3367166150","","width","32","height","32",3,"src"],[1,"w-20"],[1,"w-40"],[1,"w-15"],[1,"w-25"],[1,"panel-message","info"],[1,"info"],[1,"mdi","mdi-alert-circle-outline"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h2"),C(2,"Presentation History"),b(),D0(3,zu0,5,0,"div",1),v(4,"div",2)(5,"div",3)(6,"div",4),v0(7,"div",5),v(8,"div",6),C(9,"Name"),b(),v(10,"div",7),C(11,"Credential Type"),b(),v(12,"div",8),C(13,"Presented On"),b(),v0(14,"div",9),b()(),D0(15,Mu0,12,7,"div",10)(16,Cu0,4,0,"div",11),b()()),i&2&&(F(3),Y("ngIf",!s.hasKey),F(12),Y("ngForOf",s.historyRecords),F(1),Y("ngIf",s.historyRecords.length<=0))},dependencies:[s1,C3,J1,m8],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:15px;background:linear-gradient(60deg,#FFC586,25%,#FF7872,75%,#F57F9F);color:#faf7f6;border-radius:15px;margin-bottom:15px;display:flex;gap:20px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]{position:relative;background:#FFF;border-radius:15px;padding:10px 25px;min-height:250px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history-property[_ngcontent-%COMP%]{color:#727272;display:flex;align-items:center;height:40px;padding-left:15px;padding-right:15px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history-property[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]{border-radius:10px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history.expanded[_ngcontent-%COMP%]{box-shadow:0 3px 8px #3e1b071a;margin-bottom:15px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]{color:#000;height:60px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .cred-arrow[_ngcontent-%COMP%]{cursor:pointer}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .cred-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .cred-arrow.expanded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(0)}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .issuer-label[_ngcontent-%COMP%]{cursor:pointer}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-expanded[_ngcontent-%COMP%]{color:#000;background:rgba(250,247,246,.5019607843);padding-top:25px;padding-bottom:25px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .history[_ngcontent-%COMP%]   .history-expanded[_ngcontent-%COMP%]   .history-property[_ngcontent-%COMP%]{color:#000}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .panel-message[_ngcontent-%COMP%]{width:100%;position:relative;display:inline-block;text-align:center;top:90px;border-radius:5px}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .panel-message.info[_ngcontent-%COMP%]{background:#8AB9FF;color:#fff}.main[_ngcontent-%COMP%]   .history-records[_ngcontent-%COMP%]   .panel-message.error[_ngcontent-%COMP%]{background:#FF7872;color:#fff}.main[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:30px}']});let t=e;return t})();var UW=(()=>{let e=class e{transform(r){if(!r)return r;let i=r.replace(/([A-Z]+)([A-Z][a-z]|$)/g,(s,a,o,c)=>`${c>0?" ":""}${a.length>1?a:a.toLowerCase()}${o.length>1?" "+o:o}`);return i=i.replace(/(.)([A-Z][a-z])/g,"$1 $2"),i=i.charAt(0).toUpperCase()+i.slice(1),i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=z9({name:"capitalizeCamelCase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ah=(()=>{let e=class e{transform(r){return new Date(r*1e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=z9({name:"unixTimestamp",type:e,pure:!0,standalone:!0});let t=e;return t})();function Au0(t,e){if(t&1&&(v(0,"div",1)(1,"div",2),C(2),E2(3,"capitalizeCamelCase"),b(),v(4,"div",3),C(5),b()()),t&2){let n=e.$implicit;F(2),W0(n3(3,2,n.trait_type)),F(3),W0(n.value)}}var Gv=(()=>{let e=class e{constructor(){this.provider=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n1({type:e,selectors:[["app-poap-detail"]],inputs:{poap:"poap",provider:"provider"},standalone:!0,features:[r1],decls:43,vars:17,consts:[[1,"poap"],[1,"poap-property"],[1,"w-20","align-left"],[1,"w-80","align-left"],["width","150",3,"src"],["target","_blank",3,"href"],["class","poap-property",4,"ngFor","ngForOf"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"div",2),C(3,"Id"),b(),v(4,"div",3),C(5),b()(),v(6,"div",1)(7,"div",2),C(8,"Name"),b(),v(9,"div",3),C(10),b()(),v(11,"div",1)(12,"div",2),v0(13,"img",4),b(),v(14,"div",3)(15,"p"),C(16),b(),v(17,"p"),C(18,"POAP Url: "),v(19,"a",5),C(20),b()(),v(21,"p"),C(22,"Metadata Source: "),v(23,"a",5),C(24),b()()()(),v(25,"div",1)(26,"div",2),C(27,"Minted On"),b(),v(28,"div",3),C(29),E2(30,"date"),E2(31,"unixTimestamp"),b()(),v(32,"div",1)(33,"div",2),C(34,"Year"),b(),v(35,"div",3),C(36),b()(),v(37,"div",1)(38,"div",2),C(39,"Tags"),b(),v(40,"div",3),C(41),b()(),D0(42,Au0,6,4,"div",6),b()),i&2&&(F(5),W0(s.poap.id),F(5),W0(s.poap.data.name),F(3),Y("src",s.poap.data.image_url,M3),F(3),W0(s.poap.data.description),F(3),Y("href",s.poap.data.home_url,M3),F(1),W0(s.poap.data.home_url),F(3),Y("href",s.poap.data.external_url,M3),F(1),W0(s.poap.data.external_url),F(5),W0(E7(30,12,n3(31,15,s.poap.created),"dd-MMM-yyyy HH:mm")),F(7),W0(s.poap.data.year),F(5),W0(s.poap.data.tags.join(", ")),F(1),Y("ngForOf",s.poap.data.attributes))},dependencies:[s1,C3,m8,UW,Ah],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.poap[_ngcontent-%COMP%]{color:#000;padding-top:25px;padding-bottom:25px}.poap[_ngcontent-%COMP%]   .poap-property[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center;padding:5px 15px}.poap[_ngcontent-%COMP%]   .poap-property[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left}']});let t=e;return t})();Pv();var qv=(()=>{let e=class e{constructor(r){this.http=r,this.xDAIProvider=new lr.providers.JsonRpcProvider("https://rpc.coinsdo.net/xdai"),this.contractAddress="0x22C1f6050E56d2876009903609a2cC3fEf83B415",this.contractABI=[{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}]}getPoapsOwned(r,i){let s="";switch(r=r.toLocaleLowerCase(),i.toLocaleLowerCase()){case"mainnet":s="https://api.thegraph.com/subgraphs/name/poap-xyz/poap";break;case"xdai":s="https://api.thegraph.com/subgraphs/name/poap-xyz/poap-xdai";break;default:throw new Error("Invalid Network")}let a=new p6().set("Content-Type","application/json"),o={query:`{
        accounts(where: {id: "${r}"}) {
          id
          tokens {
            id,
            created,
            mintOrder,
            transferCount,
            transfers {
              id,
              from {
                  id
              },
              to {
                  id
              },
              timestamp,
              transaction
            },
            event {
              id,
              created,
              tokenCount,
              tokenMints,
              transferCount
            }
          }
          tokensOwned
        }
      }`};return this.http.post(s,JSON.stringify(o),{headers:a})}getTokenUri(r){return y0(this,null,function*(){let i=new lr.Contract(this.contractAddress,this.contractABI,this.xDAIProvider);try{return yield i.tokenURI(r)}catch(s){throw console.error("Error fetching token URI:",s),s}})}};e.\u0275fac=function(i){return new(i||e)(X0(Q3))},e.\u0275prov=J0({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _u0(t,e){if(t&1&&(v(0,"div",1),v0(1,"i",2),C(2),b()),t&2){let n=b0();F(2),m1(" Fetching data for POAP ",n.poap.id,`
`)}}function Eu0(t,e){if(t&1&&(v(0,"div",16),v0(1,"app-poap-detail",17),b()),t&2){let n=b0(2);F(1),Y("poap",n.poap)("provider",n.provider)}}function Su0(t,e){if(t&1){let n=r2();v(0,"div",1)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),f0("click",function(){x1(n);let i=b0();return w1(i.expand(i.poap))}),v0(5,"img",7),b()(),v(6,"div",8),f0("click",function(){x1(n);let i=b0();return w1(i.expand(i.poap))}),C(7),E2(8,"date"),E2(9,"unixTimestamp"),b(),v(10,"div",9),f0("click",function(){x1(n);let i=b0();return w1(i.expand(i.poap))}),C(11),b(),v(12,"div",10)(13,"span",11)(14,"a",12),v0(15,"i",13),b()(),v(16,"button",14),f0("click",function(){x1(n);let i=b0();return w1(i.claimPoap(i.poap))}),C(17,"Import"),b()()(),D0(18,Eu0,2,2,"div",15),b()()}if(t&2){let n=b0();F(1),Y("ngClass",n.poap.expanded?"expanded":""),F(3),Y("ngClass",n.poap.expanded?"expanded":""),F(3),m1(" ",E7(8,6,n3(9,9,n.poap.created),"dd-MMM-yyyy HH:mm")," "),F(4),m1(" ",n.poap.data.name," "),F(3),Y("href",n.poap.data.home_url,M3),F(4),Y("ngIf",n.poap.expanded)}}var qW=(()=>{let e=class e{constructor(r,i,s,a,o,c){this.navMenuService=r,this.router=i,this.http=s,this.poapService=a,this.toastNotificationService=o,this.web3WalletService=c,this.provider=""}ngOnInit(){return y0(this,null,function*(){this.navMenuService.setPageDetails("Claim POAP",["Your credentials","Add credentials","Claim POAP"]),this.poap.data||this.poapService.getTokenUri(this.poap.id).then(r=>y0(this,null,function*(){this.poap.data=yield $3(this.http.get(r))})).catch(r=>{console.error("getTokenUri failed",r)})})}expand(r){return y0(this,null,function*(){if(!this.poap){this.toastNotificationService.info("Unable to retrieve POAP","Please make sure your wallet is connected first");return}r.expanded===void 0?r.expanded=!0:r.expanded=!r.expanded})}convertObjectToArray(r){return Object.keys(r).map(i=>({key:i,value:r[i]}))}claimPoap(r){return y0(this,null,function*(){let i=yield this.web3WalletService.getAccount();if(!i){this.toastNotificationService.error("Error","Cannot find wallet address");return}let s=this.poap.data.attributes.filter(l=>l.trait_type=="eventURL")[0].value,a={label:`POAP (${this.provider})`.trim(),id:`${j3.wideDomain}/schemas/poap`,type:["POAP",this.provider],issuer:"https://poap.xyz",issuanceDate:new Date().toISOString(),credentialSubject:{id:i,eventId:r.event.id,eventUrl:s}},o=this.transformPoap(r),c=yield this.web3WalletService.encryptPayload(o);if(!c)console.log("Unable to encrypt"),this.toastNotificationService.error("Error","Unable to encrypt your data");else{this.toastNotificationService.info("Success","Successfully encrypted your data");let l={state:{accountAddress:i,issuer:a,rawDataHash:this.web3WalletService.hashDataKeccak256(o),encryptedData:c,poap:this.poap,provider:this.provider}};this.router.navigate(["credentials/poap/store"],l)}})}transformPoap(r){let i=new Ah,s={id:r.id,event_id:r.event.id,name:r.data.name,image_url:r.data.image_url,home_url:r.data.home_url,external_url:r.data.external_url,created:i.transform(r.created),year:r.data.year,tags:r.data.tags,sourceObj:r};return r.data.attributes.forEach(a=>{s[a.trait_type]=a.value}),s}};e.\u0275fac=function(i){return new(i||e)(m0(q3),m0(G1),m0(Q3),m0(qv),m0(T2),m0(K2))},e.\u0275cmp=n1({type:e,selectors:[["app-poap-data"]],inputs:{poap:"poap",provider:"provider"},standalone:!0,features:[r1],decls:2,vars:2,consts:[["class","poap-fetch",4,"ngIf"],[1,"poap-fetch"],[1,"spinner","mdi","mdi-loading","rotate-mdi","text-coral"],[1,"poap",3,"ngClass"],[1,"poap-header"],[1,"w-5"],[1,"poap-arrow",3,"ngClass","click"],["src","/assets/svg/arrow.svg"],[1,"w-20",3,"click"],[1,"w-60","align-left",3,"click"],[1,"w-15"],[1,"link-icon"],["target","_blank",3,"href"],[1,"mdi","mdi-open-in-new","text-coral"],[1,"btn-xs",3,"click"],["class","poap-expanded",4,"ngIf"],[1,"poap-expanded"],[3,"poap","provider"]],template:function(i,s){i&1&&D0(0,_u0,3,1,"div",0)(1,Su0,19,11,"div",0),i&2&&(Y("ngIf",!s.poap.data),F(1),Y("ngIf",s.poap.data))},dependencies:[s1,B4,J1,m8,Gv,Ah],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.poap-fetch[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .poap-fetch[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%], .poap-fetch[_ngcontent-%COMP%]   .poap-property[_ngcontent-%COMP%]{color:#727272;display:flex;align-items:center;padding:5px 15px}.poap-fetch[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .poap-fetch[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .poap-fetch[_ngcontent-%COMP%]   .poap-property[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]{border-radius:10px}.poap-fetch[_ngcontent-%COMP%]   .poap.expanded[_ngcontent-%COMP%]{box-shadow:0 3px 8px #3e1b071a;margin-bottom:15px}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%]{color:#000;height:60px;cursor:pointer}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%]   .poap-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(180deg)}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%]   .poap-arrow.expanded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(0)}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   i.mdi[_ngcontent-%COMP%]{font-size:22px;top:3px;position:relative}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-header[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{margin-right:10px}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-expanded[_ngcontent-%COMP%]{color:#000;background:rgba(250,247,246,.5019607843);padding-bottom:25px;padding-left:5%}.poap-fetch[_ngcontent-%COMP%]   .poap[_ngcontent-%COMP%]   .poap-expanded[_ngcontent-%COMP%]   .poap-property[_ngcontent-%COMP%]{color:#000}']});let t=e;return t})();function ku0(t,e){if(t&1){let n=r2();v(0,"div",3)(1,"p"),C(2,"Select the network to claim your POAP from:"),b(),v(3,"div",4)(4,"div",5)(5,"button",6),f0("click",function(){x1(n);let i=b0();return w1(i.selectProvider("mainnet"))}),C(6,"Ethereum"),b()(),v(7,"div",5)(8,"button",6),f0("click",function(){x1(n);let i=b0();return w1(i.selectProvider("xDAI"))}),C(9,"xDAI"),b()()()()}}function Tu0(t,e){if(t&1&&(M4(0),v(1,"p"),C(2),b(),C4()),t&2){let n=b0(2);F(2),m1("Looking for POAPs issued to your account on ",n.network,"!")}}function Pu0(t,e){if(t&1&&(v(0,"div",11),v0(1,"app-poap-data",12),b()),t&2){let n=e.$implicit,r=b0(3);F(1),Y("poap",n)("provider",r.network)}}function Lu0(t,e){if(t&1&&(M4(0),v(1,"p",9),C(2),b(),D0(3,Pu0,2,2,"div",10),C4()),t&2){let n=b0(2);F(2),Qa("We found ",n.poaps.length," POAPs issued to your account on ",n.network,"!"),F(1),Y("ngForOf",n.poaps)}}function Iu0(t,e){if(t&1&&(v(0,"div",7),D0(1,Tu0,3,1,"ng-container",8)(2,Lu0,4,3,"ng-container",8),b()),t&2){let n=b0();F(1),Y("ngIf",!n.poaps),F(1),Y("ngIf",n.poaps)}}var WW=(()=>{let e=class e{constructor(r,i,s){this.web3WalletService=r,this.navMenuService=i,this.poapService=s,this.network=null}ngOnInit(){this.navMenuService.setPageDetails("Claim POAP",["Your credentials","Add credentials","Claim POAP"])}selectProvider(r){return y0(this,null,function*(){this.network=r;let i=yield this.web3WalletService.getAccount();if(i){let s=yield $3(this.poapService.getPoapsOwned(i,r));this.poaps=s?.data?.accounts[0]?.tokens}})}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(q3),m0(qv))},e.\u0275cmp=n1({type:e,selectors:[["app-poap-start"]],standalone:!0,features:[r1],decls:5,vars:2,consts:[[1,"content"],["class","network-select panel",4,"ngIf"],["class","poap-listing panel",4,"ngIf"],[1,"network-select","panel"],[1,"network-listing"],[1,"network-item"],[1,"btn-alt",3,"click"],[1,"poap-listing","panel"],[4,"ngIf"],[1,"info"],["class","poap-item",4,"ngFor","ngForOf"],[1,"poap-item"],[3,"poap","provider"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"h2"),C(2,"Claim your POAPs"),b(),D0(3,ku0,10,0,"div",1)(4,Iu0,3,2,"div",2),b()),i&2&&(F(3),Y("ngIf",!s.network),F(1),Y("ngIf",s.network))},dependencies:[s1,C3,J1,qW],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.panel[_ngcontent-%COMP%]{background:#FFF;border-radius:15px;text-align:center;padding:25px}.network-select[_ngcontent-%COMP%]   .network-listing[_ngcontent-%COMP%]{margin-top:50px;display:flex;flex-direction:column;gap:25px}']});let t=e;return t})();function Du0(t,e){t&1&&v0(0,"i",16)}function Ou0(t,e){t&1&&(v(0,"span"),C(1,"Upload to WIDE"),b())}var $W=(()=>{let e=class e{constructor(r,i,s,a){this.navMenuService=r,this.router=i,this.toastNotificationService=s,this.wideStorageService=a,this.uploading=!1,this.showDataDetailModal=!1,this.data=null,this.poap=null,this.provider="",this.customLabel=""}ngOnInit(){this.navMenuService.setPageDetails("Claim POAP",["Your credentials","Add credentials","Claim POAP"]);let r=null;this.router.getCurrentNavigation()?r=this.router.getCurrentNavigation()?.extras.state:r=history.state,r||this.toastNotificationService.error("Catastrophic Error","Unable to retrieve state"),this.data={accountAddress:r.accountAddress,issuer:r.issuer,dataHash:r.rawDataHash,encryptedData:r.encryptedData},this.poap=r.poap,this.provider=r.provider}uploadData(){this.uploading=!0,this.data.accountAddress||this.toastNotificationService.error("Error","Unable to retrieve Account Address"),this.data.issuer||this.toastNotificationService.error("Error","Unable to retrieve Issuer Payload"),this.data.dataHash||this.toastNotificationService.error("Error","Unable to retrieve Raw Data Hash"),this.data.encryptedData||this.toastNotificationService.error("Error","Unable to retrieve Encrypted Data"),this.wideStorageService.storeUserCredentials(this.data.accountAddress,this.data.issuer,this.data.dataHash,this.data.encryptedData).subscribe(r=>{this.toastNotificationService.info("Success","Your encrypted data has been stored successfully"),this.router.navigate(["/"])},r=>{this.toastNotificationService.error("Error","Failed to store your encrypted data"),console.error(r),this.router.navigate(["/"])})}};e.\u0275fac=function(i){return new(i||e)(m0(q3),m0(G1),m0(T2),m0(h4))},e.\u0275cmp=n1({type:e,selectors:[["app-poap-store"]],standalone:!0,features:[r1],decls:32,vars:9,consts:[[1,"poap-store"],[1,"poap-details"],[3,"poap","provider"],[1,"poap-label"],[1,"info"],[1,"mdi","mdi-alert"],["id","textbox","label","POAP Name","name","textbox",3,"ngModel","ngModelChange"],[1,"buttons"],[3,"click"],["class","mdi mdi-loading rotate-mdi",4,"ngIf"],[4,"ngIf"],[1,"btn-alt",3,"click"],[3,"showModal"],["content","",1,"poap-credentials"],[1,"scrollable"],["buttons",""],[1,"mdi","mdi-loading","rotate-mdi"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"app-poap-detail",2),b(),v(3,"div",3)(4,"h3"),C(5,"Name your POAP"),b(),v(6,"p",4),v0(7,"i",5),C(8," This Data will be shared with WIDE. Please DO NOT put in sensitive information!"),b(),v(9,"p"),C(10,"If you would like to identify the POAP more easily, please provide a name for your POAP"),b(),v(11,"app-wide-input",6),f0("ngModelChange",function(o){return s.data.issuer.label=o}),b()(),v(12,"div",7)(13,"button",8),f0("click",function(){return s.uploadData()}),D0(14,Du0,1,0,"i",9)(15,Ou0,2,0,"span",10),b(),v(16,"button",11),f0("click",function(){return s.showDataDetailModal=!0}),C(17,"View Encrypted Data"),b()()(),v(18,"app-wide-modal",12)(19,"div",13)(20,"h3"),C(21,"Encrypted Data"),b(),v(22,"p"),C(23,"This is the raw data that will be sent to WIDE"),b(),v(24,"div",14)(25,"pre")(26,"p"),C(27),E2(28,"json"),b()()()(),v(29,"div",15)(30,"button",8),f0("click",function(){return s.showDataDetailModal=!1}),C(31,"Close"),b()()()),i&2&&(F(2),Y("poap",s.poap)("provider",s.provider),F(9),Y("ngModel",s.data.issuer.label),F(3),Y("ngIf",s.uploading),F(1),Y("ngIf",!s.uploading),F(3),Y("showModal",s.showDataDetailModal),F(9),W0(n3(28,7,s.data)))},dependencies:[s1,J1,o4,z5,w8,L9,ze,Gv,ui],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.poap-store[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-bottom:25px}.poap-store[_ngcontent-%COMP%]   .poap-details[_ngcontent-%COMP%]{background:#FFF;padding:50px;border-radius:15px}.poap-store[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px;display:flex;gap:15px;align-items:center;justify-content:center}.poap-store[_ngcontent-%COMP%]   .poap-label[_ngcontent-%COMP%]{margin-top:25px;background:#FFF;padding:50px;border-radius:15px}.poap-credentials[_ngcontent-%COMP%]{max-height:600px;margin-bottom:20px}.poap-credentials[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;background:#FAF7F6;padding:10px;border-radius:10px}.poap-credentials[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.info[_ngcontent-%COMP%]{background:#8AB9FF;color:#faf7f6;padding:5px;border-radius:5px;display:inline-block}']});let t=e;return t})();var KW=(()=>{let e=class e{constructor(r,i,s){this.web3WalletService=r,this.historyService=i,this.router=s,this.showMetaMaskWalletMessage=!1,this.showHistoryKeyMessage=!1,this.accounts=[],this.referrer=""}ngOnInit(){this.referrer=document.referrer}connectWallet(){return y0(this,null,function*(){this.web3WalletService.isMetaMaskInstalled()?yield this.web3WalletService.connect().then(r=>y0(this,null,function*(){r?yield this.web3WalletService.getEthAddresses().then(i=>{i&&i?.length>0?(this.accounts=i,this.historyService.hasHistoryKey().subscribe({next:s=>{s.hasKey?this.router.navigateByUrl("popup/review",{state:{referrer:this.referrer}}):this.showHistoryKeyMessage=!0}})):this.showMetaMaskWalletMessage=!0}).catch(i=>{console.error(i)}):(console.error("Failed to connect to Metamask"),this.showMetaMaskWalletMessage=!0)})):this.showMetaMaskWalletMessage=!0})}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(g7),m0(G1))},e.\u0275cmp=n1({type:e,selectors:[["app-popup-start"]],standalone:!0,features:[r1],decls:14,vars:1,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],[1,"buttons"],[3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Import Credentials to WIDE"),b(),v(5,"p"),C(6),b(),v(7,"p"),C(8,"If you did not trigger this process, please close the popup."),b(),v(9,"p"),C(10,"Please connect your wallet associated with WIDE to proceed or click 'Get Started' to get on board."),b(),v(11,"div",3)(12,"button",4),f0("click",function(){return s.connectWallet()}),C(13,"Connect wallet"),b()()()),i&2&&(F(6),m1("An external provider wants to add a credential to your WIDE account. This request originated from ",s.referrer,"."))},dependencies:[s1],styles:[".content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}"]});let t=e;return t})();function Fu0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",5),b()),t&2){let n=b0();F(1),Y("src",n.config.logoUri,M3)}}function Hu0(t,e){t&1&&(v(0,"div")(1,"p"),C(2,"Waiting for source to send data..."),b()())}function Vu0(t,e){if(t&1&&(v(0,"div",11)(1,"h3"),C(2,"Retrieved Data"),b(),v(3,"p"),C(4,"This is the raw data you received from "),v(5,"b"),C(6),b(),C(7," ("),v(8,"i"),C(9),b(),C(10,")."),b(),v(11,"p"),C(12,"WIDE does not have access to this data."),b(),v(13,"div",12)(14,"pre")(15,"p"),C(16),E2(17,"json"),b()()()()),t&2){let n=b0(2);F(6),W0(n.config.source),F(3),W0(n.referrer),F(7),W0(n3(17,3,n.payload))}}function Ru0(t,e){if(t&1&&(v(0,"tr")(1,"td"),C(2),b(),v(3,"td"),C(4),b()()),t&2){let n=e.$implicit;F(2),W0(n.key),F(2),W0(n.value)}}function Nu0(t,e){if(t&1&&(v(0,"div",13)(1,"h3"),C(2,"Retrieved Data"),b(),v(3,"p"),C(4,"This is the raw data you received from "),v(5,"b"),C(6),b(),C(7," ("),v(8,"i"),C(9),b(),C(10,")."),b(),v(11,"p"),C(12,"WIDE does not have access to this data."),b(),v(13,"div",12)(14,"table")(15,"tr")(16,"th"),C(17,"Property"),b(),v(18,"th"),C(19,"Value"),b()(),D0(20,Ru0,5,2,"tr",14),E2(21,"keyvalue"),b()()()),t&2){let n=b0(2);F(6),W0(n.config.source),F(3),W0(n.referrer),F(11),Y("ngForOf",n3(21,3,n.payload.data))}}function Bu0(t,e){t&1&&(v(0,"span"),C(1,"Show Data"),b())}function Zu0(t,e){t&1&&(v(0,"span"),C(1,"Show Raw"),b())}function ju0(t,e){if(t&1){let n=r2();v(0,"div"),D0(1,Vu0,18,5,"div",6)(2,Nu0,22,5,"div",7),v(3,"div",8)(4,"button",9),f0("click",function(){x1(n);let i=b0();return w1(i.showRawData=!i.showRawData)}),D0(5,Bu0,2,0,"span",4)(6,Zu0,2,0,"span",4),b(),v(7,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.encryptData())}),C(8,"Encrypt"),b()()()}if(t&2){let n=b0();F(1),Y("ngIf",n.showRawData),F(1),Y("ngIf",!n.showRawData),F(3),Y("ngIf",n.showRawData),F(1),Y("ngIf",!n.showRawData)}}function Uu0(t,e){if(t&1){let n=r2();v(0,"div")(1,"div",15)(2,"h3"),C(3,"Credential already exists"),b(),v(4,"p"),C(5,"It looks like you have already a "),v(6,"b"),C(7),b(),C(8," credential imported on WIDE."),b(),v(9,"p"),C(10,"You do not need to continue this process"),b()(),v(11,"div",8)(12,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.cancel("already_exists"))}),C(13,"Close"),b()()()}if(t&2){let n=b0();F(7),W0(n.payload.issuer.label)}}var QW=(()=>{let e=class e{constructor(r,i,s,a,o){this.router=r,this.web3WalletService=i,this.toastNotificationService=s,this.credentialHelperService=a,this.wideStorageService=o,this.waitingForData=!0,this.showRawData=!1,this.referrer="source",this.payload={},this.config={},this.credentialToUpdate=null,this.exists=!1}ngOnInit(){return y0(this,null,function*(){let r=null;this.router.getCurrentNavigation()?r=this.router.getCurrentNavigation()?.extras.state:r=history.state,r?(this.referrer=this.getDomainFromURL(r.referrer),window.addEventListener("message",i=>y0(this,null,function*(){i.origin===this.referrer&&(this.config=i.data.config,this.payload=i.data.payload,this.config.allowMultiples||(this.exists=yield this.checkForExistingCredentials()),this.waitingForData=!1)})),window.opener.postMessage({status:"ready"},this.referrer)):console.error("Failed to retrieve window state")})}cancel(r){window.opener.postMessage({status:r},this.referrer),window.close()}checkForExistingCredentials(){return y0(this,null,function*(){let r=yield this.web3WalletService.getAccount();if(!r)throw this.toastNotificationService.error("Error","Cannot find wallet address"),new Error("Account has not been set!");let i={type:this.payload.issuer.type};return new Promise((s,a)=>{this.wideStorageService.getUserIssuedCredentials(r).subscribe({next:o=>{if(o.status===204)s(!1);else{let c=o.body,l=this.credentialHelperService.findMatchingCredentials(c,i,!0);s(l.length!==0)}},error:o=>{this.toastNotificationService.error(o.statusText,`Failed to load credentials (${o.status})`),console.error("Failed to load credentials",o),a(o)}})})})}encryptData(){return y0(this,null,function*(){let r=yield this.web3WalletService.getAccount();if(!r){this.toastNotificationService.error("Error","Cannot find wallet address");return}let i={label:this.payload.issuer.label,id:`${j3.wideDomain}/schemas/generic`,type:this.payload.issuer.type,issuer:this.payload.issuer.issuer,issuanceDate:new Date().toISOString(),credentialSubject:this.payload.issuer.credentialSubject},s=yield this.web3WalletService.encryptPayload(this.payload.data);if(!s)this.toastNotificationService.error("Error","Unable to encrypt your data");else{this.toastNotificationService.info("Success","Successfully encrypted your data");let a={state:{accountAddress:r,issuer:i,rawDataHash:this.web3WalletService.hashDataKeccak256(this.payload),encryptedData:s,dataSource:this.payload,referrer:this.referrer,config:this.config}};this.router.navigate(["popup/store"],a)}})}getDomainFromURL(r){try{return new URL(r).origin}catch(i){throw console.error("Error parsing URL:",i),i}}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(K2),m0(T2),m0(ne),m0(h4))},e.\u0275cmp=n1({type:e,selectors:[["app-popup-review"]],standalone:!0,features:[r1],decls:9,vars:4,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","logo-wrapper",4,"ngIf"],[4,"ngIf"],[1,"logo","logo-rp",3,"src"],["content","","class","data-panel raw",4,"ngIf"],["content","","class","data-panel formatted",4,"ngIf"],["buttons","",1,"buttons"],[1,"btn-alt",3,"click"],[3,"click"],["content","",1,"data-panel","raw"],[1,"scrollable"],["content","",1,"data-panel","formatted"],[4,"ngFor","ngForOf"],[1,"data-panel"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Import Credentials to WIDE"),b(),D0(5,Fu0,2,1,"div",3)(6,Hu0,3,0,"div",4)(7,ju0,9,4,"div",4)(8,Uu0,14,1,"div",4),b()),i&2&&(F(5),Y("ngIf",s.config.logoUri),F(1),Y("ngIf",s.waitingForData),F(1),Y("ngIf",!s.waitingForData&&!s.exists),F(1),Y("ngIf",!s.waitingForData&&s.exists))},dependencies:[s1,C3,J1,o4,Qr],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]{margin-bottom:20px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:80vw;max-height:40vh;overflow:auto;background:#CBCBCB;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}']});let t=e;return t})();function Gu0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",12),b()),t&2){let n=b0(2);F(1),Y("src",n.config.logoUri,M3)}}function qu0(t,e){if(t&1&&(v(0,"div",9)(1,"h3"),C(2,"Store Data"),b(),D0(3,Gu0,2,1,"div",10),v(4,"p"),C(5,"This is the raw data that will be sent to WIDE"),b(),v(6,"div",11)(7,"pre")(8,"p"),C(9),E2(10,"json"),b()()()()),t&2){let n=b0();F(3),Y("ngIf",n.config.logoUri),F(6),W0(n3(10,2,n.data))}}function Wu0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",12),b()),t&2){let n=b0(2);F(1),Y("src",n.config.logoUri,M3)}}function $u0(t,e){if(t&1&&(v(0,"div",9)(1,"h3"),C(2,"Store Data"),b(),D0(3,Wu0,2,1,"div",10),v(4,"p"),C(5,"This is the data that will be sent to WIDE in its encrypted state."),b(),v(6,"p"),C(7,"WIDE will not have direct access to this data."),b(),v(8,"div",13)(9,"ul",14)(10,"li")(11,"b"),C(12,"Encrypted Claims "),v0(13,"i",15),C(14,":"),b(),C(15),b()()()()),t&2){let n=b0();F(3),Y("ngIf",n.config.logoUri),F(12),m1(" ",n.getEncryptedCredentialNames(n.data.encryptedData.credentials),"")}}function Ku0(t,e){t&1&&v0(0,"i",16)}function Qu0(t,e){t&1&&(v(0,"span"),C(1,"Upload to WIDE"),b())}function Yu0(t,e){t&1&&(v(0,"span"),C(1,"View Encrypted Data"),b())}function Ju0(t,e){t&1&&(v(0,"span"),C(1,"View Data Source"),b())}var YW=(()=>{let e=class e{constructor(r,i,s){this.router=r,this.toastNotificationService=i,this.wideStorageService=s,this.showEncryptedData=!1,this.uploading=!1,this.provider="",this.data={},this.dataSource={},this.referrer=""}ngOnInit(){this.provider="Provider Placeholder";let r=null;this.router.getCurrentNavigation()?r=this.router.getCurrentNavigation()?.extras.state:r=history.state,r||this.toastNotificationService.error("Catastrophic Error","Unable to retrieve state"),this.config=r.config,this.data={accountAddress:r.accountAddress,issuer:r.issuer,dataHash:r.rawDataHash,encryptedData:r.encryptedData},this.dataSource=r.dataSource,this.referrer=r.referrer}uploadData(){this.uploading=!0,this.wideStorageService.storeUserCredentials(this.data.accountAddress,this.data.issuer,this.data.dataHash,this.data.encryptedData).subscribe(r=>{let i=r.data;this.toastNotificationService.info("Success","Your encrypted data has been stored successfully"),window.opener&&!window.opener.closed&&window.opener.postMessage({status:"closed",data:i},this.referrer),window.close()},r=>{this.toastNotificationService.error("Error","Failed to store your encrypted data"),console.error(r)})}getEncryptedCredentialNames(r){return r.map(i=>i.name).join(", ")}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(T2),m0(h4))},e.\u0275cmp=n1({type:e,selectors:[["app-popup-store"]],standalone:!0,features:[r1],decls:12,vars:6,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","data-panel encrypted-data",4,"ngIf"],[1,"buttons"],[3,"click"],["class","mdi mdi-loading rotate-mdi",4,"ngIf"],[4,"ngIf"],[1,"btn-alt",3,"click"],[1,"data-panel","encrypted-data"],["class","logo-wrapper",4,"ngIf"],[1,"scrollable"],[1,"logo","logo-rp",3,"src"],[1,"credentials-panel"],[1,"credentials-header"],[1,"icon","mdi","mdi-lock","text-coral"],[1,"mdi","mdi-loading","rotate-mdi"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),D0(3,qu0,11,4,"div",3)(4,$u0,16,2,"div",3),v(5,"div",4)(6,"button",5),f0("click",function(){return s.uploadData()}),D0(7,Ku0,1,0,"i",6)(8,Qu0,2,0,"span",7),b(),v(9,"button",8),f0("click",function(){return s.showEncryptedData=!s.showEncryptedData}),D0(10,Yu0,2,0,"span",7)(11,Ju0,2,0,"span",7),b()()()),i&2&&(F(3),Y("ngIf",s.showEncryptedData),F(1),Y("ngIf",!s.showEncryptedData),F(3),Y("ngIf",s.uploading),F(1),Y("ngIf",!s.uploading),F(2),Y("ngIf",s.showEncryptedData),F(1),Y("ngIf",!s.showEncryptedData))},dependencies:[s1,J1,o4],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]{margin-bottom:20px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:80vw;max-height:40vh;overflow:auto;background:#CBCBCB;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]{background:#FFF;width:100%;padding:0;text-align:left;border-radius:5px;margin-bottom:40px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:25px;margin:0;list-style-type:none}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{position:relative;margin-right:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   app-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credential-enumeration[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-message[_ngcontent-%COMP%]{background:#F2F7FF;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-panel[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.encrypted[_ngcontent-%COMP%]{color:#ff7872}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.decrypted[_ngcontent-%COMP%]{color:#77d058}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ff7872}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}']});let t=e;return t})();function Xu0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",15),b()),t&2){let n=b0();F(1),Y("src",n.presentationConfig.logoUri,M3)}}function ed0(t,e){if(t&1){let n=r2();v(0,"div",16),f0("click",function(){let s=x1(n).$implicit,a=b0();return w1(a.credentialClick(s))}),v(1,"span",17),v0(2,"img",18),C(3),b()()}if(t&2){let n=e.$implicit,r=b0();F(2),Wr("src",r.getFaviconUrl(n.issuer),M3),F(1),m1(" ",n.label," ")}}function td0(t,e){if(t&1&&(v(0,"div"),v0(1,"app-wide-data-object",29),b()),t&2){let n=b0(3).$implicit;F(1),Y("data",n.decryptedValue)}}function nd0(t,e){if(t&1&&(v(0,"div"),v0(1,"app-wide-data-object",29),b()),t&2){let n=b0(3).$implicit;F(1),Y("data",n.decryptedValue)}}function rd0(t,e){if(t&1&&(v(0,"div"),C(1),b()),t&2){let n=b0(3).$implicit;F(1),m1(" ",n.decryptedValue," ")}}function id0(t,e){if(t&1&&(M4(0),D0(1,td0,2,1,"div",28)(2,nd0,2,1,"div",28)(3,rd0,2,1,"div",28),C4()),t&2){let n=e.ngIf;F(1),Y("ngIf",n==="object"),F(1),Y("ngIf",n==="array"),F(1),Y("ngIf",n==="other")}}function sd0(t,e){if(t&1&&(v(0,"div",27),D0(1,id0,4,3,"ng-container",28),b()),t&2){let n=b0().$implicit,r=b0(2);F(1),Y("ngIf",r.getValueType(n.decryptedValue))}}function ad0(t,e){t&1&&(v(0,"span"),v0(1,"i",32),C(2," Decrypt"),b())}function od0(t,e){t&1&&(v(0,"span"),v0(1,"i",33),C(2," Waiting for Metamask"),b())}function cd0(t,e){if(t&1){let n=r2();v(0,"div",30)(1,"button",31),f0("click",function(){x1(n);let i=b0().$implicit,s=b0(2);return w1(s.decryptProperty(i))}),D0(2,ad0,3,0,"span",28)(3,od0,3,0,"span",28),b()()}if(t&2){let n=b0().$implicit;F(2),Y("ngIf",!n.isDecrypting&&(n.status==0||!n.status)),F(1),Y("ngIf",n.isDecrypting&&n.status==1)}}function ld0(t,e){if(t&1&&(v(0,"div",22),v0(1,"div",23),v(2,"div",24),C(3),b(),D0(4,sd0,2,1,"div",25)(5,cd0,4,2,"div",26),b()),t&2){let n=e.$implicit;F(3),W0(n.name),F(1),Y("ngIf",n.status==2),F(1),Y("ngIf",!n.status||n.status<2)}}function hd0(t,e){if(t&1&&(v(0,"div",19)(1,"h3"),C(2),b(),v(3,"p"),C(4,"View credential details and identify the credential you would like to present."),b(),v(5,"p"),C(6,"Remember, WIDE does not have access to this data at any point."),b(),v(7,"div",20),D0(8,ld0,6,3,"div",21),b()()),t&2){let n=b0();F(2),W0(n.selectedCredential.issuer.label),F(6),Y("ngForOf",n.selectedCredential.data.credentials)}}var JW=(()=>{let e=class e{constructor(r,i,s,a,o){this.web3WalletService=r,this.router=i,this.wideStorageService=s,this.toastNotificationService=a,this.credentialHelperService=o,this.domainOrigin="",this.presentationConfig=null,this.credentialList=[],this.pageLoaded=!1,this.isProcessing=!1,this.showCredentialModal=!1,this.selectedCredential=void 0,this.account=null,this.credentialDetailLookup={}}ngOnInit(){return y0(this,null,function*(){let r=history.state;this.domainOrigin=r.domainOrigin,this.presentationConfig=r.presentationConfig,this.credentialList=r.credentialList,this.web3WalletService.isConnectedToWallet()&&(this.account=yield this.web3WalletService.getAccount()),this.pageLoaded=!0})}getFaviconUrl(r){return!r.startsWith("http://")&&!r.startsWith("https://")&&(r="http://"+r),`${new URL(r).origin}/favicon.ico`}credentialClick(r){return y0(this,null,function*(){let i=yield this.getCredentialsForIssuer(r.wideInternalId);this.selectedCredential={issuer:r,data:i},yield this.present(this.selectedCredential)})}decryptProperty(r){return y0(this,null,function*(){r.isDecrypting=!0,r.status=1;let i=yield this.web3WalletService.decryptData(r.val),s=JSON.parse(i);s&&s.hasOwnProperty(r.name)?(r.decryptedValue=s[r.name],r.status=2,this.toastNotificationService.info("Decryption Complete",`Successfully decrypted data for ${r.name}`)):(r.status=0,this.toastNotificationService.error("Failed Decrypting",`Unable to retrieve value from decrypted data for ${r.name}`),console.error("Unable to retrieve value from decrypted data. Returned value: ",s)),r.isDecrypting=!1})}decryptAll(r){return y0(this,null,function*(){let i=yield this.getCredentialsForIssuer(r.wideInternalId);if(!i){this.toastNotificationService.error("Cannot decrypt","Unable to find any credentials for this issuer");return}i.credentials.forEach(s=>{s.isDecrypting=!0,s.status=1}),r.decryptedData||(r.decryptedData=yield this.credentialHelperService.decryptCredential(i.payload)),i.credentials.forEach(s=>{s.decryptedValue=r.decryptedData[s.name],s.isDecrypting=!1,s.status=2}),this.toastNotificationService.info("Successful Decryption","Successfully decrypted all credentials")})}getCredentialsForIssuer(r){return y0(this,null,function*(){if(!this.account){this.toastNotificationService.error("Unable to retrieve credential","Please make sure your wallet is connected first");return}return this.credentialDetailLookup[r]||(this.credentialDetailLookup[r]=yield this.credentialHelperService.getCredentialsForIssuer(this.account,r)),this.credentialDetailLookup[r]})}present(r){return y0(this,null,function*(){yield this.decryptAll(r.issuer);let i=r.issuer,s=yield this.getCredentialsForIssuer(r.issuer.wideInternalId),a=r.issuer.decryptedData,o=yield this.credentialHelperService.processCredential(i,s,a,this.presentationConfig);this.router.navigateByUrl("present/confirm",{state:{processedCredential:o,presentationConfig:this.presentationConfig,domainOrigin:this.domainOrigin}})})}getValueType(r){return Array.isArray(r)?"array":typeof r=="object"&&r!==null?"object":"other"}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(G1),m0(h4),m0(T2),m0(ne))},e.\u0275cmp=n1({type:e,selectors:[["app-presentation-multi-select"]],standalone:!0,features:[r1],decls:28,vars:6,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","logo-wrapper",4,"ngIf"],[1,"align-justify"],[1,"align-left"],[1,"credentials-panel"],[1,"scroll"],["class","credential",3,"click",4,"ngFor","ngForOf"],[1,"buttons","vertical"],[3,"showModal"],["content","","class","credential-modal",4,"ngIf"],["buttons","",1,"buttons"],[3,"click"],[1,"btn-alt",3,"click"],[1,"logo","logo-rp",3,"src"],[1,"credential",3,"click"],[1,"label"],["width","16","height","16",3,"src"],["content","",1,"credential-modal"],[1,"scrollable","align-left"],["class","credential-property",4,"ngFor","ngForOf"],[1,"credential-property"],[1,"w-5"],[1,"w-25"],["class","w-70",4,"ngIf"],["class","w-70 align-center",4,"ngIf"],[1,"w-70"],[4,"ngIf"],[3,"data"],[1,"w-70","align-center"],[1,"btn-xs",3,"click"],[1,"mdi","mdi-lock"],[1,"mdi","mdi-loading","rotate-mdi"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Credentials Presentation Request"),b(),D0(5,Xu0,2,1,"div",3),M4(6),v(7,"p",4)(8,"b"),C(9),b(),C(10," is requesting you to present credentials"),b(),v(11,"p",5),C(12),b(),v(13,"p",5),C(14,"Please select one:"),b(),v(15,"div",6)(16,"div",7),D0(17,ed0,4,2,"div",8),b()(),v0(18,"div",9),C4(),b(),v(19,"app-wide-modal",10),D0(20,hd0,9,2,"div",11),v(21,"div",12)(22,"button",13),f0("click",function(){return s.decryptAll(s.selectedCredential.issuer)}),C(23,"Decrypt All"),b(),v(24,"button",14),f0("click",function(){return s.showCredentialModal=!1}),C(25,"Close"),b(),v(26,"button",13),f0("click",function(){return s.present(s.selectedCredential)}),C(27,"Present"),b()()()),i&2&&(F(5),Y("ngIf",s.presentationConfig.logoUri),F(4),W0(s.presentationConfig.rpName),F(3),m1("There are ",s.credentialList.length," credentials that match the required criteria"),F(5),Y("ngForOf",s.credentialList),F(2),Y("showModal",s.showCredentialModal&&s.selectedCredential),F(1),Y("ngIf",s.showCredentialModal&&s.selectedCredential))},dependencies:[s1,C3,J1,z5,Vv],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;background:#FAF7F6;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   p.align-left[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]{width:100%;padding:25px;text-align:left;border-radius:5px;margin-bottom:40px}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{max-height:50vh;overflow:auto}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]{background:#FFF;padding:15px;margin-bottom:10px;margin-right:15px;margin-top:0;border-radius:15px;list-style-type:none}.content[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]:hover{box-shadow:0 3px 8px #3e1b071a;cursor:pointer}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.buttons.vertical[_ngcontent-%COMP%]{flex-direction:column}.credential-modal[_ngcontent-%COMP%]{color:#000;background:#FFF;padding-top:25px;padding-bottom:25px}.credential-modal[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{background:#FAF7F6;max-height:60vh;overflow-y:auto}.credential-modal[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   .credential-property[_ngcontent-%COMP%]{color:#000;border-bottom:1px solid #FFF2F1;color:#727272;display:flex;align-items:center;min-height:40px;padding-left:15px;padding-right:15px}.credential-modal[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   .credential-property[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left}']});let t=e;return t})();function ud0(t,e){if(t&1&&(v(0,"div",1),v0(1,"img",5),b()),t&2){let n=b0();F(1),Y("src",n.config.logoUri,M3)}}function dd0(t,e){t&1&&(v(0,"div")(1,"p"),C(2,"Waiting for source to send data..."),b()())}function pd0(t,e){if(t&1){let n=r2();M4(0),v(1,"div",6)(2,"h3"),C(3,"Decrypt Credential"),b(),v(4,"p")(5,"b"),C(6),b(),C(7," ("),v(8,"i"),C(9),b(),C(10,") is attempting to update your "),v(11,"b"),C(12),b(),C(13," credential."),b(),v(14,"div",7)(15,"ul",8)(16,"li")(17,"b"),C(18,"Existing Claims:"),b(),C(19),b(),v(20,"li")(21,"b"),C(22,"Updating Claims:"),b(),C(23),b()()(),v(24,"p"),C(25,"WIDE does not have access to this data. Proceed to decrypt the "),v(26,"b"),C(27),b(),C(28," credential"),b()(),v(29,"div",9)(30,"button",10),f0("click",function(){x1(n);let i=b0(2);return w1(i.decryptCredential())}),C(31,"Proceed"),b()(),C4()}if(t&2){let n=b0(2);F(6),W0(n.config.source),F(3),W0(n.referrer),F(3),W0(n.issuer.label),F(7),m1(" ",n.getExistingCredentialNames(),""),F(4),m1(" ",n.getObjectKeys(n.payload),""),F(4),W0(n.issuer.label)}}function md0(t,e){if(t&1){let n=r2();M4(0),v(1,"div",6)(2,"h3"),C(3,"Decrypt Credential"),b(),v(4,"p"),C(5,"Unfortunately we were unable to locate the credential requested by "),v(6,"b"),C(7),b(),C(8," ("),v(9,"i"),C(10),b(),C(11,")."),b(),v(12,"p"),C(13,"Please refresh the "),v(14,"b"),C(15),b(),C(16," page and try again."),b()(),v(17,"div",9)(18,"button",10),f0("click",function(){x1(n);let i=b0(2);return w1(i.cancel("not_found"))}),C(19,"Return"),b()(),C4()}if(t&2){let n=b0(2);F(7),W0(n.config.source),F(3),W0(n.referrer),F(5),W0(n.config.source)}}function fd0(t,e){if(t&1&&(v(0,"div"),D0(1,pd0,32,6,"ng-container",4)(2,md0,20,3,"ng-container",4),b()),t&2){let n=b0();F(1),Y("ngIf",n.credential),F(1),Y("ngIf",!n.credential)}}function gd0(t,e){if(t&1&&(v(0,"div",14)(1,"h3"),C(2,"Updated Data"),b(),v(3,"p"),C(4,"This is the raw data you received from "),v(5,"i"),C(6),b(),C(7,", combined with the updated data."),b(),v(8,"p"),C(9,"WIDE does not have access to this data."),b(),v(10,"div",15)(11,"pre")(12,"p"),C(13),E2(14,"json"),b()()()()),t&2){let n=b0(2);F(6),W0(n.referrer),F(7),W0(n3(14,2,n.mergedData))}}function vd0(t,e){if(t&1&&v0(0,"app-tooltip",20),t&2){let n=b0().$implicit,r=b0(3);Gt("message","",n.key," has been ",r.hasChanged(n),"")}}function bd0(t,e){if(t&1&&(v(0,"tr")(1,"td")(2,"span",18),C(3),D0(4,vd0,1,2,"app-tooltip",19),b()(),v(5,"td"),C(6),b()()),t&2){let n=e.$implicit,r=b0(3);F(3),m1("",n.key," "),F(1),Y("ngIf",r.hasChanged(n)),F(2),W0(n.value)}}function xd0(t,e){if(t&1&&(v(0,"tr")(1,"td")(2,"span",18),C(3),v0(4,"app-tooltip",20),b()(),v(5,"td"),C(6),b()()),t&2){let n=b0().$implicit,r=b0(3);F(3),m1("",n.key," "),F(1),Gt("message","",n.key," has been ",r.hasChanged(n),""),F(2),W0(n.value)}}function wd0(t,e){if(t&1&&(M4(0),D0(1,xd0,7,4,"tr",4),C4()),t&2){let n=e.$implicit,r=b0(3);F(1),Y("ngIf",r.isDeleted(n))}}function yd0(t,e){if(t&1&&(v(0,"div",16)(1,"h3"),C(2,"Updated Data"),b(),v(3,"p"),C(4,"This is the raw data you received from "),v(5,"i"),C(6),b(),C(7,", combined with the updated data."),b(),v(8,"p"),C(9,"WIDE does not have access to this data."),b(),v(10,"div",15)(11,"table")(12,"tr")(13,"th"),C(14,"Property"),b(),v(15,"th"),C(16,"Value"),b()(),D0(17,bd0,7,3,"tr",17),E2(18,"keyvalue"),D0(19,wd0,2,1,"ng-container",17),E2(20,"keyvalue"),b()()()),t&2){let n=b0(2);F(6),W0(n.referrer),F(11),Y("ngForOf",n3(18,3,n.mergedData)),F(2),Y("ngForOf",n3(20,5,n.decryptedData))}}function zd0(t,e){if(t&1){let n=r2();v(0,"div"),D0(1,gd0,15,4,"div",11)(2,yd0,21,7,"div",12),v(3,"div",9)(4,"button",13),f0("click",function(){x1(n);let i=b0();return w1(i.showRawData=!i.showRawData)}),C(5,"View Raw Data"),b(),v(6,"button",10),f0("click",function(){x1(n);let i=b0();return w1(i.encryptData())}),C(7,"Encrypt"),b()()()}if(t&2){let n=b0();F(1),Y("ngIf",n.showRawData),F(1),Y("ngIf",!n.showRawData)}}var XW=(()=>{let e=class e{constructor(r,i,s,a,o){this.router=r,this.web3WalletService=i,this.toastNotificationService=s,this.credentialHelperService=a,this.wideStorageService=o,this.waitingForData=!0,this.payload={},this.config={},this.referrer="source",this.credential={},this.issuer={},this.showRawData=!1}ngOnInit(){return y0(this,null,function*(){let r=null;this.router.getCurrentNavigation()?r=this.router.getCurrentNavigation()?.extras.state:r=history.state,r?(this.referrer=this.getDomainFromURL(r.referrer),window.addEventListener("message",i=>y0(this,null,function*(){i.origin===this.referrer&&(this.config=i.data.config,this.payload=Object.fromEntries(Object.entries(i.data.payload).filter(([s,a])=>a!==null)),this.issuer=yield this.getIssuer(this.config.wideCredentialId),this.credential=yield this.getCredential(this.config.wideCredentialId),this.waitingForData=!1)})),window.opener.postMessage({status:"ready"},this.referrer)):console.error("Failed to retrieve window state")})}getIssuer(r){return y0(this,null,function*(){let i=yield this.web3WalletService.getAccount();if(!i)throw this.toastNotificationService.error("Error","Cannot find wallet address"),new Error("Account has not been set!");return yield this.credentialHelperService.getCredentialIssuerById(i,r)})}getCredential(r){return y0(this,null,function*(){let i=yield this.web3WalletService.getAccount();if(!i)throw this.toastNotificationService.error("Error","Cannot find wallet address"),new Error("Account has not been set!");return yield this.credentialHelperService.getCredentialsForIssuer(i,r)})}getObjectKeys(r){return Object.keys(r).join(", ")}decryptCredential(){return y0(this,null,function*(){if(!this.credential){this.toastNotificationService.error("Cannot decrypt","Unable to find any credentials for this issuer");return}this.decryptedData=yield this.credentialHelperService.decryptCredential(this.credential.payload),this.mergedData=c0(c0({},this.decryptedData),this.payload),this.toastNotificationService.info("Successful Decryption","Successfully decrypted all credentials")})}encryptData(){return y0(this,null,function*(){let r=yield this.web3WalletService.getAccount();if(!r){this.toastNotificationService.error("Error","Cannot find wallet address");return}let i=this.issuer,s=yield this.web3WalletService.encryptPayload(this.mergedData);if(!s)this.toastNotificationService.error("Error","Unable to encrypt your data");else{this.toastNotificationService.info("Success","Successfully encrypted your data");let a={state:{accountAddress:r,issuer:i,rawDataHash:this.web3WalletService.hashDataKeccak256(this.mergedData),encryptedData:s,dataSource:this.mergedData,referrer:this.referrer}};this.router.navigate(["update/store"],a)}})}getExistingCredentialNames(){return this.credential.credentials.map(r=>r.name).join(", ")}cancel(r){window.opener.postMessage({status:r},this.referrer),window.close()}getDomainFromURL(r){try{return new URL(r).origin}catch(i){throw console.error("Error parsing URL:",i),i}}isAdded(r){return!(r.key in this.decryptedData)}isUpdated(r){return r.key in this.decryptedData&&this.decryptedData[r.key]!==this.mergedData[r.key]}isDeleted(r){return!(r.key in this.mergedData)}hasChanged(r){return this.isAdded(r)?"added":this.isUpdated(r)?"updated":this.isDeleted(r)?"deleted":null}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(K2),m0(T2),m0(ne),m0(h4))},e.\u0275cmp=n1({type:e,selectors:[["app-popup-update-review"]],standalone:!0,features:[r1],decls:9,vars:4,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","logo-wrapper",4,"ngIf"],[4,"ngIf"],[1,"logo","logo-rp",3,"src"],["content","",1,"data-panel","raw"],[1,"credentials-panel"],[1,"credentials-header"],["buttons","",1,"buttons"],[3,"click"],["class","data-panel raw",4,"ngIf"],["class","data-panel formatted",4,"ngIf"],[1,"btn-alt",3,"click"],[1,"data-panel","raw"],[1,"scrollable"],[1,"data-panel","formatted"],[4,"ngFor","ngForOf"],[1,"property-field"],["class","tooltip","color","coral",3,"message",4,"ngIf"],["color","coral",1,"tooltip",3,"message"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Update WIDE Credential"),b(),D0(5,ud0,2,1,"div",3)(6,dd0,3,0,"div",4)(7,fd0,3,2,"div",4)(8,zd0,8,2,"div",4),b()),i&2&&(F(5),Y("ngIf",s.config.logoUri),F(1),Y("ngIf",s.waitingForData),F(1),Y("ngIf",!s.waitingForData&&!s.decryptedData),F(1),Y("ngIf",!s.waitingForData&&s.decryptedData&&s.mergedData))},dependencies:[s1,C3,J1,o4,Qr,Nv],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]{margin-bottom:20px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:80vw;max-height:50vh;overflow:auto;background:#CBCBCB;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .property-field[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .property-field[_ngcontent-%COMP%]{display:flex;gap:5px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]{background:#FFF;width:100%;padding:0;text-align:left;border-radius:5px;margin-bottom:40px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:25px;margin:0;list-style-type:none}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{position:relative;margin-right:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   app-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credential-enumeration[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-message[_ngcontent-%COMP%]{background:#F2F7FF;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-panel[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.encrypted[_ngcontent-%COMP%]{color:#ff7872}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.decrypted[_ngcontent-%COMP%]{color:#77d058}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ff7872}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}']});let t=e;return t})();var e$=(()=>{let e=class e{constructor(r,i,s){this.web3WalletService=r,this.historyService=i,this.router=s,this.showMetaMaskWalletMessage=!1,this.showHistoryKeyMessage=!1,this.accounts=[],this.referrer=""}ngOnInit(){this.referrer=document.referrer}connectWallet(){return y0(this,null,function*(){this.web3WalletService.isMetaMaskInstalled()?yield this.web3WalletService.connect().then(r=>y0(this,null,function*(){r?yield this.web3WalletService.getEthAddresses().then(i=>{i&&i?.length>0?(this.accounts=i,this.historyService.hasHistoryKey().subscribe({next:s=>{s.hasKey?this.router.navigateByUrl("update/review",{state:{referrer:this.referrer}}):this.showHistoryKeyMessage=!0}})):this.showMetaMaskWalletMessage=!0}).catch(i=>{console.error(i)}):(console.error("Failed to connect to Metamask"),this.showMetaMaskWalletMessage=!0)})):this.showMetaMaskWalletMessage=!0})}};e.\u0275fac=function(i){return new(i||e)(m0(K2),m0(g7),m0(G1))},e.\u0275cmp=n1({type:e,selectors:[["app-popup-update-start"]],standalone:!0,features:[r1],decls:16,vars:1,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],[1,"buttons"],[3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),v(3,"h2"),C(4,"Update WIDE Credential"),b(),v(5,"p"),C(6),b(),v(7,"p"),C(8,"If you did not trigger this process, please close the popup."),b(),v(9,"p"),C(10,"Note that WIDE does not have access to the details of this credential so you will be asked to decrypt it before it is modified."),b(),v(11,"p"),C(12,"Please connect your wallet associated with WIDE to proceed or click 'Get Started' to get on board."),b(),v(13,"div",3)(14,"button",4),f0("click",function(){return s.connectWallet()}),C(15,"Connect wallet"),b()()()),i&2&&(F(6),m1("An external provider wants to update an existing credential you have on your WIDE account. This request originated from ",s.referrer,"."))},styles:[".content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}"]});let t=e;return t})();function Md0(t,e){if(t&1&&(v(0,"div",9)(1,"h3"),C(2,"Encrypted Data"),b(),v(3,"p"),C(4,"This is the raw data that will be sent to WIDE"),b(),v(5,"div",10)(6,"pre")(7,"p"),C(8),E2(9,"json"),b()()()()),t&2){let n=b0();F(8),W0(n3(9,1,n.data))}}function Cd0(t,e){if(t&1&&(v(0,"div",9)(1,"h3"),C(2,"Data"),b(),v(3,"p"),C(4,"This is the data that will be sent to WIDE in its encrypted state."),b(),v(5,"p"),C(6,"WIDE will not have direct access to this data."),b(),v(7,"div",11)(8,"ul",12)(9,"li")(10,"b"),C(11,"Encrypted Claims "),v0(12,"i",13),C(13,":"),b(),C(14),b()()()()),t&2){let n=b0();F(14),m1(" ",n.getEncryptedCredentialNames(n.data.encryptedData.credentials),"")}}function Ad0(t,e){t&1&&v0(0,"i",14)}function _d0(t,e){t&1&&(v(0,"span"),C(1,"Upload to WIDE"),b())}function Ed0(t,e){t&1&&(v(0,"span"),C(1,"View Encrypted Data"),b())}function Sd0(t,e){t&1&&(v(0,"span"),C(1,"View Claims"),b())}var t$=(()=>{let e=class e{constructor(r,i,s){this.router=r,this.toastNotificationService=i,this.wideStorageService=s,this.showEncryptedData=!1,this.uploading=!1,this.provider="",this.data={},this.dataSource={},this.referrer=""}ngOnInit(){this.provider="Provider Placeholder";let r=null;this.router.getCurrentNavigation()?r=this.router.getCurrentNavigation()?.extras.state:r=history.state,r||this.toastNotificationService.error("Catastrophic Error","Unable to retrieve state"),this.data={accountAddress:r.accountAddress,issuer:r.issuer,dataHash:r.rawDataHash,encryptedData:r.encryptedData},this.dataSource=r.dataSource,this.referrer=r.referrer}uploadData(){this.uploading=!0,this.wideStorageService.updateUserCredentials(this.data.accountAddress,this.data.issuer,this.data.dataHash,this.data.encryptedData).subscribe(r=>{let i=r.data;this.toastNotificationService.info("Success","Your encrypted data has been updated successfully"),window.opener&&!window.opener.closed&&window.opener.postMessage({status:"closed",data:i},this.referrer),window.close()},r=>{this.toastNotificationService.error("Error","Failed to update your encrypted data"),console.error(r)})}getEncryptedCredentialNames(r){return r.map(i=>i.name).join(", ")}};e.\u0275fac=function(i){return new(i||e)(m0(G1),m0(T2),m0(h4))},e.\u0275cmp=n1({type:e,selectors:[["app-popup-update-store"]],standalone:!0,features:[r1],decls:12,vars:6,consts:[[1,"content"],[1,"logo-wrapper"],["src","assets/svg/wide_logo_gradient.svg",1,"logo"],["class","data-panel encrypted-data",4,"ngIf"],[1,"buttons"],[3,"click"],["class","mdi mdi-loading rotate-mdi",4,"ngIf"],[4,"ngIf"],[1,"btn-alt",3,"click"],[1,"data-panel","encrypted-data"],[1,"scrollable"],[1,"credentials-panel"],[1,"credentials-header"],[1,"icon","mdi","mdi-lock","text-coral"],[1,"mdi","mdi-loading","rotate-mdi"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),v0(2,"img",2),b(),D0(3,Md0,10,3,"div",3)(4,Cd0,15,1,"div",3),v(5,"div",4)(6,"button",5),f0("click",function(){return s.uploadData()}),D0(7,Ad0,1,0,"i",6)(8,_d0,2,0,"span",7),b(),v(9,"button",8),f0("click",function(){return s.showEncryptedData=!s.showEncryptedData}),D0(10,Ed0,2,0,"span",7)(11,Sd0,2,0,"span",7),b()()()),i&2&&(F(3),Y("ngIf",s.showEncryptedData),F(1),Y("ngIf",!s.showEncryptedData),F(3),Y("ngIf",s.uploading),F(1),Y("ngIf",!s.uploading),F(2),Y("ngIf",!s.showEncryptedData),F(1),Y("ngIf",s.showEncryptedData))},dependencies:[s1,J1,o4],styles:['@import"https://fonts.cdnfonts.com/css/glacial-indifference-2";@import"https://fonts.cdnfonts.com/css/inter";.text-coral[_ngcontent-%COMP%]{color:#ff7872}.text-success[_ngcontent-%COMP%]{color:#77d058}.coral[_ngcontent-%COMP%]{color:#faf7f6;background:#FF7872}.success[_ngcontent-%COMP%]{color:#faf7f6;background:#77D058}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}.rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.rotate-mdi[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite}.w-0[_ngcontent-%COMP%]{width:0%}.w-5[_ngcontent-%COMP%]{width:5%}.w-10[_ngcontent-%COMP%]{width:10%}.w-15[_ngcontent-%COMP%]{width:15%}.w-20[_ngcontent-%COMP%]{width:20%}.w-25[_ngcontent-%COMP%]{width:25%}.w-30[_ngcontent-%COMP%]{width:30%}.w-40[_ngcontent-%COMP%]{width:40%}.w-50[_ngcontent-%COMP%]{width:50%}.w-60[_ngcontent-%COMP%]{width:60%}.w-70[_ngcontent-%COMP%]{width:70%}.w-80[_ngcontent-%COMP%]{width:80%}.w-90[_ngcontent-%COMP%]{width:90%}.w-95[_ngcontent-%COMP%]{width:95%}.w-100[_ngcontent-%COMP%]{width:100%}.m-t-0[_ngcontent-%COMP%]{margin-top:0}.m-t-25[_ngcontent-%COMP%]{margin-top:25px}.p-t-25[_ngcontent-%COMP%]{padding-top:25px}.align-right[_ngcontent-%COMP%]{text-align:right}.align-left[_ngcontent-%COMP%]{text-align:left}.align-justify[_ngcontent-%COMP%]{text-align:justify}.align-center[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;align-content:center;flex-direction:column;max-width:480px;margin-left:auto;margin-right:auto;text-align:center}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.content[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo-rp[_ngcontent-%COMP%]{max-height:80px}.content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:25px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]{margin-bottom:20px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{width:80vw;max-height:50vh;overflow:auto;background:#CBCBCB;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]{background:#FFF;width:100%;padding:0;text-align:left;border-radius:5px;margin-bottom:40px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:25px;margin:0;list-style-type:none}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:30px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{position:relative;margin-right:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   app-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credential-enumeration[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-message[_ngcontent-%COMP%]{background:#F2F7FF;padding:10px;border-radius:10px}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .decrypt-panel[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.encrypted[_ngcontent-%COMP%]{color:#ff7872}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   i.decrypted[_ngcontent-%COMP%]{color:#77d058}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.content[_ngcontent-%COMP%]   .data-panel[_ngcontent-%COMP%]   .credentials-panel[_ngcontent-%COMP%]   .credentials-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ff7872}.buttons[_ngcontent-%COMP%], .modal-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}']});let t=e;return t})();var n$=[{path:"",component:AW,children:[{path:"dev/kitchen-sink",component:FD},{path:"dev/poc",component:GR},{path:"credentials/add",component:LW},{path:"credentials/oauth/signin",component:NW},{path:"credentials/oauth/redirect/:source",component:BW},{path:"credentials/oauth/store",component:ZW},{path:"credentials/poap",component:WW},{path:"credentials/poap/store",component:$W},{path:"history",component:jW},{path:"about",component:TW},{path:"support",component:kW},{path:"",component:CW}]},{path:"",component:_W,children:[{path:"getting-started",component:SW},{path:"present",component:DW},{path:"present/request",component:OW},{path:"present/multi-select",component:JW},{path:"present/confirm",component:FW},{path:"popup/start",component:KW},{path:"popup/review",component:QW},{path:"popup/store",component:YW},{path:"update/start",component:e$},{path:"update/review",component:XW},{path:"update/store",component:t$},{path:"**",component:qR}]}];function r$(t){return new K0(3e3,!1)}function kd0(){return new K0(3100,!1)}function Td0(){return new K0(3101,!1)}function Pd0(t){return new K0(3001,!1)}function Ld0(t){return new K0(3003,!1)}function Id0(t){return new K0(3004,!1)}function Dd0(t,e){return new K0(3005,!1)}function Od0(){return new K0(3006,!1)}function Fd0(){return new K0(3007,!1)}function Hd0(t,e){return new K0(3008,!1)}function Vd0(t){return new K0(3002,!1)}function Rd0(t,e,n,r,i){return new K0(3010,!1)}function Nd0(){return new K0(3011,!1)}function Bd0(){return new K0(3012,!1)}function Zd0(){return new K0(3200,!1)}function jd0(){return new K0(3202,!1)}function Ud0(){return new K0(3013,!1)}function Gd0(t){return new K0(3014,!1)}function qd0(t){return new K0(3015,!1)}function Wd0(t){return new K0(3016,!1)}function $d0(t,e){return new K0(3404,!1)}function Kd0(t){return new K0(3502,!1)}function Qd0(t){return new K0(3503,!1)}function Yd0(){return new K0(3300,!1)}function Jd0(t){return new K0(3504,!1)}function Xd0(t){return new K0(3301,!1)}function ep0(t,e){return new K0(3302,!1)}function tp0(t){return new K0(3303,!1)}function np0(t,e){return new K0(3400,!1)}function rp0(t){return new K0(3401,!1)}function ip0(t){return new K0(3402,!1)}function sp0(t,e){return new K0(3505,!1)}function At(t){switch(t.length){case 0:return new T9;case 1:return t[0];default:return new So(t)}}function v$(t,e,n=new Map,r=new Map){let i=[],s=[],a=-1,o=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==a,u=h&&o||new Map;c.forEach((p,g)=>{let f=g,w=p;if(g!=="offset")switch(f=t.normalizePropertyName(f,i),w){case Xd:w=n.get(g);break;case x8:w=r.get(g);break;default:w=t.normalizeStyleValue(g,f,w,i);break}u.set(f,w)}),h||s.push(u),o=u,a=l}),i.length)throw Kd0(i);return s}function vS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&QE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&QE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&QE(n,"destroy",t)));break}}function QE(t,e,n){let r=n.totalTime,i=!!n.disabled,s=bS(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),a=t._data;return a!=null&&(s._data=a),s}function bS(t,e,n,r,i="",s=0,a){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function P6(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function i$(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var ap0=(()=>typeof document>"u"?null:document.documentElement)();function xS(t){let e=t.parentNode||t.host||null;return e===ap0?null:e}function op0(t){return t.substring(1,6)=="ebkit"}var hr=null,s$=!1;function cp0(t){hr||(hr=lp0()||{},s$=hr.style?"WebkitAppearance"in hr.style:!1);let e=!0;return hr.style&&!op0(t)&&(e=t in hr.style,!e&&s$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in hr.style)),e}function lp0(){return typeof document<"u"?document.body:null}function b$(t,e){for(;e;){if(e===t)return!0;e=xS(e)}return!1}function x$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var wS=(()=>{let e=class e{validateStyleProperty(r){return cp0(r)}matchesElement(r,i){return!1}containsElement(r,i){return b$(r,i)}getParentElement(r){return xS(r)}query(r,i,s){return x$(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,a,o,c=[],l){return new T9(s,a)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})(),Lh=(()=>{let e=class e{};e.NOOP=new wS;let t=e;return t})(),pr=class{};var hp0=1e3,w$="{{",up0="}}",y$="ng-enter",nS="ng-leave",Wv="ng-trigger",Jv=".ng-trigger",a$="ng-animating",rS=".ng-animating";function l9(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iS(parseFloat(e[1]),e[2])}function iS(t,e){switch(e){case"s":return t*hp0;default:return t}}function Xv(t,e,n){return t.hasOwnProperty("duration")?t:dp0(t,e,n)}function dp0(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,a="";if(typeof t=="string"){let o=t.match(r);if(o===null)return e.push(r$(t)),{duration:0,delay:0,easing:""};i=iS(parseFloat(o[1]),o[2]);let c=o[3];c!=null&&(s=iS(parseFloat(c),o[4]));let l=o[5];l&&(a=l)}else i=t;if(!n){let o=!1,c=e.length;i<0&&(e.push(kd0()),o=!0),s<0&&(e.push(Td0()),o=!0),o&&e.splice(c,0,r$(t))}return{duration:i,delay:s,easing:a}}function Ih(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function z$(t){let e=new Map;return Object.keys(t).forEach(n=>{let r=t[n];e.set(n,r)}),e}function pp0(t){return t.length?t[0]instanceof Map?t:t.map(e=>z$(e)):[]}function Aa(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function re(t,e,n){e.forEach((r,i)=>{let s=yS(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function dr(t,e){e.forEach((n,r)=>{let i=yS(r);t.style[i]=""})}function _h(t){return Array.isArray(t)?t.length==1?t[0]:cD(t):t}function mp0(t,e,n){let r=e.params||{},i=M$(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(Pd0(s))})}var sS=new RegExp(`${w$}\\s*(.+?)\\s*${up0}`,"g");function M$(t){let e=[];if(typeof t=="string"){let n;for(;n=sS.exec(t);)e.push(n[1]);sS.lastIndex=0}return e}function Sh(t,e,n){let r=t.toString(),i=r.replace(sS,(s,a)=>{let o=e[a];return o==null&&(n.push(Ld0(a)),o=""),o.toString()});return i==r?t:i}function eb(t){let e=[],n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}var fp0=/-+([a-z0-9])/g;function yS(t){return t.replace(fp0,(...e)=>e[1].toUpperCase())}function gp0(t,e){return t===0||e===0}function vp0(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<e.length;s++){let a=e[s];i.forEach(o=>a.set(o,C$(t,o)))}}return e}function T6(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw Id0(e.type)}}function C$(t,e){return window.getComputedStyle(t)[e]}var bp0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),tb=class extends pr{normalizePropertyName(e,n){return yS(e)}normalizeStyleValue(e,n,r,i){let s="",a=r.toString().trim();if(bp0.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let o=r.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&i.push(Dd0(e,r))}return a+s}};var nb="*";function xp0(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>wp0(r,n,e)):n.push(t),n}function wp0(t,e,n){if(t[0]==":"){let c=yp0(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(qd0(t)),e;let i=r[1],s=r[2],a=r[3];e.push(o$(i,a));let o=i==nb&&a==nb;s[0]=="<"&&!o&&e.push(o$(a,i))}function yp0(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(Wd0(t)),"* => *"}}var $v=new Set(["true","1"]),Kv=new Set(["false","0"]);function o$(t,e){let n=$v.has(t)||Kv.has(t),r=$v.has(e)||Kv.has(e);return(i,s)=>{let a=t==nb||t==i,o=e==nb||e==s;return!a&&n&&typeof i=="boolean"&&(a=i?$v.has(t):Kv.has(t)),!o&&r&&typeof s=="boolean"&&(o=s?$v.has(e):Kv.has(e)),a&&o}}var A$=":self",zp0=new RegExp(`s*${A$}s*,?`,"g");function _$(t,e,n,r){return new aS(t).build(e,n,r)}var c$="",aS=class{constructor(e){this._driver=e}build(e,n,r){let i=new oS(n);return this._resetContextStyleTimingState(i),T6(this,_h(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=c$,e.collectedStyles=new Map,e.collectedStyles.set(c$,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Od0()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(n),o.type==0){let c=o,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,s.push(this.visitState(c,n))}),c.name=l}else if(o.type==1){let c=this.visitTransition(o,n);r+=c.queryCount,i+=c.depCount,a.push(c)}else n.errors.push(Fd0())}),{type:7,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,a=i||{};if(r.styles.forEach(o=>{o instanceof Map&&o.forEach(c=>{M$(c).forEach(l=>{a.hasOwnProperty(l)||s.add(l)})})}),s.size){let o=eb(s.values());n.errors.push(Hd0(e.name,o))}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=T6(this,_h(e.animation),n);return{type:1,matchers:xp0(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ur(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>T6(this,r,n)),options:ur(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(a=>{n.currentTime=r;let o=T6(this,a,n);return i=Math.max(i,n.currentTime),o});return n.currentTime=i,{type:3,steps:s,options:ur(e.options)}}visitAnimate(e,n){let r=_p0(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Yt({});if(s.type==5)i=this.visitKeyframes(s,n);else{let a=e.styles,o=!1;if(!a){o=!0;let l={};r.easing&&(l.easing=r.easing),a=Yt(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(a,n);c.isEmptyStep=o,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of i)typeof o=="string"?o===x8?r.push(o):n.errors.push(Vd0(o)):r.push(z$(o));let s=!1,a=null;return r.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s)){for(let c of o.values())if(c.toString().indexOf(w$)>=0){s=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),h=l.get(c),u=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(n.errors.push(Rd0(c,h.startTime,h.endTime,s,i)),u=!1),s=h.startTime),u&&l.set(c,{startTime:s,endTime:i}),n.options&&mp0(o,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Nd0()),r;let i=1,s=0,a=[],o=!1,c=!1,l=0,h=e.steps.map(A=>{let _=this._makeStyleAst(A,n),R=_.offset!=null?_.offset:Ap0(_.styles),G=0;return R!=null&&(s++,G=_.offset=R),c=c||G<0||G>1,o=o||G<l,l=G,a.push(G),_});c&&n.errors.push(Bd0()),o&&n.errors.push(Zd0());let u=e.steps.length,p=0;s>0&&s<u?n.errors.push(jd0()):s==0&&(p=i/(u-1));let g=u-1,f=n.currentTime,w=n.currentAnimateTimings,L=w.duration;return h.forEach((A,_)=>{let R=p>0?_==g?1:p*_:a[_],G=R*L;n.currentTime=f+w.delay+G,w.duration=G,this._validateStyleAst(A,n),A.offset=R,r.styles.push(A)}),r}visitReference(e,n){return{type:8,animation:T6(this,_h(e.animation),n),options:ur(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ur(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ur(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,a]=Mp0(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,P6(n.collectedStyles,n.currentQuerySelector,new Map);let o=T6(this,_h(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:o,originalSelector:e.selector,options:ur(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Ud0());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Xv(e.timings,n.errors,!0);return{type:12,animation:T6(this,_h(e.animation),n),timings:r,options:null}}};function Mp0(t){let e=!!t.split(/\s*,\s*/).find(n=>n==A$);return e&&(t=t.replace(zp0,"")),t=t.replace(/@\*/g,Jv).replace(/@\w+/g,n=>Jv+"-"+n.slice(1)).replace(/:animating/g,rS),[t,e]}function Cp0(t){return t?Ih(t):null}var oS=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Ap0(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function _p0(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Xv(t,e).duration;return YE(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=YE(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Xv(n,e);return YE(i.duration,i.delay,i.easing)}function ur(t){return t?(t=Ih(t),t.params&&(t.params=Cp0(t.params))):t={},t}function YE(t,e,n){return{duration:t,delay:e,easing:n}}function zS(t,e,n,r,i,s,a=null,o=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:o}}var kh=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Ep0=1,Sp0=":enter",kp0=new RegExp(Sp0,"g"),Tp0=":leave",Pp0=new RegExp(Tp0,"g");function E$(t,e,n,r,i,s=new Map,a=new Map,o,c,l=[]){return new cS().buildKeyframes(t,e,n,r,i,s,a,o,c,l)}var cS=class{buildKeyframes(e,n,r,i,s,a,o,c,l,h=[]){l=l||new kh;let u=new lS(e,n,l,i,s,h,[]);u.options=c;let p=c.delay?l9(c.delay):0;u.currentTimeline.delayNextStep(p),u.currentTimeline.setStyles([a],null,u.errors,c),T6(this,r,u);let g=u.timelines.filter(f=>f.containsAnimation());if(g.length&&o.size){let f;for(let w=g.length-1;w>=0;w--){let L=g[w];if(L.element===n){f=L;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([o],null,u.errors,c)}return g.length?g.map(f=>f.buildKeyframes()):[zS(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let a=typeof s=="number"?s:l9(Sh(s,i?.params??{},n.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,a=r.duration!=null?l9(r.duration):null,o=r.delay!=null?l9(r.delay):null;return a!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,a,o);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),T6(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==6&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rb);let a=l9(s.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>T6(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?l9(e.options.delay):0;e.steps.forEach(a=>{let o=n.createSubContext(e.options);s&&o.delayNextStep(s),T6(this,a,o),i=Math.max(i,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Sh(r,n.params,n.errors):r;return Xv(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==5?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,o=n.createSubContext().currentTimeline;o.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;o.forwardTime(l*s),o.setStyles(c.styles,c.easing,n.errors,n.options),o.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(o),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?l9(i.delay):0;s&&(n.previousNode.type===6||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=rb);let a=r,o=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=o.length;let c=null;o.forEach((l,h)=>{n.currentQueryIndex=h;let u=n.createSubContext(e.options,l);s&&u.delayNextStep(s),l===n.element&&(c=u.currentTimeline),T6(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let p=u.currentTimeline.currentTime;a=Math.max(a,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,a=Math.abs(s.duration),o=a*(n.currentQueryTotal-1),c=a*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=o-c;break;case"full":c=r.currentStaggerTime;break}let h=n.currentTimeline;c&&h.delayNextStep(c);let u=h.currentTime;T6(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-u+(i.startTime-r.currentTimeline.startTime)}},rb={},lS=class t{constructor(e,n,r,i,s,a,o,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ib(this._driver,n,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=l9(r.duration)),r.delay!=null&&(i.delay=l9(r.delay));let s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!n||!a.hasOwnProperty(o))&&(a[o]=Sh(s[o],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=rb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new hS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,a){let o=[];if(i&&o.push(this.element),e.length>0){e=e.replace(kp0,"."+this._enterClassName),e=e.replace(Pp0,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),o.push(...l)}return!s&&o.length==0&&a.push(Gd0(n)),o}},ib=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ep0,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||x8),this._currentKeyframe.set(n,x8);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},a=Lp0(e,this._globalTimelineStyles);for(let[o,c]of a){let l=Sh(c,s,r);this._pendingStyles.set(o,l),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??x8),this._updateStyle(o,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((o,c)=>{let l=Aa(o,new Map,this._backFill);l.forEach((h,u)=>{h===Xd?e.add(u):h===x8&&n.add(u)}),r||l.set("offset",c/this.duration),i.push(l)});let s=e.size?eb(e.values()):[],a=n.size?eb(n.values()):[];if(r){let o=i[0],c=new Map(o);o.set("offset",0),c.set("offset",1),i=[o,c]}return zS(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},hS=class extends ib{constructor(e,n,r,i,s,a,o=!1){super(e,n,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],a=r+n,o=n/a,c=Aa(e[0]);c.set("offset",0),s.push(c);let l=Aa(e[0]);l.set("offset",l$(o)),s.push(l);let h=e.length-1;for(let u=1;u<=h;u++){let p=Aa(e[u]),g=p.get("offset"),f=n+g*r;p.set("offset",l$(f/a)),s.push(p)}r=a,n=0,i="",e=s}return zS(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function l$(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Lp0(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r=r||e.keys();for(let s of r)n.set(s,x8)}else Aa(i,n)}),n}function h$(t,e,n,r,i,s,a,o,c,l,h,u,p){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:a,timelines:o,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:u,errors:p}}var JE={},sb=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return Ip0(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,a,o,c,l,h){let u=[],p=this.ast.options&&this.ast.options.params||JE,g=o&&o.params||JE,f=this.buildStyles(r,g,u),w=c&&c.params||JE,L=this.buildStyles(i,w,u),A=new Set,_=new Map,R=new Map,G=i==="void",K={params:Dp0(w,p),delay:this.ast.options?.delay},Z=h?[]:E$(e,n,this.ast.animation,s,a,f,L,K,l,u),$=0;if(Z.forEach(h0=>{$=Math.max(h0.duration+h0.delay,$)}),u.length)return h$(n,this._triggerName,r,i,G,f,L,[],[],_,R,$,u);Z.forEach(h0=>{let X=h0.element,H=P6(_,X,new Set);h0.preStyleProps.forEach(P=>H.add(P));let U=P6(R,X,new Set);h0.postStyleProps.forEach(P=>U.add(P)),X!==n&&A.add(X)});let n0=eb(A.values());return h$(n,this._triggerName,r,i,G,f,L,Z,n0,_,R,$)}};function Ip0(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function Dp0(t,e){let n=Ih(e);for(let r in t)t.hasOwnProperty(r)&&t[r]!=null&&(n[r]=t[r]);return n}var uS=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=Ih(this.defaultParams);return Object.keys(e).forEach(s=>{let a=e[s];a!==null&&(i[s]=a)}),this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,o)=>{a&&(a=Sh(a,i,n));let c=this.normalizer.normalizePropertyName(o,n);a=this.normalizer.normalizeStyleValue(o,c,a,n),r.set(o,a)})}),r}};function Op0(t,e,n){return new dS(t,e,n)}var dS=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new uS(i.style,s,r))}),u$(this.states,"true","1"),u$(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new sb(e,i,this.states))}),this.fallbackTransition=Fp0(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(a=>a.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function Fp0(t,e,n){let s={type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0};return new sb(t,s,e)}function u$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Hp0=new kh,pS=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=_$(this._driver,n,r,i);if(r.length)throw Qd0(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=v$(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),a,o=new Map;if(s?(a=E$(this._driver,n,s,y$,nS,new Map,new Map,r,Hp0,i),a.forEach(h=>{let u=P6(o,h.element,new Map);h.postStyleProps.forEach(p=>u.set(p,null))})):(i.push(Yd0()),a=[]),i.length)throw Jd0(i);o.forEach((h,u)=>{h.forEach((p,g)=>{h.set(g,this._driver.computeStyle(u,g,x8))})});let c=a.map(h=>{let u=o.get(h.element);return this._buildPlayer(h,new Map,u)}),l=At(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Xd0(e);return n}listen(e,n,r,i){let s=bS(n,"","","");return vS(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let a=i[0]||{};this.create(e,n,a);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},d$="ng-animate-queued",Vp0=".ng-animate-queued",XE="ng-animate-disabled",Rp0=".ng-animate-disabled",Np0="ng-star-inserted",Bp0=".ng-star-inserted",Zp0=[],S$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jp0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},J7="__ng_removed",Th=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Gp0(i),r){let s=Ih(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Eh="void",eS=new Th(Eh),mS=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,v7(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw ep0(r,n);if(r==null||r.length==0)throw tp0(n);if(!qp0(r))throw np0(r,n);let s=P6(this._elementListeners,e,[]),a={name:n,phase:r,callback:i};s.push(a);let o=P6(this._engine.statesByElement,e,new Map);return o.has(n)||(v7(e,Wv),v7(e,Wv+"-"+n),o.set(n,eS)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(a);c>=0&&s.splice(c,1),this._triggers.has(n)||o.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw rp0(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),a=new Ph(this.id,n,e),o=this._engine.statesByElement.get(e);o||(v7(e,Wv),v7(e,Wv+"-"+n),this._engine.statesByElement.set(e,o=new Map));let c=o.get(n),l=new Th(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),o.set(n,l),c||(c=eS),!(l.value===Eh)&&c.value===l.value){if(!Kp0(c.params,l.params)){let w=[],L=s.matchStyles(c.value,c.params,w),A=s.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{dr(e,L),re(e,A)})}return}let p=P6(this._engine.playersByElement,e,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==n&&w.queued&&w.destroy()});let g=s.matchTransition(c.value,l.value,e,l.params),f=!1;if(!g){if(!i)return;g=s.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:g,fromState:c,toState:l,player:a,isFallbackTransition:f}),f||(v7(e,d$),a.onStart(()=>{Ca(e,d$)})),a.onDone(()=>{let w=this.players.indexOf(a);w>=0&&this.players.splice(w,1);let L=this._engine.playersByElement.get(e);if(L){let A=L.indexOf(a);A>=0&&L.splice(A,1)}}),this.players.push(a),p.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Jv,!0);r.forEach(i=>{if(i[J7])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),a=new Map;if(s){let o=[];if(s.forEach((c,l)=>{if(a.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,Eh,i);h&&o.push(h)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),r&&At(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let c=this._triggers.get(a).fallbackTransition,l=r.get(a)||eS,h=new Th(Eh),u=new Ph(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:c,fromState:l,toState:h,player:u,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[J7];(!s||s===S$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){v7(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==r.triggerName){let c=bS(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,vS(r.player,o.phase,c,o.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},fS=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new mS(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,o=this.driver.getParentElement(n);for(;o;){let c=i.get(o);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),a=!0;break}o=this.driver.getParentElement(o)}a||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(Qv(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Qv(n))return;let s=n[J7];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),v7(e,XE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ca(e,XE))}removeNode(e,n,r){if(Qv(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[J7]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Qv(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Jv,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,rS,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return At(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[J7];if(n&&n.setForRemoval){if(e[J7]=S$,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(XE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Rp0,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];v7(i,Np0)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?At(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw ip0(e)}_flushAnimations(e,n){let r=new kh,i=[],s=new Map,a=[],o=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(M=>{h.add(M);let E=this.driver.query(M,Vp0,!0);for(let O=0;O<E.length;O++)h.add(E[O])});let u=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=f$(p,this.collectedEnterElements),f=new Map,w=0;g.forEach((M,E)=>{let O=y$+w++;f.set(E,O),M.forEach(S=>v7(S,O))});let L=[],A=new Set,_=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){let E=this.collectedLeaveElements[M],O=E[J7];O&&O.setForRemoval&&(L.push(E),A.add(E),O.hasAnimation?this.driver.query(E,Bp0,!0).forEach(S=>A.add(S)):_.add(E))}let R=new Map,G=f$(p,Array.from(A));G.forEach((M,E)=>{let O=nS+w++;R.set(E,O),M.forEach(S=>v7(S,O))}),e.push(()=>{g.forEach((M,E)=>{let O=f.get(E);M.forEach(S=>Ca(S,O))}),G.forEach((M,E)=>{let O=R.get(E);M.forEach(S=>Ca(S,O))}),L.forEach(M=>{this.processLeaveNode(M)})});let K=[],Z=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(n).forEach(O=>{let S=O.player,D=O.element;if(K.push(S),this.collectedEnterElements.length){let i0=D[J7];if(i0&&i0.setForMove){if(i0.previousTriggersValues&&i0.previousTriggersValues.has(O.triggerName)){let W=i0.previousTriggersValues.get(O.triggerName),q=this.statesByElement.get(O.element);if(q&&q.has(O.triggerName)){let a0=q.get(O.triggerName);a0.value=W,q.set(O.triggerName,a0)}}S.destroy();return}}let I=!u||!this.driver.containsElement(u,D),m=R.get(D),z=f.get(D),r0=this._buildInstruction(O,r,z,m,I);if(r0.errors&&r0.errors.length){Z.push(r0);return}if(I){S.onStart(()=>dr(D,r0.fromStyles)),S.onDestroy(()=>re(D,r0.toStyles)),i.push(S);return}if(O.isFallbackTransition){S.onStart(()=>dr(D,r0.fromStyles)),S.onDestroy(()=>re(D,r0.toStyles)),i.push(S);return}let T=[];r0.timelines.forEach(i0=>{i0.stretchStartingKeyframe=!0,this.disabledNodes.has(i0.element)||T.push(i0)}),r0.timelines=T,r.append(D,r0.timelines);let s0={instruction:r0,player:S,element:D};a.push(s0),r0.queriedElements.forEach(i0=>P6(o,i0,[]).push(S)),r0.preStyleProps.forEach((i0,W)=>{if(i0.size){let q=c.get(W);q||c.set(W,q=new Set),i0.forEach((a0,u0)=>q.add(u0))}}),r0.postStyleProps.forEach((i0,W)=>{let q=l.get(W);q||l.set(W,q=new Set),i0.forEach((a0,u0)=>q.add(u0))})});if(Z.length){let M=[];Z.forEach(E=>{M.push(sp0(E.triggerName,E.errors))}),K.forEach(E=>E.destroy()),this.reportError(M)}let $=new Map,n0=new Map;a.forEach(M=>{let E=M.element;r.has(E)&&(n0.set(E,E),this._beforeAnimationBuild(M.player.namespaceId,M.instruction,$))}),i.forEach(M=>{let E=M.element;this._getPreviousPlayers(E,!1,M.namespaceId,M.triggerName,null).forEach(S=>{P6($,E,[]).push(S),S.destroy()})});let h0=L.filter(M=>g$(M,c,l)),X=new Map;m$(X,this.driver,_,l,x8).forEach(M=>{g$(M,c,l)&&h0.push(M)});let U=new Map;g.forEach((M,E)=>{m$(U,this.driver,new Set(M),c,Xd)}),h0.forEach(M=>{let E=X.get(M),O=U.get(M);X.set(M,new Map([...E?.entries()??[],...O?.entries()??[]]))});let P=[],d=[],y={};a.forEach(M=>{let{element:E,player:O,instruction:S}=M;if(r.has(E)){if(h.has(E)){O.onDestroy(()=>re(E,S.toStyles)),O.disabled=!0,O.overrideTotalTime(S.totalTime),i.push(O);return}let D=y;if(n0.size>1){let m=E,z=[];for(;m=m.parentNode;){let r0=n0.get(m);if(r0){D=r0;break}z.push(m)}z.forEach(r0=>n0.set(r0,D))}let I=this._buildAnimation(O.namespaceId,S,$,s,U,X);if(O.setRealPlayer(I),D===y)P.push(O);else{let m=this.playersByElement.get(D);m&&m.length&&(O.parentPlayer=At(m)),i.push(O)}}else dr(E,S.fromStyles),O.onDestroy(()=>re(E,S.toStyles)),d.push(O),h.has(E)&&i.push(O)}),d.forEach(M=>{let E=s.get(M.element);if(E&&E.length){let O=At(E);M.setRealPlayer(O)}}),i.forEach(M=>{M.parentPlayer?M.syncPlayerEvents(M.parentPlayer):M.destroy()});for(let M=0;M<L.length;M++){let E=L[M],O=E[J7];if(Ca(E,nS),O&&O.hasAnimation)continue;let S=[];if(o.size){let I=o.get(E);I&&I.length&&S.push(...I);let m=this.driver.query(E,rS,!0);for(let z=0;z<m.length;z++){let r0=o.get(m[z]);r0&&r0.length&&S.push(...r0)}}let D=S.filter(I=>!I.destroyed);D.length?Wp0(this,E,D):this.processLeaveNode(E)}return L.length=0,P.forEach(M=>{this.players.push(M),M.onDone(()=>{M.destroy();let E=this.players.indexOf(M);this.players.splice(E,1)}),M.play()}),P}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let a=[];if(n){let o=this.playersByQueriedElement.get(e);o&&(a=o)}else{let o=this.playersByElement.get(e);if(o){let c=!s||s==Eh;o.forEach(l=>{l.queued||!c&&l.triggerName!=i||a.push(l)})}}return(r||i)&&(a=a.filter(o=>!(r&&r!=o.namespaceId||i&&i!=o.triggerName))),a}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,a=n.isRemovalTransition?void 0:e,o=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,h=l!==s,u=P6(r,l,[]);this._getPreviousPlayers(l,h,a,o,n.toState).forEach(g=>{let f=g.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),g.destroy(),u.push(g)})}dr(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,a){let o=n.triggerName,c=n.element,l=[],h=new Set,u=new Set,p=n.timelines.map(f=>{let w=f.element;h.add(w);let L=w[J7];if(L&&L.removedBeforeQueried)return new T9(f.duration,f.delay);let A=w!==c,_=$p0((r.get(w)||Zp0).map($=>$.getRealPlayer())).filter($=>{let n0=$;return n0.element?n0.element===w:!1}),R=s.get(w),G=a.get(w),K=v$(this._normalizer,f.keyframes,R,G),Z=this._buildPlayer(f,K,_);if(f.subTimeline&&i&&u.add(w),A){let $=new Ph(e,o,w);$.setRealPlayer(Z),l.push($)}return Z});l.forEach(f=>{P6(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>Up0(this.playersByQueriedElement,f.element,f))}),h.forEach(f=>v7(f,a$));let g=At(p);return g.onDestroy(()=>{h.forEach(f=>Ca(f,a$)),re(c,n.toStyles)}),u.forEach(f=>{P6(i,f,[]).push(g)}),g}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new T9(e.duration,e.delay)}},Ph=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new T9,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>vS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){P6(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Up0(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function Gp0(t){return t??null}function Qv(t){return t&&t.nodeType===1}function qp0(t){return t=="start"||t=="done"}function p$(t,e){let n=t.style.display;return t.style.display=e??"none",n}function m$(t,e,n,r,i){let s=[];n.forEach(c=>s.push(p$(c)));let a=[];r.forEach((c,l)=>{let h=new Map;c.forEach(u=>{let p=e.computeStyle(l,u,i);h.set(u,p),(!p||p.length==0)&&(l[J7]=jp0,a.push(l))}),t.set(l,h)});let o=0;return n.forEach(c=>p$(c,s[o++])),a}function f$(t,e){let n=new Map;if(t.forEach(o=>n.set(o,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function a(o){if(!o)return r;let c=s.get(o);if(c)return c;let l=o.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=a(l),s.set(o,c),c}return e.forEach(o=>{let c=a(o);c!==r&&n.get(c).push(o)}),n}function v7(t,e){t.classList?.add(e)}function Ca(t,e){t.classList?.remove(e)}function Wp0(t,e,n){At(n).onDone(()=>t.processLeaveNode(e))}function $p0(t){let e=[];return k$(t,e),e}function k$(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof So?k$(r.players,e):e.push(r)}}function Kp0(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function g$(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var _a=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new fS(e.body,n,r),this._timelineEngine=new pS(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let a=e+"-"+i,o=this._triggerCache[a];if(!o){let c=[],l=[],h=_$(this._driver,s,c,l);if(c.length)throw $d0(i,c);l.length&&void 0,o=Op0(i,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(n,i,o)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,a]=i$(r),o=i;this._timelineEngine.command(s,n,a,o)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[a,o]=i$(r);return this._timelineEngine.listen(a,n,o,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Qp0(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=tS(e[0]),e.length>1&&(r=tS(e[e.length-1]))):e instanceof Map&&(n=tS(e)),n||r?new Yp0(t,n,r):null}var Yp0=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._startStyles=i,this._endStyles=s,this._state=0;let a=e.initialStylesByElement.get(r);a||e.initialStylesByElement.set(r,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&re(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(re(this._element,this._initialStyles),this._endStyles&&(re(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(dr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),re(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function tS(t){let e=null;return t.forEach((n,r)=>{Jp0(r)&&(e=e||new Map,e.set(r,n))}),e}function Jp0(t){return t==="display"||t==="position"}var ab=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:C$(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ob=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return b$(e,n)}getParentElement(e){return xS(e)}query(e,n,r){return x$(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,a=[]){let o=i==0?"both":"forwards",c={duration:r,delay:i,fill:o};s&&(c.easing=s);let l=new Map,h=a.filter(g=>g instanceof ab);gp0(r,i)&&h.forEach(g=>{g.currentSnapshot.forEach((f,w)=>l.set(w,f))});let u=pp0(n).map(g=>Aa(g));u=vp0(e,u,l);let p=Qp0(e,u);return new ab(e,u,c,p)}};var Yv="@",T$="@.disabled",cb=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Yv&&n==T$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},gS=class extends cb{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Yv?n.charAt(1)=="."&&n==T$?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Yv){let i=Xp0(e),s=n.slice(1),a="";return s.charAt(0)!=Yv&&([s,a]=em0(s)),this.engine.listen(this.namespaceId,i,s,a,o=>{let c=o._data||-1;this.factory.scheduleListenerCallback(c,r,o)})}return this.delegate.listen(e,n,r)}};function Xp0(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function em0(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var lb=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let a=s?.parentNode(i);a&&s.removeChild(a,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,h=l.get(i);if(!h){let u=()=>l.delete(i);h=new cb(r,i,this.engine,u),l.set(i,h)}return h}let s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let o=l=>{Array.isArray(l)?l.forEach(o):this.engine.registerTrigger(s,a,e,l.name,l)};return n.data.animation.forEach(o),new gS(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var nm0=(()=>{let e=class e extends _a{constructor(r,i,s,a){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(X0(g4),X0(Lh),X0(pr),X0(C9))},e.\u0275prov=J0({token:e,factory:e.\u0275fac});let t=e;return t})();function rm0(){return new tb}function im0(t,e,n){return new lb(t,e,n)}var P$=[{provide:pr,useFactory:rm0},{provide:_a,useClass:nm0},{provide:Vt,useFactory:im0,deps:[Id,_a,V3]}],sm0=[{provide:Lh,useFactory:()=>new ob},{provide:mw,useValue:"BrowserAnimations"},...P$],L21=[{provide:Lh,useClass:wS},{provide:mw,useValue:"NoopAnimations"},...P$];function L$(){return[...sm0]}fI(uD,{providers:[$u(cI),$u(aD.forRoot(n$)),L$()]}).catch(t=>console.error(t));
